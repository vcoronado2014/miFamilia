{"version":3,"sources":["webpack:///src/app/contactabilidad/contactabilidad.page.html","webpack:///src/app/contactabilidad/contactabilidad.module.ts","webpack:///src/app/contactabilidad/contactabilidad.page.scss","webpack:///src/app/contactabilidad/contactabilidad.page.ts"],"names":["ContactabilidadPageModule","imports","forChild","path","component","declarations","ContactabilidadPage","navCtrl","utiles","servicioGeo","loading","formBuilder","activatedRoute","router","acceso","parametrosApp","alertController","patternOnlyLetter","expCelular","expPassword","expEmail","registro","estaCargando","tituloProgress","usuarioAps","usuarioApsRegistro","modificaRegistro","nombrePersona","queryParams","subscribe","params","usuario","localStorage","getItem","JSON","parse","Nombres","ApellidoPaterno","Id","cargarForma","forma","pattern","setValue","nombreSocial","Apodo","email","CorreoElectronico","telefono","TelefonoContacto","Contactabilidad","NombreSocial","Email","Telefono","USA_API_MANAGEMENT","create","cssClass","showBackdrop","spinner","duration","loader","controls","value","run","Rut","present","then","isAppOnDevice","postInformarPersona","response","datos","procesarRespuesta","error","console","log","message","dismiss","presentToast","postInformarPersonaNative","data","InformarPersonaResponse","RespuestaBase","correctoRayen","correctoRyf","Rayen","Descripcion","toUpperCase","Ryf","actualizarRegistro","obtenerContactabilidad","fechaNac","FechaNacimiento","toString","Activo","DiaNacimiento","date","MesNacimiento","month","AnioNacimiento","year","Eliminado","ModoRegistro","FechaBaja","postRegistroFamilia","respuesta","setItem","stringify","postRegistroFamiliaNative","contactabilidad","EtiquetaTelefono","usu","existe","usuarios","length","i","getContactabilidad","actualizarContactabilidad","getContactabilidadNative","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsCf,QAAaA,yBAAyB;AAAA;AAAA,KAAtC;;AAAaA,6BAAyB,6DArBrC,+DAAS;AACRC,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO,EAIP,0DAJO,EAKP,+EALO,EAMP,wEANO,EAOP,sEAPO,EAQP,wEARO,EASP,qEATO,EAUP,+EAVO,EAWP,6DAAaC,QAAb,CAAsB,CACpB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADoB,CAAtB,CAXO,CADD;AAmBRC,kBAAY,EAAE,CAAC,0EAAD;AAnBN,KAAT,CAqBqC,GAAzBL,yBAAyB,CAAzB;;;;;;;;;;;;;;;;ACtCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+HCIf;;;AAaA,QAAaM,mBAAmB;AAgB9B,mCACUC,OADV,EAESC,MAFT,EAGSC,WAHT,EAISC,OAJT,EAKUC,WALV,EAMSC,cANT,EAOUC,MAPV,EAQSC,MART,EASSC,aATT,EAUSC,eAVT,EAUyC;AAAA;;AAT/B,aAAAT,OAAA,GAAAA,OAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACC,aAAAC,WAAA,GAAAA,WAAA;AACD,aAAAC,cAAA,GAAAA,cAAA;AACC,aAAAC,MAAA,GAAAA,MAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,eAAA,GAAAA,eAAA,CAAgC,CAxBzC;;AACA,aAAAC,iBAAA,GAAoB,uFAApB;AACA,aAAAC,UAAA,GAAa,2CAAb;AACA,aAAAC,WAAA,GAAc,0CAAd;AACA,aAAAC,QAAA,GAAW,8BAAX,CAoByC,CAnBzC;;AACA,aAAAC,QAAA,GAAW,IAAX;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,cAAA,GAAiB,EAAjB;AACA,aAAAC,UAAA,GAAa,IAAb;AACA,aAAAC,kBAAA,GAAqB,IAArB;AACA,aAAAC,gBAAA,GAAmB,KAAnB;AACA,aAAAC,aAAA,GAAgB,EAAhB;AAaK;;AA3ByB;AAAA;AAAA,mCA6BnB;AAAA;;AACT,wDAAc,IAAd,EADS,CAET;;AAEA,eAAKf,cAAL,CAAoBgB,WAApB,CAAgCC,SAAhC,CAA0C,UAAAC,MAAM,EAAI;AAElD,gBAAIA,MAAM,IAAIA,MAAM,CAACC,OAArB,EAA8B;AAC5B,kBAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAJ,EAAsC;AACpC,qBAAI,CAACZ,QAAL,GAAgBa,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhB;AACD;;AAED,mBAAI,CAACT,UAAL,GAAkBU,IAAI,CAACC,KAAL,CAAWL,MAAM,CAACC,OAAlB,CAAlB;AACA,mBAAI,CAACJ,aAAL,GAAqB,KAAI,CAACH,UAAL,CAAgBY,OAAhB,GAA0B,GAA1B,GAAgC,KAAI,CAACZ,UAAL,CAAgBa,eAArE;;AACA,kBAAIL,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAJ,EAAwC;AACtC,qBAAI,CAACR,kBAAL,GAA0BS,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAA1B;AACD,eAT2B,CAU5B;;;AACA,kBAAI,KAAI,CAACT,UAAL,IAAmB,KAAI,CAACC,kBAAxB,IAA8C,KAAI,CAACJ,QAAvD,EAAiE;AAC/D,oBAAI,KAAI,CAACG,UAAL,CAAgBc,EAAhB,IAAsB,KAAI,CAACb,kBAAL,CAAwBa,EAAlD,EAAsD;AACpD,uBAAI,CAACZ,gBAAL,GAAwB,IAAxB;AACD;AACF,eAf2B,CAgB5B;;AACD;AAEF,WArBD,EAJS,CA0BT;;AACA,eAAKa,WAAL;AACD;AAzD6B;AAAA;AAAA,sCA0DhB;AACZ,eAAKC,KAAL,GAAa,IAAI,wDAAJ,CAAc;AACzB,4BAAgB,IAAI,0DAAJ,CAAgB,EAAhB,CADS;AAEzB,qBAAS,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWC,OAAX,CAAmB,KAAKrB,QAAxB,CAAD,CAApB,CAFgB;AAGzB,wBAAY,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWqB,OAAX,CAAmB,KAAKvB,UAAxB,CAAD,CAApB;AAHa,WAAd,CAAb,CADY,CAMZ;;AACA,cAAI,KAAKQ,gBAAT,EAA2B;AACzB,gBAAI,KAAKL,QAAL,IAAiB,KAAKA,QAAL,IAAiB,IAAtC,EAA4C;AAC1C,mBAAKmB,KAAL,CAAWE,QAAX,CAAoB;AAClBC,4BAAY,EAAE,KAAKtB,QAAL,CAAcuB,KADV;AAElBC,qBAAK,EAAE,KAAKxB,QAAL,CAAcyB,iBAFH;AAGlBC,wBAAQ,EAAE,KAAK1B,QAAL,CAAc2B,gBAAd,GAAiC,KAAK3B,QAAL,CAAc2B,gBAA/C,GAAkE;AAH1D,eAApB;AAKD;AACF,WARD,MASK;AACH;AACA,gBAAI,KAAKxB,UAAL,CAAgByB,eAAhB,IAAmC,IAAvC,EAA6C;AAC3C,mBAAKT,KAAL,CAAWE,QAAX,CAAoB;AAClBC,4BAAY,EAAE,KAAKnB,UAAL,CAAgByB,eAAhB,CAAgCC,YAD5B;AAElBL,qBAAK,EAAE,KAAKrB,UAAL,CAAgByB,eAAhB,CAAgCE,KAFrB;AAGlBJ,wBAAQ,EAAE,KAAKvB,UAAL,CAAgByB,eAAhB,CAAgCG,QAAhC,GAA2C,KAAK5B,UAAL,CAAgByB,eAAhB,CAAgCG,QAA3E,GAAsF;AAH9E,eAApB;AAKD;AACF;AACF;AApF6B;AAAA;AAAA,mCAqFb;;;;;;;;;yBACX,KAAKrC,aAAL,CAAmBsC,kBAAnB,E;;;;;;AACW,2BAAM,KAAK3C,OAAL,CAAa4C,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE,IAH4B;AAIrC;AACAC,8BAAQ,EAAE;AAL2B,qBAApB,CAAN;;;AAATC,0B;AAOJ,yBAAKrC,YAAL,GAAoB,IAApB;AACA,yBAAKC,cAAL,GAAsB,gCAAtB,C,CAEA;;AACIsB,yB,GAAQ,KAAKL,KAAL,CAAWoB,QAAX,CAAoBf,KAApB,GAA4B,KAAKL,KAAL,CAAWoB,QAAX,CAAoBf,KAApB,CAA0BgB,KAAtD,GAA8D,E;AACtElB,gC,GAAe,KAAKH,KAAL,CAAWoB,QAAX,CAAoBjB,YAApB,GAAmC,KAAKH,KAAL,CAAWoB,QAAX,CAAoBjB,YAApB,CAAiCkB,KAApE,GAA4E,E;AAC3Fd,4B,GAAW,KAAKP,KAAL,CAAWoB,QAAX,CAAoBb,QAApB,GAA+B,KAAKP,KAAL,CAAWoB,QAAX,CAAoBb,QAApB,CAA6Bc,KAA5D,GAAoE,E,EACnF;AACA;;AACIC,uB,GAAM,KAAKtC,UAAL,CAAgBuC,G;;AAC1B,2BAAMJ,MAAM,CAACK,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKzD,MAAL,CAAY0D,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKzD,WAAL,CAAiB0D,mBAAjB,CAAqCL,GAArC,EAA0CnB,YAA1C,EAAwDE,KAAxD,EAA+DE,QAA/D,EAAyE,sBAAzE,EAAiGlB,SAAjG,CAA2G,UAACuC,QAAD,EAAmB;AAC5H;AACA,wCAAIC,KAAK,GAAGD,QAAZ;;AACA,0CAAI,CAACE,iBAAL,CAAuBD,KAAvB,EAA8BV,MAA9B,EAAsChB,YAAtC,EAAoDI,QAApD,EAA8DF,KAA9D,EAAqEiB,GAArE;AAED,mCALD,EAKG,UAAAS,KAAK,EAAI;AACVC,2CAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACA,0CAAI,CAACpD,YAAL,GAAoB,KAApB;AACAqC,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACpD,cAAL,GAAsB,EAAtB;;AACA,0CAAI,CAACf,MAAL,CAAYoE,YAAZ,CAAyB,sEAAzB,EAAiG,QAAjG,EAA2G,IAA3G;AACD,mCAXD;AAYD,iCAdD,MAeK;AACH;AACA,uCAAKnE,WAAL,CAAiBoE,yBAAjB,CAA2Cf,GAA3C,EAAgDnB,YAAhD,EAA8DE,KAA9D,EAAqEE,QAArE,EAA+E,sBAA/E,EAAuGkB,IAAvG,CAA4G,UAACG,QAAD,EAAmB;AAC7H;AACA,wCAAIC,KAAK,GAAGnC,IAAI,CAACC,KAAL,CAAWiC,QAAQ,CAACU,IAApB,CAAZ;;AACA,0CAAI,CAACR,iBAAL,CAAuBD,KAAvB,EAA8BV,MAA9B,EAAsChB,YAAtC,EAAoDI,QAApD,EAA8DF,KAA9D,EAAqEiB,GAArE;AAED,mCALD,WAKS,UAAAS,KAAK,EAAI;AAChBC,2CAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACA,0CAAI,CAACpD,YAAL,GAAoB,KAApB;AACAqC,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACpD,cAAL,GAAsB,EAAtB;;AACA,0CAAI,CAACf,MAAL,CAAYoE,YAAZ,CAAyB,sEAAzB,EAAiG,QAAjG,EAA2G,IAA3G;AACD,mCAXD;AAYD;;AA9BqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;AAkCA;AACA,yBAAKpE,MAAL,CAAYoE,YAAZ,CAAyB,uCAAzB,EAAkE,QAAlE,EAA4E,IAA5E;;;;;;;;;AAGH;AA9I6B;AAAA;AAAA,0CA+INE,IA/IM,EA+IApE,OA/IA,EA+ISiC,YA/IT,EA+IuBI,QA/IvB,EA+IiCF,KA/IjC,EA+IwCiB,GA/IxC,EA+I6C;;;;;;;AACzE;AACA,wBAAIgB,IAAJ,EAAU;AACR,0BAAIA,IAAI,CAACC,uBAAT,EAAkC;AAChC,4BAAID,IAAI,CAACC,uBAAL,CAA6BC,aAAjC,EAAgD;AAC9C;AACA;AACA;AACIC,uCAJ0C,GAI1B,KAJ0B;AAK1CC,qCAL0C,GAK5B,KAL4B;;AAM9C,8BAAIJ,IAAI,CAACC,uBAAL,CAA6BC,aAA7B,CAA2CG,KAA/C,EAAsD;AACpD,gCAAIL,IAAI,CAACC,uBAAL,CAA6BC,aAA7B,CAA2CG,KAA3C,CAAiDC,WAAjD,CAA6DC,WAA7D,MAA8E,qBAAlF,EAAyG;AACvGJ,2CAAa,GAAG,IAAhB,CADuG,CAEvG;AACD;AACF;;AACD,8BAAIH,IAAI,CAACC,uBAAL,CAA6BC,aAA7B,CAA2CM,GAA/C,EAAoD;AAClD,gCAAIR,IAAI,CAACC,uBAAL,CAA6BC,aAA7B,CAA2CM,GAA3C,CAA+CF,WAA/C,CAA2DC,WAA3D,MAA4E,qBAAhF,EAAuG;AACrGH,yCAAW,GAAG,IAAd,CADqG,CAErG;AACD;AACF;;AACD,8BAAIA,WAAW,IAAID,aAAnB,EAAkC;AAChC,iCAAK3D,YAAL,GAAoB,KAApB;AACA,iCAAKC,cAAL,GAAsB,EAAtB;AACAb,mCAAO,CAACiE,OAAR;AACA,iCAAKnE,MAAL,CAAYoE,YAAZ,CAAyB,kCAAzB,EAA6D,QAA7D,EAAuE,IAAvE,EAJgC,CAKhC;;AACA,gCAAI,KAAKlD,gBAAT,EAA2B;AACzB,mCAAK6D,kBAAL,CAAwB5C,YAAxB,EAAsCI,QAAtC;AACD,6BAR+B,CAShC;AACA;;;AACA,iCAAKyC,sBAAL,CAA4B1B,GAA5B;AACD,2BAZD,MAaK;AACH,iCAAKxC,YAAL,GAAoB,KAApB;AACAZ,mCAAO,CAACiE,OAAR;AACA,iCAAKpD,cAAL,GAAsB,EAAtB;AACA,iCAAKf,MAAL,CAAYoE,YAAZ,CAAyB,+BAAzB,EAA0D,QAA1D,EAAoE,IAApE;AACD;AACF,yBArCD,MAsCK;AACH,+BAAKtD,YAAL,GAAoB,KAApB;AACAZ,iCAAO,CAACiE,OAAR;AACA,+BAAKpD,cAAL,GAAsB,EAAtB;AACA,+BAAKf,MAAL,CAAYoE,YAAZ,CAAyB,+BAAzB,EAA0D,QAA1D,EAAoE,IAApE;AACD;AACF,uBA7CD,MA8CK;AACH,6BAAKtD,YAAL,GAAoB,KAApB;AACAZ,+BAAO,CAACiE,OAAR;AACA,6BAAKpD,cAAL,GAAsB,EAAtB;AACA,6BAAKf,MAAL,CAAYoE,YAAZ,CAAyB,+BAAzB,EAA0D,QAA1D,EAAoE,IAApE;AACD;AACF,qBArDD,MAsDK;AACH,2BAAKtD,YAAL,GAAoB,KAApB;AACAZ,6BAAO,CAACiE,OAAR;AACA,2BAAKnE,MAAL,CAAYoE,YAAZ,CAAyB,+BAAzB,EAA0D,QAA1D,EAAoE,IAApE;AACA,2BAAKrD,cAAL,GAAsB,EAAtB;AACD;;;;;;;;;AACF;AA7M6B;AAAA;AAAA,2CA+MLoB,YA/MK,EA+MSI,QA/MT,EA+MmB;;;;;;;;;AAC3C0C,4B,GAAW,mCAAM,E;;AACrB,wBAAI,KAAKpE,QAAL,CAAcqE,eAAlB,EAAmC;AACjCD,8BAAQ,GAAG,mCAAM,CAAC,KAAKpE,QAAL,CAAcqE,eAAf,CAAjB;AACD,qB,CACD;;;AACA,yBAAKrE,QAAL,CAAcuB,KAAd,GAAsBD,YAAtB;AACA,yBAAKtB,QAAL,CAAc2B,gBAAd,GAAiCD,QAAjC,C,CACA;;AACA,yBAAK1B,QAAL,CAAciB,EAAd,GAAmB,KAAKjB,QAAL,CAAciB,EAAd,CAAiBqD,QAAjB,EAAnB;AACA,yBAAKtE,QAAL,CAAcuE,MAAd,GAAuB,KAAKvE,QAAL,CAAcuE,MAAd,CAAqBD,QAArB,EAAvB;AACA,yBAAKtE,QAAL,CAAcwE,aAAd,GAA8BJ,QAAQ,CAACK,IAAT,GAAgBH,QAAhB,EAA9B;AACA,yBAAKtE,QAAL,CAAc0E,aAAd,GAA8B,CAACN,QAAQ,CAACO,KAAT,KAAmB,CAApB,EAAuBL,QAAvB,EAA9B;AACA,yBAAKtE,QAAL,CAAc4E,cAAd,GAA+BR,QAAQ,CAACS,IAAT,GAAgBP,QAAhB,EAA/B;AACA,yBAAKtE,QAAL,CAAc8E,SAAd,GAA0B,KAAK9E,QAAL,CAAc8E,SAAd,CAAwBR,QAAxB,EAA1B;AACA,yBAAKtE,QAAL,CAAc+E,YAAd,GAA6B,KAAK/E,QAAL,CAAc+E,YAAd,CAA2BT,QAA3B,EAA7B;AACA,yBAAKtE,QAAL,CAAcgF,SAAd,GAA0B,IAA1B;;AAEa,2BAAM,KAAK3F,OAAL,CAAa4C,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATE,0B;AAKJ,yBAAKrC,YAAL,GAAoB,IAApB;AACA,yBAAKC,cAAL,GAAsB,gCAAtB;;AACA,2BAAMoC,MAAM,CAACK,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKzD,MAAL,CAAY0D,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKzD,WAAL,CAAiB6F,mBAAjB,CAAqC,KAAKjF,QAA1C,EAAoDQ,SAApD,CAA8D,UAACiD,IAAD,EAAU;AACtE,wCAAIyB,SAAS,GAAGzB,IAAhB;AACA9C,gDAAY,CAACwE,OAAb,CAAqB,UAArB,EAAiCtE,IAAI,CAACuE,SAAL,CAAeF,SAAf,CAAjC;AACA5C,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyB,kCAAzB,EAA6D,QAA7D,EAAuE,IAAvE;AACD,mCAND,EAOE,UAAAL,KAAK,EAAI;AACPZ,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyBL,KAAzB,EAAgC,QAAhC,EAA0C,IAA1C;AACD,mCAXH;AAYD,iCAdD,MAeK;AACH;AACA,uCAAK9D,WAAL,CAAiBiG,yBAAjB,CAA2C,KAAKrF,QAAhD,EAA0D4C,IAA1D,CAA+D,UAACa,IAAD,EAAU;AACvE,wCAAIyB,SAAS,GAAGrE,IAAI,CAACC,KAAL,CAAW2C,IAAI,CAACA,IAAhB,CAAhB;AACA9C,gDAAY,CAACwE,OAAb,CAAqB,UAArB,EAAiCtE,IAAI,CAACuE,SAAL,CAAeF,SAAf,CAAjC;AACA5C,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyB,kCAAzB,EAA6D,QAA7D,EAAuE,IAAvE;AAED,mCAPD,WAOS,UAAAL,KAAK,EAAI;AAChBZ,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyBL,KAAzB,EAAgC,QAAhC,EAA0C,IAA1C;AACD,mCAXD;AAYD;;AA9BqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAgCD;AAxQ6B;AAAA;AAAA,kDAyQJxC,OAzQI,EAyQKY,YAzQL,EAyQmBI,QAzQnB,EAyQ6BF,KAzQ7B,EAyQoC;AAChE;AACA,cAAI8D,eAAe,GAAG;AACpB5C,eAAG,EAAEhC,OAAO,CAACgC,GADO;AAEpBzB,cAAE,EAAEP,OAAO,CAACO,EAFQ;AAGpBY,wBAAY,EAAEP,YAHM;AAIpBS,oBAAQ,EAAEL,QAJU;AAKpBI,iBAAK,EAAEN,KALa;AAMpB+D,4BAAgB,EAAE;AANE,WAAtB;;AASA,cAAI5E,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAJ,EAAwC;AACtC,gBAAI4E,GAAG,GAAG3E,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAV;;AACA,gBAAI4E,GAAJ,EAAS;AACP,kBAAIA,GAAG,CAACvE,EAAJ,IAAUP,OAAO,CAACO,EAAtB,EAA0B;AACxBuE,mBAAG,CAAC5D,eAAJ,GAAsB0D,eAAtB;AACA3E,4BAAY,CAACwE,OAAb,CAAqB,YAArB,EAAmCtE,IAAI,CAACuE,SAAL,CAAeI,GAAf,CAAnC;AACD;AACF;AACF;;AACD,cAAI7E,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAJ,EAA6C;AAC3C,gBAAI6E,MAAM,GAAG,KAAb;AACA,gBAAIC,QAAQ,GAAG7E,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAX,CAAf;;AACA,gBAAI8E,QAAQ,IAAIA,QAAQ,CAACC,MAAT,GAAkB,CAAlC,EAAqC;AACnC,mBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,QAAQ,CAACC,MAA7B,EAAqCC,CAAC,EAAtC,EAA0C;AACxC,oBAAIF,QAAQ,CAACE,CAAD,CAAR,CAAY3E,EAAZ,IAAkBP,OAAO,CAACO,EAA9B,EAAkC;AAChCyE,0BAAQ,CAACE,CAAD,CAAR,CAAYhE,eAAZ,GAA8B0D,eAA9B;AACAG,wBAAM,GAAG,IAAT;AACD;AACF;AACF;;AACD,gBAAIA,MAAJ,EAAY;AACV9E,0BAAY,CAACwE,OAAb,CAAqB,iBAArB,EAAwCtE,IAAI,CAACuE,SAAL,CAAeM,QAAf,CAAxC;AACD;AACF;AAEF;AA7S6B;AAAA;AAAA,+CA8SDjD,GA9SC,EA8SI;;;;;;;;;;AACnB,2BAAM,KAAKpD,OAAL,CAAa4C,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATE,0B;AAKJ,yBAAKrC,YAAL,GAAoB,IAApB;AACA,yBAAKC,cAAL,GAAsB,0BAAtB;;AAEA,2BAAMoC,MAAM,CAACK,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKzD,MAAL,CAAY0D,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKzD,WAAL,CAAiByG,kBAAjB,CAAoCpD,GAApC,EAAyCjC,SAAzC,CAAmD,UAACiD,IAAD,EAAU;AAC3D,wCAAIyB,SAAS,GAAGzB,IAAhB;AACAnB,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAY2G,yBAAZ,CAAsCZ,SAAtC;AACD,mCALD,EAME,UAAAhC,KAAK,EAAI;AACPZ,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyBL,KAAzB,EAAgC,QAAhC,EAA0C,IAA1C;AACD,mCAVH;AAWD,iCAbD,MAcK;AACH;AACA,uCAAK9D,WAAL,CAAiB2G,wBAAjB,CAA0CtD,GAA1C,EAA+CG,IAA/C,CAAoD,UAACa,IAAD,EAAU;AAC5D,wCAAIyB,SAAS,GAAGrE,IAAI,CAACC,KAAL,CAAW2C,IAAI,CAACA,IAAhB,CAAhB;AACAnB,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAY2G,yBAAZ,CAAsCZ,SAAtC;AAED,mCAND,WAMS,UAAAhC,KAAK,EAAI;AAChBZ,0CAAM,CAACgB,OAAP;AACA,0CAAI,CAACrD,YAAL,GAAoB,KAApB;;AACA,0CAAI,CAACd,MAAL,CAAYoE,YAAZ,CAAyBL,KAAzB,EAAgC,QAAhC,EAA0C,IAA1C;AACD,mCAVD;AAWD;;AA5BqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAgCD;AAvV6B;AAAA;AAAA,4BAyVtB;AAAE,iBAAO,KAAK/B,KAAL,CAAWoB,QAAlB;AAA6B;AAzVT;;AAAA;AAAA,OAAhC;;;;cAiBqB;;cACF;;cACK;;cACJ;;cACK;;cACE;;cACP;;cACD;;cACO;;cACE;;;;AA1BftD,uBAAmB,6DAL/B,gEAAU;AACT+G,cAAQ,EAAE,qBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,8GAFS;;;;AAAA,KAAV,CAK+B,GAAnBhH,mBAAmB,CAAnB","file":"contactabilidad-contactabilidad-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"back-app\\\">\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/familia\\\" class=\\\"fcw\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"fcw\\\">Configurar integrante</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-progress [mostrar]=\\\"estaCargando\\\" [titulo]=\\\"tituloProgress\\\"></app-progress>\\n  <div [hidden]=\\\"estaCargando\\\" class=\\\"ion-padding\\\" style=\\\"margin-top: 15px;\\\">\\n    <form [formGroup]=\\\"forma\\\" novalidate>\\n      <ion-item lines=\\\"none\\\" style=\\\"--ion-item-background: transparent; --padding-start:0px;\\\">\\n        <ion-avatar slot=\\\"start\\\" style=\\\"margin-top: -10px;\\\">\\n          <img *ngIf=\\\"usuarioAps.UrlImagen != ''\\\" src={{usuarioAps.UrlImagen}}>\\n          <img *ngIf=\\\"usuarioAps.UrlImagen == ''\\\" src=\\\"../assets/img/no-imagen.jpg\\\">\\n        </ion-avatar>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Nombre social</mat-label>\\n          <input matInput placeholder=\\\"Nombre social\\\" formControlName=\\\"nombreSocial\\\" name=\\\"nombreSocial\\\">\\n          <!-- <mat-error [hidden]=\\\"!(f.nombreSocial.errors && f.nombreSocial.errors.required)\\\">Nombre social</mat-error> -->\\n          <mat-hint align=\\\"start\\\"><strong>Nombre por el cual te sientes identificado</strong> </mat-hint>\\n        </mat-form-field>\\n      </ion-item>\\n      <h3 class=\\\"mt-40\\\">Datos de contacto</h3>\\n      <ion-row>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Correo electrónico</mat-label>\\n          <input matInput placeholder=\\\"ejemplo@gmail.com\\\" formControlName=\\\"email\\\" name=\\\"email\\\">\\n          <mat-error [hidden]=\\\"!(f.email.errors && f.email.errors.pattern)\\\">Correo inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n\\n      <ion-row>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Teléfono</mat-label>\\n          <input matInput placeholder=\\\"9XXXXXXXX\\\" formControlName=\\\"telefono\\\" name=\\\"telefono\\\">\\n          <mat-error [hidden]=\\\"!(f.telefono.errors && f.telefono.errors.pattern)\\\">Teléfono inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n      <!-- boton de registrarse -->\\n      <ion-row>\\n        <button  [disabled]=\\\"forma.invalid\\\" class=\\\"button-registrarse\\\" (click)=\\\"onSumbit()\\\" mat-raised-button\\n          color=\\\"accent\\\">GUARDAR</button>\\n      </ion-row>\\n    </form>\\n  \\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\n\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { ContactabilidadPage } from './contactabilidad.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    ComponentsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ContactabilidadPage\n      }\n    ])\n  ],\n  declarations: [ContactabilidadPage]\n})\nexport class ContactabilidadPageModule {}\n","export default \".mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n\\n.mt-52 {\\n  margin-top: 3.25em;\\n}\\n\\n.texto-1 {\\n  font-size: 1em;\\n  color: #000000DE;\\n}\\n\\n.button-registrarse {\\n  width: 80%;\\n  margin-left: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3Jjb3JvbmFkby9EZXNrdG9wL21pRmFtaWxpYV9wcmUvc3JjL2FwcC9jb250YWN0YWJpbGlkYWQvY29udGFjdGFiaWxpZGFkLnBhZ2Uuc2NzcyIsInNyYy9hcHAvY29udGFjdGFiaWxpZGFkL2NvbnRhY3RhYmlsaWRhZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtBQ0NKOztBRENBO0VBQ0ksZ0JBQUE7QUNFSjs7QURBQTtFQUNJLGVBQUE7QUNHSjs7QUREQTtFQUNJLGlCQUFBO0FDSUo7O0FERkE7RUFDSSxrQkFBQTtBQ0tKOztBREhBO0VBQ0ksa0JBQUE7QUNNSjs7QURKQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQ09KOztBREpBO0VBQ0ksVUFBQTtFQUNBLGdCQUFBO0FDT0oiLCJmaWxlIjoic3JjL2FwcC9jb250YWN0YWJpbGlkYWQvY29udGFjdGFiaWxpZGFkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tdC0zMntcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcbn1cclxuLm10LTI0e1xyXG4gICAgbWFyZ2luLXRvcDogMjRweDtcclxufVxyXG4ubXQtODB7XHJcbiAgICBtYXJnaW4tdG9wOiA1ZW07XHJcbn1cclxuLm10LTQwe1xyXG4gICAgbWFyZ2luLXRvcDogMi41ZW07XHJcbn1cclxuLm10LTM2e1xyXG4gICAgbWFyZ2luLXRvcDogMi4yNWVtO1xyXG59XHJcbi5tdC01MntcclxuICAgIG1hcmdpbi10b3A6IDMuMjVlbTtcclxufVxyXG4udGV4dG8tMXtcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxuICAgIFxyXG59XHJcbi5idXR0b24tcmVnaXN0cmFyc2V7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwJTtcclxufVxyXG4iLCIubXQtMzIge1xuICBtYXJnaW4tdG9wOiAzMnB4O1xufVxuXG4ubXQtMjQge1xuICBtYXJnaW4tdG9wOiAyNHB4O1xufVxuXG4ubXQtODAge1xuICBtYXJnaW4tdG9wOiA1ZW07XG59XG5cbi5tdC00MCB7XG4gIG1hcmdpbi10b3A6IDIuNWVtO1xufVxuXG4ubXQtMzYge1xuICBtYXJnaW4tdG9wOiAyLjI1ZW07XG59XG5cbi5tdC01MiB7XG4gIG1hcmdpbi10b3A6IDMuMjVlbTtcbn1cblxuLnRleHRvLTEge1xuICBmb250LXNpemU6IDFlbTtcbiAgY29sb3I6ICMwMDAwMDBERTtcbn1cblxuLmJ1dHRvbi1yZWdpc3RyYXJzZSB7XG4gIHdpZHRoOiA4MCU7XG4gIG1hcmdpbi1sZWZ0OiAxMCU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, AlertController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder, FormControl, ValidatorFn } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n//servicios\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioGeo } from '../../app/services/ServicioGeo';\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\nimport { ServicioParametrosApp } from '../../app/services/ServicioParametrosApp';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-contactabilidad',\n  templateUrl: './contactabilidad.page.html',\n  styleUrls: ['./contactabilidad.page.scss'],\n})\nexport class ContactabilidadPage implements OnInit {\n  forma: FormGroup;\n  //para validar\n  patternOnlyLetter = '[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1 ]+$';\n  expCelular = /^(\\+?56)?(\\s?)(0?9)(\\s?)[9876543]\\d{7}$/gm;\n  expPassword = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$/gm;\n  expEmail = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/gm;\n  //variable para obtener el registro del usuario\n  registro = null;\n  estaCargando = false;\n  tituloProgress = '';\n  usuarioAps = null;\n  usuarioApsRegistro = null;\n  modificaRegistro = false;\n  nombrePersona = '';\n\n  constructor(\n    private navCtrl: NavController,\n    public utiles: ServicioUtiles,\n    public servicioGeo: ServicioGeo,\n    public loading: LoadingController,\n    private formBuilder: FormBuilder,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n    public acceso: ServicioAcceso,\n    public parametrosApp: ServicioParametrosApp,\n    public alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    moment.locale('es');\n    //obtenemos el registro\n\n    this.activatedRoute.queryParams.subscribe(params => {\n\n      if (params && params.usuario) {\n        if (localStorage.getItem('REGISTRO')) {\n          this.registro = JSON.parse(localStorage.getItem('REGISTRO'));\n        }\n\n        this.usuarioAps = JSON.parse(params.usuario);\n        this.nombrePersona = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno;\n        if (localStorage.getItem('UsuarioAps')) {\n          this.usuarioApsRegistro = JSON.parse(localStorage.getItem('UsuarioAps'));\n        }\n        //verificamos si es el mismo usuario o no\n        if (this.usuarioAps && this.usuarioApsRegistro && this.registro) {\n          if (this.usuarioAps.Id == this.usuarioApsRegistro.Id) {\n            this.modificaRegistro = true;\n          }\n        }\n        //console.log(this.usuarioAps);\n      }\n\n    });\n    //cargamos la forma\n    this.cargarForma();\n  }\n  cargarForma() {\n    this.forma = new FormGroup({\n      'nombreSocial': new FormControl(''),\n      'email': new FormControl('', [Validators.pattern(this.expEmail)]),\n      'telefono': new FormControl('', [Validators.pattern(this.expCelular)]),\n    });\n    //precargar los datos del usuario. solo si modifica registro\n    if (this.modificaRegistro) {\n      if (this.registro && this.registro != null) {\n        this.forma.setValue({\n          nombreSocial: this.registro.Apodo,\n          email: this.registro.CorreoElectronico,\n          telefono: this.registro.TelefonoContacto ? this.registro.TelefonoContacto : '',\n        })\n      }\n    }\n    else {\n      //no tiene registro, pero puede tener datos de contactabilidad en el local storage\n      if (this.usuarioAps.Contactabilidad != null) {\n        this.forma.setValue({\n          nombreSocial: this.usuarioAps.Contactabilidad.NombreSocial,\n          email: this.usuarioAps.Contactabilidad.Email,\n          telefono: this.usuarioAps.Contactabilidad.Telefono ? this.usuarioAps.Contactabilidad.Telefono : '',\n        })\n      }\n    }\n  }\n  async onSumbit() {\n    if (this.parametrosApp.USA_API_MANAGEMENT()) {\n      let loader = await this.loading.create({\n        cssClass: 'loading-vacio',\n        showBackdrop: false,\n        spinner: null,\n        //message: 'Cargando...<br>tipos de atención',\n        duration: 2000\n      });\n      this.estaCargando = true;\n      this.tituloProgress = 'Actualizando datos de contacto';\n\n      //variables a enviar\n      let email = this.forma.controls.email ? this.forma.controls.email.value : '';\n      let nombreSocial = this.forma.controls.nombreSocial ? this.forma.controls.nombreSocial.value : '';\n      let telefono = this.forma.controls.telefono ? this.forma.controls.telefono.value : '';\n      //el run debe ser del usuario que se está modificando\n      //let run = this.registro.Run.replace('-', '');\n      let run = this.usuarioAps.Rut;\n      await loader.present().then(async () => {\n        if (!this.utiles.isAppOnDevice()) {\n          //llamada web\n          this.servicioGeo.postInformarPersona(run, nombreSocial, email, telefono, 'MOVIL_FICHA_FAMILIAR').subscribe((response: any) => {\n            //procesar respuesta\n            var datos = response;\n            this.procesarRespuesta(datos, loader, nombreSocial, telefono, email, run);\n\n          }, error => {\n            console.log(error.message);\n            this.estaCargando = false;\n            loader.dismiss();\n            this.tituloProgress = '';\n            this.utiles.presentToast('Se presentó un error al guardar los datos, contacte al administrador', 'bottom', 2000);\n          })\n        }\n        else {\n          //llamada nativa\n          this.servicioGeo.postInformarPersonaNative(run, nombreSocial, email, telefono, 'MOVIL_FICHA_FAMILIAR').then((response: any) => {\n            //procesar respuesta\n            var datos = JSON.parse(response.data);\n            this.procesarRespuesta(datos, loader, nombreSocial, telefono, email, run);\n\n          }).catch(error => {\n            console.log(error.message);\n            this.estaCargando = false;\n            loader.dismiss();\n            this.tituloProgress = '';\n            this.utiles.presentToast('Se presentó un error al guardar los datos, contacte al administrador', 'bottom', 2000);\n          })\n        }\n      });\n    }\n    else {\n      //si no tiene api management\n      this.utiles.presentToast('Esta funcionalidad no está disponible', 'bottom', 3000);\n    }\n\n  }\n  async procesarRespuesta(data, loading, nombreSocial, telefono, email, run) {\n    //primero evaluamos la respuesta\n    if (data) {\n      if (data.InformarPersonaResponse) {\n        if (data.InformarPersonaResponse.RespuestaBase) {\n          //acá trae info de rayen y de ryf\n          //ojo que debemos actualizar igual el registro, al menos con el telefono y el apodo\n          //ya que el email es de autentificacion y no se puede cambiar\n          let correctoRayen = false;\n          let correctoRyf = false;\n          if (data.InformarPersonaResponse.RespuestaBase.Rayen) {\n            if (data.InformarPersonaResponse.RespuestaBase.Rayen.Descripcion.toUpperCase() == 'TRANSACCIÓN EXITOSA') {\n              correctoRayen = true;\n              //console.log('actualizado rayen');\n            }\n          }\n          if (data.InformarPersonaResponse.RespuestaBase.Ryf) {\n            if (data.InformarPersonaResponse.RespuestaBase.Ryf.Descripcion.toUpperCase() == 'TRANSACCIÓN EXITOSA') {\n              correctoRyf = true;\n              //console.log('actualizado ryf');\n            }\n          }\n          if (correctoRyf || correctoRayen) {\n            this.estaCargando = false;\n            this.tituloProgress = '';\n            loading.dismiss();\n            this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n            //se debe actualizar registro solo si esta registrado\n            if (this.modificaRegistro) {\n              this.actualizarRegistro(nombreSocial, telefono);\n            }\n            //aca debemos hacer la llamada para obtener la contactabilidad y guardarla en el localstorage\n            //this.utiles.actualizarContactabilidad(this.usuarioAps, nombreSocial, telefono, email);\n            this.obtenerContactabilidad(run);\n          }\n          else {\n            this.estaCargando = false;\n            loading.dismiss();\n            this.tituloProgress = '';\n            this.utiles.presentToast('Error al actualizar los datos', 'bottom', 2000);\n          }\n        }\n        else {\n          this.estaCargando = false;\n          loading.dismiss();\n          this.tituloProgress = '';\n          this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n        }\n      }\n      else {\n        this.estaCargando = false;\n        loading.dismiss();\n        this.tituloProgress = '';\n        this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n      }\n    }\n    else {\n      this.estaCargando = false;\n      loading.dismiss();\n      this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n      this.tituloProgress = '';\n    }\n  }\n\n  async actualizarRegistro(nombreSocial, telefono) {\n    var fechaNac = moment();\n    if (this.registro.FechaNacimiento) {\n      fechaNac = moment(this.registro.FechaNacimiento);\n    }\n    //ahora actualizar el registro\n    this.registro.Apodo = nombreSocial;\n    this.registro.TelefonoContacto = telefono;\n    //valores por defecto\n    this.registro.Id = this.registro.Id.toString();\n    this.registro.Activo = this.registro.Activo.toString();\n    this.registro.DiaNacimiento = fechaNac.date().toString();\n    this.registro.MesNacimiento = (fechaNac.month() + 1).toString();\n    this.registro.AnioNacimiento = fechaNac.year().toString();\n    this.registro.Eliminado = this.registro.Eliminado.toString();\n    this.registro.ModoRegistro = this.registro.ModoRegistro.toString();\n    this.registro.FechaBaja = null;\n\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null\n    });\n    this.estaCargando = true;\n    this.tituloProgress = 'Actualizando datos de registro';\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.postRegistroFamilia(this.registro).subscribe((data) => {\n          let respuesta = data;\n          localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n        },\n          error => {\n            loader.dismiss();\n            this.estaCargando = false;\n            this.utiles.presentToast(error, 'bottom', 2000);\n          });\n      }\n      else {\n        //llamada nativa\n        this.servicioGeo.postRegistroFamiliaNative(this.registro).then((data) => {\n          let respuesta = JSON.parse(data.data);\n          localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n\n        }).catch(error => {\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.presentToast(error, 'bottom', 2000);\n        });\n      }\n    });\n  }\n  actualizarContactabilidad(usuario, nombreSocial, telefono, email) {\n    //buscamos al usuario en local sttorage\n    var contactabilidad = {\n      Rut: usuario.Rut,\n      Id: usuario.Id,\n      NombreSocial: nombreSocial,\n      Telefono: telefono,\n      Email: email,\n      EtiquetaTelefono: 'MOVIL_FICHA_FAMILIAR'\n    }\n\n    if (localStorage.getItem('UsuarioAps')) {\n      var usu = JSON.parse(localStorage.getItem('UsuarioAps'));\n      if (usu) {\n        if (usu.Id == usuario.Id) {\n          usu.Contactabilidad = contactabilidad;\n          localStorage.setItem('UsuarioAps', JSON.stringify(usu));\n        }\n      }\n    }\n    if (localStorage.getItem('UsuariosFamilia')) {\n      var existe = false;\n      var usuarios = JSON.parse(localStorage.getItem('UsuariosFamilia'));\n      if (usuarios && usuarios.length > 0) {\n        for (var i = 0; i < usuarios.length; i++) {\n          if (usuarios[i].Id == usuario.Id) {\n            usuarios[i].Contactabilidad = contactabilidad;\n            existe = true;\n          }\n        }\n      }\n      if (existe) {\n        localStorage.setItem('UsuariosFamilia', JSON.stringify(usuarios));\n      }\n    }\n\n  }\n  async obtenerContactabilidad(run) {\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null\n    });\n    this.estaCargando = true;\n    this.tituloProgress = 'Buscando contactabilidad';\n\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.getContactabilidad(run).subscribe((data) => {\n          let respuesta = data;\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.actualizarContactabilidad(respuesta);\n        },\n          error => {\n            loader.dismiss();\n            this.estaCargando = false;\n            this.utiles.presentToast(error, 'bottom', 2000);\n          });\n      }\n      else {\n        //llamada nativa\n        this.servicioGeo.getContactabilidadNative(run).then((data) => {\n          let respuesta = JSON.parse(data.data);\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.actualizarContactabilidad(respuesta);\n\n        }).catch(error => {\n          loader.dismiss();\n          this.estaCargando = false;\n          this.utiles.presentToast(error, 'bottom', 2000);\n        });\n      }\n\n    });\n\n  }\n\n  get f() { return this.forma.controls; }\n\n}\n"]}