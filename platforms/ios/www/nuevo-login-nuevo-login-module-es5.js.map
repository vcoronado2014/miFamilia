{"version":3,"sources":["webpack:///src/app/nuevo-login/nuevo-login.page.html","webpack:///src/app/nuevo-login/nuevo-login.module.ts","webpack:///src/app/nuevo-login/nuevo-login.page.scss","webpack:///src/app/nuevo-login/nuevo-login.page.ts"],"names":["NuevoLoginPageModule","imports","forChild","path","component","declarations","NuevoLoginPage","navCtrl","utiles","servicioGeo","loading","formBuilder","activatedRoute","router","acceso","parametrosApp","fcmService","appVersion","platform","device","alertController","servNotificaciones","networkService","network","hide","patternOnlyLetter","expCelular","expPassword","expEmail","usaEnrolamiento","objetoEntrada","VersionAppName","Plataforma","Token","VersionAppNumber","Fecha","Date","TipoOperacion","Id","estaCargando","esDataLocal","dataLocalStorage","PARAMETROS_APP","UsuarioAps","ALERGIAS","MORBIDOS","UsuariosFamilia","REGISTRO","MI_RUT","MI_NOMBRE","FAMILIA_POR_ACEPTAR","FAMILIA_ACEPTADA","FAMILIA_RECHAZAZDA","ANTECEDENTES","dataSessionStorage","ENTRADA","LOG_MOVIMIENTOS","statusNetwork","buscarCitasTodas","USA_LOGIN_ENROLAMIENTO","cargarForma","navigationExtras","queryParams","modulo","navigateRoot","forma","required","pattern","minLength","maxLength","get","clearValidators","create","cssClass","showBackdrop","spinner","loader","present","then","isAppOnDevice","localStorage","getItem","tokenDispositivo","Math","random","toString","setItem","versionAppName","versionNumber","plataforma","dismiss","is","getAppName","getVersionNumber","uuid","sessionStorage","JSON","stringify","postIngreso","subscribe","data","postIngresoNative","response","respuesta","parse","retorno","Nombres","ApellidoPaterno","Color","UrlImagen","hash","familia","filter","o","userFamilia","add","format","CodigoMensaje","Mensaje","loggedIn","irAHome","correo","controls","email","value","password","clave","encriptar","getRegistroAppCorreoPassword","registro","autentificarse","Run","presentToast","error","procesoLocal","getRegistroAppNativeCorreoPassword","run","puede","invalid","loguearseEnrolamiento","loguearseRegistro","userName","f","UserName","Password","UsaEnrolamiento","TokenFCM","entregaTokenFCM","loginWebDirecto","procesarLogin","loginWebNative","user","Rut","FamiliaPorAceptar","length","FamiliaAceptada","FamiliaRechazada","RespuestaBase","tieneUsuario","NodId","USA_ENTIDAD_CONTRATANTE","EntidadContratante","setDatosUsuario","crearToken","registrarEntrada","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqCf,QAAaA,oBAAoB;AAAA;AAAA,KAAjC;;AAAaA,wBAAoB,6DArBhC,+DAAS;AACRC,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO,EAIP,0DAJO,EAKP,+EALO,EAMP,wEANO,EAOP,sEAPO,EAQP,yEARO,EASP,qEATO,EAUP,+EAVO,EAWP,6DAAaC,QAAb,CAAsB,CACpB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADoB,CAAtB,CAXO,CADD;AAmBRC,kBAAY,EAAE,CAAC,gEAAD;AAnBN,KAAT,CAqBgC,GAApBL,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACrCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iICIf;AAeA;AACA;;;AAOA,QAAaM,cAAc;AA2kBzB,8BACUC,OADV,EAESC,MAFT,EAGSC,WAHT,EAISC,OAJT,EAKUC,WALV,EAMSC,cANT,EAOUC,MAPV,EAQSC,MART,EASSC,aATT,EAUSC,UAVT,EAWSC,UAXT,EAYSC,QAZT,EAaSC,MAbT,EAcUC,eAdV,EAeSC,kBAfT,EAgBSC,cAhBT,EAiBSC,OAjBT,EAiByB;AAAA;;AAhBf,aAAAhB,OAAA,GAAAA,OAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACC,aAAAC,WAAA,GAAAA,WAAA;AACD,aAAAC,cAAA,GAAAA,cAAA;AACC,aAAAC,MAAA,GAAAA,MAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,UAAA,GAAAA,UAAA;AACA,aAAAC,UAAA,GAAAA,UAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACC,aAAAC,eAAA,GAAAA,eAAA;AACD,aAAAC,kBAAA,GAAAA,kBAAA;AACA,aAAAC,cAAA,GAAAA,cAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AA3lBT,aAAAC,IAAA,GAAO,IAAP,CA2lByB,CAtlBzB;;AACA,aAAAC,iBAAA,GAAoB,uFAApB;AACA,aAAAC,UAAA,GAAa,2CAAb;AACA,aAAAC,WAAA,GAAc,0CAAd;AACA,aAAAC,QAAA,GAAW,8BAAX,CAklByB,CA5kBzB;;AACA,aAAAC,eAAA,GAAkB,KAAlB,CA2kByB,CA1kBzB;;AACA,aAAAC,aAAA,GAAgB;AACdC,wBAAc,EAAE,EADF;AAEdC,oBAAU,EAAE,EAFE;AAGdC,eAAK,EAAE,EAHO;AAIdC,0BAAgB,EAAE,EAJJ;AAKdC,eAAK,EAAE,IAAIC,IAAJ,EALO;AAMdC,uBAAa,EAAE,GAND;AAOdC,YAAE,EAAE;AAPU,SAAhB,CAykByB,CAhkBzB;;AACA,aAAAC,YAAA,GAAe,KAAf;AACA,aAAAC,WAAA,GAAc,KAAd;AACA,aAAAC,gBAAA,GAAmB;AACjBC,wBAAc,EAAE,CACd;AACE,kBAAM,CADR;AAEE,sBAAU,iBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WADc,EAQd;AACE,kBAAM,CADR;AAEE,sBAAU,oBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WARc,EAed;AACE,kBAAM,CADR;AAEE,sBAAU,yBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WAfc,EAsBd;AACE,kBAAM,CADR;AAEE,sBAAU,wBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WAtBc,EA6Bd;AACE,kBAAM,CADR;AAEE,sBAAU,oBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WA7Bc,EAoCd;AACE,kBAAM,CADR;AAEE,sBAAU,iBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WApCc,EA2Cd;AACE,kBAAM,CADR;AAEE,sBAAU,kBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WA3Cc,EAkDd;AACE,kBAAM,CADR;AAEE,sBAAU,iCAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WAlDc,EAyDd;AACE,kBAAM,CADR;AAEE,sBAAU,wBAFZ;AAGE,qBAAS,GAHX;AAIE,2BAAe,sfAJjB;AAKE,yBAAa;AALf,WAzDc,CADC;AAkEjBC,oBAAU,EAAE;AACV,kBAAM,QADI;AAEV,qBAAS,IAFC;AAGV,uBAAW,gBAHD;AAIV,+BAAmB,UAJT;AAKV,+BAAmB,UALT;AAMV,mBAAO,WANG;AAOV,yBAAa,2DAPH;AAQV,iCAAqB,qBARX;AASV,qBAAS,UATC;AAUV,oBAAQ,EAVE;AAWV,+BAAmB;AACjB,6BAAe,qBADE;AAEjB,yBAAW,kBAFM;AAGjB,6BAAe,qBAHE;AAIjB,4BAAc,sBAJG;AAKjB,4BAAc;AALG,aAXT;AAkBV,qBAAS,QAlBC;AAmBV,yBAAa,0BAnBH;AAoBV,qBAAS,SApBC;AAqBV,0BAAc,KArBJ;AAsBV,qBAAS,6BAtBC;AAuBV,8BAAkB,YAvBR;AAwBV,2BAAe,EAxBL;AAyBV,iCAAqB;AACnB,uBAAS,IADU;AAEnB,gCAAkB;AAFC,aAzBX;AA6BV,+BAAmB,EA7BT;AAgCV,kCAAsB,CACpB;AACE,oBAAM,CADR;AAEE,wBAAU,8BAFZ;AAGE,wBAAU,CAHZ;AAIE,2BAAa;AAJf,aADoB,CAhCZ;AAwCV,0BAAc;AACZ,oBAAM,EADM;AAEZ,wBAAU,KAFE;AAGZ,wBAAU,kBAHE;AAIZ,6BAAe,kBAJH;AAKZ,8BAAgB,KALJ;AAMZ,sBAAQ,CANI;AAOZ,yBAAW,IAPC;AAQZ,wBAAU;AARE,aAxCJ;AAkDV,4BAAgB,EAlDN;AAqDV,+BAAmB;AACjB,oBAAM,CADW;AAEjB,mCAAqB,wBAFJ;AAGjB,qBAAO,WAHU;AAIjB,0BAAY,WAJK;AAKjB,uBAAS,6BALQ;AAMjB,8BAAgB,YANC;AAOjB,kCAAoB,sBAPH;AAQjB,2BAAa;AARI;AArDT,WAlEK;AAkIjBC,kBAAQ,EAAE,CACR;AACE,0BAAc;AACZ,oBAAM,QADM;AAEZ,uBAAS,IAFG;AAGZ,yBAAW,gBAHC;AAIZ,iCAAmB,UAJP;AAKZ,iCAAmB,UALP;AAMZ,qBAAO,WANK;AAOZ,2BAAa,2DAPD;AAQZ,mCAAqB,qBART;AASZ,uBAAS,UATG;AAUZ,sBAAQ,EAVI;AAWZ,iCAAmB;AACjB,+BAAe,qBADE;AAEjB,2BAAW,kBAFM;AAGjB,+BAAe,qBAHE;AAIjB,8BAAc,sBAJG;AAKjB,8BAAc;AALG,eAXP;AAkBZ,uBAAS,QAlBG;AAmBZ,2BAAa,0BAnBD;AAoBZ,uBAAS,SApBG;AAqBZ,4BAAc,KArBF;AAsBZ,uBAAS,6BAtBG;AAuBZ,gCAAkB,YAvBN;AAwBZ,6BAAe,EAxBH;AAyBZ,mCAAqB;AACnB,yBAAS,IADU;AAEnB,kCAAkB;AAFC,eAzBT;AA6BZ,iCAAmB,EA7BP;AAgCZ,oCAAsB,CACpB;AACE,sBAAM,CADR;AAEE,0BAAU,8BAFZ;AAGE,0BAAU,CAHZ;AAIE,6BAAa;AAJf,eADoB,CAhCV;AAwCZ,4BAAc;AACZ,sBAAM,EADM;AAEZ,0BAAU,KAFE;AAGZ,0BAAU,kBAHE;AAIZ,+BAAe,kBAJH;AAKZ,gCAAgB,KALJ;AAMZ,wBAAQ,CANI;AAOZ,2BAAW,IAPC;AAQZ,0BAAU;AARE,eAxCF;AAkDZ,8BAAgB,EAlDJ;AAqDZ,iCAAmB;AACjB,sBAAM,CADW;AAEjB,qCAAqB,wBAFJ;AAGjB,uBAAO,WAHU;AAIjB,4BAAY,WAJK;AAKjB,yBAAS,6BALQ;AAMjB,gCAAgB,YANC;AAOjB,oCAAoB,sBAPH;AAQjB,6BAAa;AARI;AArDP,aADhB;AAiEE,wBAAY;AACV,6BAAe,CACb;AACE,+BAAe,YADjB;AAEE,+BAAe,QAFjB;AAGE,yBAAS;AAHX,eADa,EAMb;AACE,+BAAe,UADjB;AAEE,+BAAe,QAFjB;AAGE,yBAAS;AAHX,eANa,CADL;AAaV,+BAAiB;AACf,iCAAiB,CADF;AAEf,2BAAW;AAFI;AAbP;AAjEd,WADQ,CAlIO;AAwNjBC,kBAAQ,EAAE,CACR;AACE,0BAAc;AACZ,oBAAM,QADM;AAEZ,uBAAS,IAFG;AAGZ,yBAAW,gBAHC;AAIZ,iCAAmB,UAJP;AAKZ,iCAAmB,UALP;AAMZ,qBAAO,WANK;AAOZ,2BAAa,2DAPD;AAQZ,mCAAqB,qBART;AASZ,uBAAS,UATG;AAUZ,sBAAQ,EAVI;AAWZ,iCAAmB;AACjB,+BAAe,qBADE;AAEjB,2BAAW,kBAFM;AAGjB,+BAAe,qBAHE;AAIjB,8BAAc,sBAJG;AAKjB,8BAAc;AALG,eAXP;AAkBZ,uBAAS,QAlBG;AAmBZ,2BAAa,0BAnBD;AAoBZ,uBAAS,SApBG;AAqBZ,4BAAc,KArBF;AAsBZ,uBAAS,6BAtBG;AAuBZ,gCAAkB,YAvBN;AAwBZ,6BAAe,EAxBH;AAyBZ,mCAAqB;AACnB,yBAAS,IADU;AAEnB,kCAAkB;AAFC,eAzBT;AA6BZ,iCAAmB,EA7BP;AAgCZ,oCAAsB,CACpB;AACE,sBAAM,CADR;AAEE,0BAAU,8BAFZ;AAGE,0BAAU,CAHZ;AAIE,6BAAa;AAJf,eADoB,CAhCV;AAwCZ,4BAAc;AACZ,sBAAM,EADM;AAEZ,0BAAU,KAFE;AAGZ,0BAAU,kBAHE;AAIZ,+BAAe,kBAJH;AAKZ,gCAAgB,KALJ;AAMZ,wBAAQ,CANI;AAOZ,2BAAW,IAPC;AAQZ,0BAAU;AARE,eAxCF;AAkDZ,8BAAgB,EAlDJ;AAqDZ,iCAAmB;AACjB,sBAAM,CADW;AAEjB,qCAAqB,wBAFJ;AAGjB,uBAAO,WAHU;AAIjB,4BAAY,WAJK;AAKjB,yBAAS,6BALQ;AAMjB,gCAAgB,YANC;AAOjB,oCAAoB,sBAPH;AAQjB,6BAAa;AARI;AArDP,aADhB;AAiEE,wBAAY;AACV,8BAAgB;AACd,8BAAc;AACZ,iCAAe,CACb,iBADa,EAEb,uCAFa;AADH,iBADA;AAOd,8BAAc;AACZ,iCAAe,CACb,qBADa,EAEb,8BAFa;AADH;AAPA;AADN;AAjEd,WADQ,CAxNO;AA4SjBC,yBAAe,EAAE,EA5SA;AA6SjBC,kBAAQ,EAAE;AACR,kBAAM,EADE;AAER,iCAAqB,6BAFb;AAGR,wBAAY,UAHJ;AAIR,6BAAiB,wBAJT;AAKR,4BAAgB,CALR;AAMR,6BAAiB,6BANT;AAOR,+BAAmB,qBAPX;AAQR,oBAAQ,CARA;AASR,yBAAa,CATL;AAUR,sBAAU,CAVF;AAWR,uBAAW,aAXH;AAYR,yBAAa,UAZL;AAaR,yBAAa,qBAbL;AAcR,qBAAS,mBAdD;AAeR,sBAAU,EAfF;AAgBR,8BAAkB,gBAhBV;AAiBR,0BAAc,SAjBN;AAkBR,gCAAoB,OAlBZ;AAmBR,6BAAiB,kBAnBT;AAoBR,oBAAQ,OApBA;AAqBR,yBAAa,qBArBL;AAsBR,sBAAU,8BAtBF;AAuBR,sBAAU,aAvBF;AAwBR,uBAAW,EAxBH;AAyBR,wBAAY,EAzBJ;AA0BR,gCAAoB,WA1BZ;AA2BR,mBAAO;AA3BC,WA7SO;AA0UjBC,gBAAM,EAAE,WA1US;AA2UjBC,mBAAS,EAAE,yBA3UM;AA4UjBC,6BAAmB,EAAE,EA5UJ;AA6UjBC,0BAAgB,EAAE,EA7UD;AA8UjBC,4BAAkB,EAAE,EA9UH;AA+UjBC,sBAAY,EAAE,CACZ;AACE,0BAAc;AACZ,oBAAM,QADM;AAEZ,uBAAS,IAFG;AAGZ,yBAAW,gBAHC;AAIZ,iCAAmB,UAJP;AAKZ,iCAAmB,UALP;AAMZ,qBAAO,WANK;AAOZ,2BAAa,2DAPD;AAQZ,mCAAqB,qBART;AASZ,uBAAS,UATG;AAUZ,sBAAQ,EAVI;AAWZ,iCAAmB;AACjB,+BAAe,qBADE;AAEjB,2BAAW,kBAFM;AAGjB,+BAAe,qBAHE;AAIjB,8BAAc,sBAJG;AAKjB,8BAAc;AALG,eAXP;AAkBZ,uBAAS,QAlBG;AAmBZ,2BAAa,0BAnBD;AAoBZ,uBAAS,SApBG;AAqBZ,4BAAc,KArBF;AAsBZ,uBAAS,6BAtBG;AAuBZ,gCAAkB,YAvBN;AAwBZ,6BAAe,EAxBH;AAyBZ,mCAAqB;AACnB,yBAAS,IADU;AAEnB,kCAAkB;AAFC,eAzBT;AA6BZ,iCAAmB,EA7BP;AAgCZ,oCAAsB,CACpB;AACE,sBAAM,CADR;AAEE,0BAAU,8BAFZ;AAGE,0BAAU,CAHZ;AAIE,6BAAa;AAJf,eADoB,CAhCV;AAwCZ,4BAAc;AACZ,sBAAM,EADM;AAEZ,0BAAU,KAFE;AAGZ,0BAAU,kBAHE;AAIZ,+BAAe,kBAJH;AAKZ,gCAAgB,KALJ;AAMZ,wBAAQ,CANI;AAOZ,2BAAW,IAPC;AAQZ,0BAAU;AARE,eAxCF;AAkDZ,8BAAgB,EAlDJ;AAqDZ,iCAAmB;AACjB,sBAAM,CADW;AAEjB,qCAAqB,wBAFJ;AAGjB,uBAAO,WAHU;AAIjB,4BAAY,WAJK;AAKjB,yBAAS,6BALQ;AAMjB,gCAAgB,YANC;AAOjB,oCAAoB,sBAPH;AAQjB,6BAAa;AARI;AArDP,aADhB;AAiEE,0BAAc;AACZ,mCAAqB,CACnB;AACE,+BAAe,WADjB;AAEE,yBAAS,EAFX;AAGE,yBAAS;AAHX,eADmB,EAMnB;AACE,+BAAe,YADjB;AAEE,yBAAS,GAFX;AAGE,yBAAS;AAHX,eANmB,EAWnB;AACE,+BAAe,QADjB;AAEE,yBAAS,WAFX;AAGE,yBAAS;AAHX,eAXmB,EAgBnB;AACE,+BAAe,6BADjB;AAEE,yBAAS,EAFX;AAGE,yBAAS;AAHX,eAhBmB,EAqBnB;AACE,+BAAe,4BADjB;AAEE,yBAAS,GAFX;AAGE,yBAAS;AAHX,eArBmB,CADT;AA4BZ,+BAAiB;AACf,iCAAiB,CADF;AAEf,2BAAW;AAFI;AA5BL;AAjEhB,WADY;AA/UG,SAAnB;AAqbA,aAAAC,kBAAA,GAAqB;AACnBC,iBAAO,EAAE;AACP,8BAAkB,mBADX;AAEP,0BAAc,KAFP;AAGP,qBAAS,wBAHF;AAIP,gCAAoB,KAJb;AAKP,qBAAS,0BALF;AAMP,6BAAiB,GANV;AAOP,kBAAM;AAPC,WADU;AAUnBC,yBAAe,EAAE,CACf;AACE,kBAAM,CADR;AAEE,4BAAgB,YAFlB;AAGE,qBAAS,CAHX;AAIE,qBAAS,CAJX;AAKE,uBAAW,IALb;AAME,wBAAY,IANd;AAOE,sBAAU,qCAPZ;AAQE,2BAAe;AARjB,WADe,EAWf;AACE,kBAAM,CADR;AAEE,4BAAgB,cAFlB;AAGE,qBAAS,CAHX;AAIE,qBAAS,CAJX;AAKE,uBAAW,IALb;AAME,wBAAY,IANd;AAOE,sBAAU,oCAPZ;AAQE,2BAAe;AARjB,WAXe,EAqBf;AACE,kBAAM,CADR;AAEE,4BAAgB,UAFlB;AAGE,qBAAS,CAHX;AAIE,qBAAS,CAJX;AAKE,uBAAW,IALb;AAME,wBAAY,KANd;AAOE,sBAAU,yCAPZ;AAQE,2BAAe;AARjB,WArBe,EA+Bf;AACE,kBAAM,CADR;AAEE,4BAAgB,gBAFlB;AAGE,qBAAS,CAHX;AAIE,qBAAS,CAJX;AAKE,uBAAW,KALb;AAME,wBAAY,KANd;AAOE,sBAAU,iDAPZ;AAQE,2BAAe;AARjB,WA/Be,CAVE;AAoDnBb,oBAAU,EAAE;AACV,kBAAM,QADI;AAEV,qBAAS,IAFC;AAGV,uBAAW,gBAHD;AAIV,+BAAmB,UAJT;AAKV,+BAAmB,UALT;AAMV,mBAAO,WANG;AAOV,yBAAa,2DAPH;AAQV,iCAAqB,qBARX;AASV,qBAAS,UATC;AAUV,oBAAQ,EAVE;AAWV,+BAAmB;AACjB,6BAAe,qBADE;AAEjB,yBAAW,kBAFM;AAGjB,6BAAe,qBAHE;AAIjB,4BAAc,sBAJG;AAKjB,4BAAc;AALG,aAXT;AAkBV,qBAAS,QAlBC;AAmBV,yBAAa,0BAnBH;AAoBV,qBAAS,SApBC;AAqBV,0BAAc,KArBJ;AAsBV,qBAAS,6BAtBC;AAuBV,8BAAkB,YAvBR;AAwBV,2BAAe,EAxBL;AAyBV,iCAAqB;AACnB,uBAAS,IADU;AAEnB,gCAAkB;AAFC,aAzBX;AA6BV,+BAAmB,EA7BT;AAgCV,kCAAsB,CACpB;AACE,oBAAM,CADR;AAEE,wBAAU,8BAFZ;AAGE,wBAAU,CAHZ;AAIE,2BAAa;AAJf,aADoB,CAhCZ;AAwCV,0BAAc;AACZ,oBAAM,EADM;AAEZ,wBAAU,KAFE;AAGZ,wBAAU,kBAHE;AAIZ,6BAAe,kBAJH;AAKZ,8BAAgB,KALJ;AAMZ,sBAAQ,CANI;AAOZ,yBAAW,IAPC;AAQZ,wBAAU;AARE,aAxCJ;AAkDV,4BAAgB,EAlDN;AAqDV,+BAAmB;AACjB,oBAAM,CADW;AAEjB,mCAAqB,wBAFJ;AAGjB,qBAAO,WAHU;AAIjB,0BAAY,WAJK;AAKjB,uBAAS,6BALQ;AAMjB,8BAAgB,YANC;AAOjB,kCAAoB,sBAPH;AAQjB,2BAAa;AARI;AArDT;AApDO,SAArB;AAsHA,aAAAc,aAAA,GAAgB,QAAhB;AAoBC;;AA9lBwB;AAAA;AAAA,mCAgmBd;AACT,yDAAc,IAAd;AACA,eAAKpC,kBAAL,CAAwBqC,gBAAxB;AACA,eAAK7B,eAAL,GAAuB,KAAKd,aAAL,CAAmB4C,sBAAnB,EAAvB;AACA,eAAKC,WAAL;AACD;AArmBwB;AAAA;AAAA,yCAsmBR;AACf,cAAMC,gBAAgB,GAAqB;AACzCC,uBAAW,EAAE;AACXC,oBAAM,EAAE;AADG;AAD4B,WAA3C;AAKA,eAAKxD,OAAL,CAAayD,YAAb,CAA0B,CAAC,kBAAD,CAA1B,EAAgDH,gBAAhD;AACD;AA7mBwB;AAAA;AAAA,sCA8mBX;AACZ,eAAKI,KAAL,GAAa,IAAI,wDAAJ,CAAc;AACzB,mBAAO,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWC,QAAZ,CAApB,CADkB;AAEzB,qBAAS,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWA,QAAZ,EAAsB,0DAAWC,OAAX,CAAmB,KAAKvC,QAAxB,CAAtB,CAApB,CAFgB;AAGzB,qBAAS,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWsC,QAAZ,EAAsB,0DAAWE,SAAX,CAAqB,CAArB,CAAtB,EAA+C,0DAAWC,SAAX,CAAqB,EAArB,CAA/C,CAApB;AAHgB,WAAd,CAAb,CADY,CAMZ;;AACA,cAAI,KAAKxC,eAAT,EAA0B;AACxB,iBAAKoC,KAAL,CAAWK,GAAX,CAAe,OAAf,EAAwBC,eAAxB;AACD,WAFD,MAGK;AACH,iBAAKN,KAAL,CAAWK,GAAX,CAAe,KAAf,EAAsBC,eAAtB;AACD,WAZW,CAaZ;AACA;;AAEA;;;;;;;;;;;;;AAYD;AA1oBwB;AAAA;AAAA,qCA2oBN;;;;;;;;;AAIjB;;AACA;;;;AAIA,yBAAKhC,YAAL,GAAoB,IAApB;;AACa,2BAAM,KAAK7B,OAAL,CAAa8D,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATC,0B;;AAMJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AAAA,oCACjC,KAAKtE,MAAL,CAAYuE,aAAZ,EADiC;AAAA;AAAA;AAAA;;AAEpC;AACA;AACA,oCAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAL,EAAgD;AAC9C;AACA,uCAAKC,gBAAL,GAAwB,CAACC,IAAI,CAACC,MAAL,MAAiB,UAAU,CAA3B,IAAgC,CAAjC,EAAoCC,QAApC,KAAiD,MAAzE;AACAL,8CAAY,CAACM,OAAb,CAAqB,mBAArB,EAA0C,KAAKJ,gBAA/C;AACD,iCAJD,MAKK;AACH,uCAAKA,gBAAL,GAAwBF,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAAxB;AACD;;AACDM,8CAAc,GAAG,mBAAjB;AACAC,6CAAa,GAAG,KAAhB;AACAC,0CAAU,GAAG,KAAb,CAdoC,CAepC;AACA;;AACAT,4CAAY,CAACM,OAAb,CAAqB,kBAArB,EAAyCC,cAAzC;AACAP,4CAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuCE,aAAvC;AACAR,4CAAY,CAACM,OAAb,CAAqB,YAArB,EAAmCG,UAAnC;AACAb,sCAAM,CAACc,OAAP;AACA,qCAAKnD,YAAL,GAAoB,KAApB;AArBoC;AAAA;;AAAA;AAAA,qCAwBhC,KAAKrB,QAAL,CAAcyE,EAAd,CAAiB,KAAjB,CAxBgC;AAAA;AAAA;AAAA;;AAAA;AAyBjB,uCAAM,KAAK1E,UAAL,CAAgB2E,UAAhB,EAAN;;AAzBiB;AAyBlCL,8CAzBkC;AAAA;AA0BlB,uCAAM,KAAKtE,UAAL,CAAgB4E,gBAAhB,EAAN;;AA1BkB;AA0BlCL,6CA1BkC;AA2BlCC,0CAAU,GAAG,KAAb;AA3BkC;AAAA;;AAAA;AAAA,qCA6B3B,KAAKvE,QAAL,CAAcyE,EAAd,CAAiB,SAAjB,CA7B2B;AAAA;AAAA;AAAA;;AAAA;AA8BjB,uCAAM,KAAK1E,UAAL,CAAgB2E,UAAhB,EAAN;;AA9BiB;AA8BlCL,8CA9BkC;AAAA;AA+BlB,uCAAM,KAAKtE,UAAL,CAAgB4E,gBAAhB,EAAN;;AA/BkB;AA+BlCL,6CA/BkC;AAgClCC,0CAAU,GAAG,SAAb;AAhCkC;AAAA;;AAAA;AAkC/B,oCAAI,KAAKvE,QAAL,CAAcyE,EAAd,CAAiB,WAAjB,CAAJ,EAAmC;AACtCJ,gDAAc,GAAG,mBAAjB;AACAC,+CAAa,GAAG,KAAhB;AACAC,4CAAU,GAAG,KAAb;AACD,iCAJI,MAKA;AACHF,gDAAc,GAAG,mBAAjB;AACAC,+CAAa,GAAG,KAAhB;AACAC,4CAAU,GAAG,cAAb;AACD;;AA3CmC;AA4CpC;AACA,qCAAKP,gBAAL,GAAwB,KAAK/D,MAAL,CAAY2E,IAApC;AACAd,4CAAY,CAACM,OAAb,CAAqB,mBAArB,EAA0C,KAAKJ,gBAA/C,EA9CoC,CA+CpC;;AACAF,4CAAY,CAACM,OAAb,CAAqB,kBAArB,EAAyCC,cAAzC;AACAP,4CAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuCE,aAAvC;AACAR,4CAAY,CAACM,OAAb,CAAqB,YAArB,EAAmCG,UAAnC;AACAb,sCAAM,CAACc,OAAP;AACA,qCAAKnD,YAAL,GAAoB,KAApB;;AApDoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAwDD;AAntBwB;AAAA;AAAA,2CAotBA;;;;;;;;;wBAElBwD,cAAc,CAACd,OAAf,CAAuB,QAAvB,C;;;;;AACH,yBAAKnD,aAAL,CAAmBC,cAAnB,GAAoCiD,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAApC;AACA,yBAAKnD,aAAL,CAAmBE,UAAnB,GAAgCgD,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAhC;AACA,yBAAKnD,aAAL,CAAmBI,gBAAnB,GAAsC8C,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAtC;AACA,yBAAKnD,aAAL,CAAmBG,KAAnB,GAA2B+C,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAA3B;AACA,yBAAKnD,aAAL,CAAmBK,KAAnB,GAA2B,IAAIC,IAAJ,EAA3B,C,CACA;;AACA2D,kCAAc,CAACT,OAAf,CAAuB,SAAvB,EAAkCU,IAAI,CAACC,SAAL,CAAe,KAAKnE,aAApB,CAAlC,E,CACA;;AACA;;;;;AAIA,yBAAKS,YAAL,GAAoB,IAApB;;AACa,2BAAM,KAAK7B,OAAL,CAAa8D,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATC,0B;;AAMJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKtE,MAAL,CAAYuE,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKtE,WAAL,CAAiByF,WAAjB,CAA6B,KAAKpE,aAAlC,EAAiDqE,SAAjD,CAA2D,UAACC,IAAD,EAAe;AACxE,wCAAIA,IAAJ,EAAU;AACR,0CAAIA,IAAI,CAAC9D,EAAL,GAAU,CAAd,EAAiB;AACf;AACAyD,sDAAc,CAACT,OAAf,CAAuB,QAAvB,EAAiCc,IAAI,CAAC9D,EAAtC;AAED;AACF;;AACDsC,0CAAM,CAACc,OAAP;AACA,0CAAI,CAACnD,YAAL,GAAoB,KAApB;AACD,mCAVD;AAWD,iCAbD,MAcK;AACH;AACA,uCAAK9B,WAAL,CAAiB4F,iBAAjB,CAAmC,KAAKvE,aAAxC,EAAuDgD,IAAvD,CAA4D,UAAAwB,QAAQ,EAAI;AACtE,wCAAIC,SAAS,GAAGP,IAAI,CAACQ,KAAL,CAAWF,QAAQ,CAACF,IAApB,CAAhB;AACAL,kDAAc,CAACT,OAAf,CAAuB,QAAvB,EAAiCiB,SAAS,CAACjE,EAA3C;AACAsC,0CAAM,CAACc,OAAP;AACA,0CAAI,CAACnD,YAAL,GAAoB,KAApB;AACD,mCALD;AAMD;;AAvBqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AA4BH;AAtwBwB;AAAA;AAAA,uCAwwBb;AACV;AACA;AACA;AAEAyC,sBAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBM,QAArC,CAAjC;AACAiC,sBAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuC,MAAvC,EANU,CAOV;;AACAS,wBAAc,CAACT,OAAf,CAAuB,YAAvB,EAAqCU,IAAI,CAACC,SAAL,CAAe,KAAK3C,kBAAL,CAAwBX,UAAvC,CAArC;AACAqC,sBAAY,CAACM,OAAb,CAAqB,QAArB,EAA+B,KAAK7C,gBAAL,CAAsBO,MAArD;AACA,cAAIyD,OAAO,GAAG,KAAKhE,gBAAnB;AACAuC,sBAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCmB,OAAO,CAAC9D,UAAR,CAAmB+D,OAAnB,GAA6B,GAA7B,GAAmCD,OAAO,CAAC9D,UAAR,CAAmBgE,eAAxF;AACA3B,sBAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCmB,OAAO,CAAC9D,UAAR,CAAmBiE,KAApD;AACA5B,sBAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCmB,OAAO,CAAC9D,UAAR,CAAmBkE,SAArD,EAbU,CAcV;AACA;;AACA7B,sBAAY,CAACM,OAAb,CAAqB,YAArB,EAAmCU,IAAI,CAACC,SAAL,CAAe,KAAK3C,kBAAL,CAAwBX,UAAvC,CAAnC;;AACA,cAAI8D,OAAO,CAAC3D,eAAZ,EAA6B;AAC3B;AACA,gBAAIgE,IAAI,GAAG,EAAX;AACA,gBAAIC,OAAO,GAAGN,OAAO,CAAC3D,eAAR,CAAwBkE,MAAxB,CAA+B,UAAAC,CAAC;AAAA,qBAAIH,IAAI,CAACG,CAAC,CAAC3E,EAAH,CAAJ,GAAa,KAAb,GAAqBwE,IAAI,CAACG,CAAC,CAAC3E,EAAH,CAAJ,GAAa,IAAtC;AAAA,aAAhC,CAAd;AACAmE,mBAAO,CAAC3D,eAAR,GAA0BiE,OAA1B;AACA,gBAAIG,WAAW,GAAGlB,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAAC3D,eAAvB,CAAlB,CAL2B,CAM3B;;AACAkC,wBAAY,CAACM,OAAb,CAAqB,iBAArB,EAAwC4B,WAAxC;AACD;;AACDlC,sBAAY,CAACM,OAAb,CAAqB,qBAArB,EAA4CU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBS,mBAArC,CAA5C;AAEA8B,sBAAY,CAACM,OAAb,CAAqB,kBAArB,EAAyCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBU,gBAArC,CAAzC;AAEA6B,sBAAY,CAACM,OAAb,CAAqB,mBAArB,EAA0CU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBW,kBAArC,CAA1C;AAEA,eAAK8B,gBAAL,GAAwB,CAACC,IAAI,CAACC,MAAL,MAAiB,UAAU,CAA3B,IAAgC,CAAjC,EAAoCC,QAApC,KAAiD,QAAzE;AACAL,sBAAY,CAACM,OAAb,CAAqB,mBAArB,EAA0C,KAAKJ,gBAA/C;AAEAa,wBAAc,CAACT,OAAf,CAAuB,SAAvB,EAAkCU,IAAI,CAACC,SAAL,CAAe,KAAK3C,kBAAL,CAAwBC,OAAvC,CAAlC;AAEAwC,wBAAc,CAACT,OAAf,CAAuB,iBAAvB,EAA0CU,IAAI,CAACC,SAAL,CAAe,KAAK3C,kBAAL,CAAwBE,eAAvC,CAA1C;AAEAwB,sBAAY,CAACM,OAAb,CAAqB,cAArB,EAAqCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBY,YAArC,CAArC;AACA2B,sBAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBI,QAArC,CAAjC;AACAmC,sBAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBG,QAArC,CAAjC;AAEAoC,sBAAY,CAACM,OAAb,CAAqB,kCAArB,EAAyD,oCAAM,GAAG6B,GAAT,CAAa,CAAb,EAAgB,MAAhB,EAAwBC,MAAxB,CAA+B,kBAA/B,CAAzD;AACApC,sBAAY,CAACM,OAAb,CAAqB,8BAArB,EAAqD,oCAAM,GAAG6B,GAAT,CAAa,CAAb,EAAe,MAAf,EAAuBC,MAAvB,CAA8B,kBAA9B,CAArD;AACApC,sBAAY,CAACM,OAAb,CAAqB,8BAArB,EAAqD,oCAAM,GAAG6B,GAAT,CAAa,CAAb,EAAe,MAAf,EAAuBC,MAAvB,CAA8B,kBAA9B,CAArD;AACApC,sBAAY,CAACM,OAAb,CAAqB,gBAArB,EAAsCU,IAAI,CAACC,SAAL,CAAe,KAAKxD,gBAAL,CAAsBC,cAArC,CAAtC;AACA,eAAK2E,aAAL,GAAqB,CAArB;AACA,eAAKC,OAAL,GAAe,OAAf;AAEA,eAAKC,QAAL,GAAgB,IAAhB;AAEA,eAAKC,OAAL;AACD;AA7zBwB;AAAA;AAAA,4CA8zBC;;;;;;;;;AACpBC,0B,GAAS,KAAKxD,KAAL,CAAWyD,QAAX,CAAoBC,KAApB,CAA0BC,K;AACnCC,4B,GAAW,KAAK5D,KAAL,CAAWyD,QAAX,CAAoBI,KAApB,GAA4B,KAAKtH,MAAL,CAAYuH,SAAZ,CAAsB,KAAK9D,KAAL,CAAWyD,QAAX,CAAoBI,KAApB,CAA0BF,KAAhD,CAA5B,GAAqF,E,EAEpG;;AACA,yBAAKrF,YAAL,GAAoB,IAApB;;AACa,2BAAM,KAAK7B,OAAL,CAAa8D,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKtE,MAAL,CAAYuE,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKtE,WAAL,CAAiBuH,4BAAjB,CAA8CP,MAA9C,EAAsDI,QAAtD,EAAgE1B,SAAhE,CAA0E,UAACC,IAAD,EAAU;AAClF,wCAAIA,IAAJ,EAAU;AACR,0CAAIG,SAAS,GAAGH,IAAhB;AACApB,kDAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCU,IAAI,CAACC,SAAL,CAAeM,SAAf,CAAjC;AACAvB,kDAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuC,MAAvC;AACAV,4CAAM,CAACc,OAAP;AACA,0CAAIuC,QAAQ,GAAGjC,IAAI,CAACQ,KAAL,CAAWxB,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAf;;AAEA,4CAAI,CAACiD,cAAL,CAAoBD,QAAQ,CAACE,GAA7B,EAAkCN,QAAlC;AACD,qCARD,MASK;AACH,4CAAI,CAACrH,MAAL,CAAY4H,YAAZ,CAAyB,qCAAzB,EAAgE,QAAhE,EAA0E,IAA1E;;AACA,4CAAI,CAAC7F,YAAL,GAAoB,KAApB;AACAqC,4CAAM,CAACc,OAAP;AACA;AACD;AAEF,mCAjBD,EAiBG,UAAA2C,KAAK,EAAI;AACV;AACA;AACA,0CAAI,CAAC9F,YAAL,GAAoB,KAApB;AACAqC,0CAAM,CAACc,OAAP;;AACA,0CAAI,CAAC4C,YAAL;AACD,mCAvBD;AAwBD,iCA1BD,MA2BK;AACH;AACA,uCAAK7H,WAAL,CAAiB8H,kCAAjB,CAAoDd,MAApD,EAA4DI,QAA5D,EAAsE/C,IAAtE,CAA2E,UAACsB,IAAD,EAAU;AACnF,wCAAIG,SAAS,GAAGP,IAAI,CAACQ,KAAL,CAAWJ,IAAI,CAACA,IAAhB,CAAhB;;AACA,wCAAIG,SAAJ,EAAe;AACbvB,kDAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCU,IAAI,CAACC,SAAL,CAAeM,SAAf,CAAjC;AACAvB,kDAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuC,MAAvC;AACAV,4CAAM,CAACc,OAAP;AACA,0CAAIuC,QAAQ,GAAGjC,IAAI,CAACQ,KAAL,CAAWxB,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAf;;AACA,4CAAI,CAACiD,cAAL,CAAoBD,QAAQ,CAACE,GAA7B,EAAkCN,QAAlC;AACD,qCAND,MAOK;AACH,4CAAI,CAACrH,MAAL,CAAY4H,YAAZ,CAAyB,qCAAzB,EAAgE,QAAhE,EAA0E,IAA1E;;AACA,4CAAI,CAAC7F,YAAL,GAAoB,KAApB;AACAqC,4CAAM,CAACc,OAAP;AACA;AACD;AAEF,mCAhBD,WAgBS,UAAA2C,KAAK,EAAI;AAChB;AACA;AACA,0CAAI,CAAC9F,YAAL,GAAoB,KAApB;AACAqC,0CAAM,CAACc,OAAP;;AACA,0CAAI,CAAC4C,YAAL;AACD,mCAtBD;AAuBD;;AArDqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAuDD;AAh4BwB;AAAA;AAAA,gDAk4BK;;;;;;;AAC5B,yBAAK/F,YAAL,GAAoB,IAApB;AACIiG,uB,GAAM,KAAKvE,KAAL,CAAWyD,QAAX,CAAoBc,GAApB,CAAwBZ,K;AAC9BC,4B,GAAW,KAAK5D,KAAL,CAAWyD,QAAX,CAAoBI,KAApB,GAA4B,KAAKtH,MAAL,CAAYuH,SAAZ,CAAsB,KAAK9D,KAAL,CAAWyD,QAAX,CAAoBI,KAApB,CAA0BF,KAAhD,CAA5B,GAAqF,E;AACpG5C,gCAAY,CAACM,OAAb,CAAqB,gBAArB,EAAuC,OAAvC;AACA,yBAAK4C,cAAL,CAAoBM,GAApB,EAAyBX,QAAzB;;;;;;;;;AACD;AAx4BwB;AAAA;AAAA,mCA04BR;;;;;;;AACf;AACIY,yB,GAAQ,I;;AACZ,wBAAI,KAAKjI,MAAL,CAAYuE,aAAZ,EAAJ,EAAiC;AAC/B,0BAAIgB,cAAc,CAACd,OAAf,CAAuB,UAAvB,CAAJ,EAAwC;AACtC,4BAAIc,cAAc,CAACd,OAAf,CAAuB,UAAvB,KAAsC,SAA1C,EAAqD;AACnDwD,+BAAK,GAAG,KAAR;AACD;AACF;AAEF;;0BACGA,KAAK,IAAI,K;;;;;AACX,yBAAKjI,MAAL,CAAY4H,YAAZ,CAAyB,+BAAzB,EAA0D,QAA1D,EAAoE,IAApE,E,CACA;;AACA,yBAAK7H,OAAL,CAAayD,YAAb,CAA0B,OAA1B;;;;;yBAGI,KAAKC,KAAL,CAAWyE,O;;;;;;;;AAGf,wBAAI,KAAK7G,eAAT,EAA0B;AACxB;AACA,2BAAK8G,qBAAL;AACD,qBAHD,MAIK;AACH;AACA,2BAAKC,iBAAL;AACD;;;;;;;;;AAEJ;AAv6BwB;AAAA;AAAA,uCAw6BJC,QAx6BI,EAw6BMhB,QAx6BN,EAw6BgB;;;;;;;;;AACvC;AAEIiB,qB,GAAI;AAAEC,8BAAQ,EAAEF,QAAZ;AAAsBG,8BAAQ,EAAEnB,QAAhC;AAA0CoB,qCAAe,EAAE,KAAKpH,eAAhE;AAAiFqH,8BAAQ,EAAE,KAAK1I,MAAL,CAAY2I,eAAZ;AAA3F,qB;AAER,yBAAK5G,YAAL,GAAoB,IAApB;;AACa,2BAAM,KAAK7B,OAAL,CAAa8D,MAAb,CAAoB;AACrCC,8BAAQ,EAAE,eAD2B;AAErCC,kCAAY,EAAE,KAFuB;AAGrCC,6BAAO,EAAE;AAH4B,qBAApB,CAAN;;;AAATC,0B;;AAOJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAKtE,MAAL,CAAYuE,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAKjE,MAAL,CAAYsI,eAAZ,CAA4BN,CAA5B,EAA+B3C,SAA/B,CAAyC,UAACG,QAAD,EAAmB;AAC1D,0CAAI,CAAC+C,aAAL,CAAmB/C,QAAnB,EAA6B1B,MAA7B;AACD,mCAFD,EAGE,UAACyD,KAAD,EAAW;AACTzD,0CAAM,CAACc,OAAP;AACA,0CAAI,CAACnD,YAAL,GAAoB,KAApB;AACA;AACD,mCAPH;AAQD,iCAVD,MAWK;AACH;AACA,uCAAKzB,MAAL,CAAYwI,cAAZ,CAA2BR,CAA3B,EAA8BhE,IAA9B,CAAmC,UAACwB,QAAD,EAAmB;AACpD,0CAAI,CAAC+C,aAAL,CAAmBrD,IAAI,CAACQ,KAAL,CAAWF,QAAQ,CAACF,IAApB,CAAnB,EAA8CxB,MAA9C;AACD,mCAFD,EAGE,UAACyD,KAAD,EAAW;AACT,0CAAI,CAAC7H,MAAL,CAAY4H,YAAZ,CAAyB,qCAAzB,EAAgE,QAAhE,EAA0E,IAA1E;;AACA,0CAAI,CAAC7F,YAAL,GAAoB,KAApB;AACAqC,0CAAM,CAACc,OAAP;AACA;AACD,mCARH;AAUD;;AAxBqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AA0BD;AA/8BwB;AAAA;AAAA,wCAg9BTe,OAh9BS,EAg9BA8C,IAh9BA,EAg9BMrC,WAh9BN,EAg9BmB;AAC1C;AACAnB,wBAAc,CAACT,OAAf,CAAuB,YAAvB,EAAqCiE,IAArC;AACAvE,sBAAY,CAACM,OAAb,CAAqB,QAArB,EAA+BmB,OAAO,CAAC9D,UAAR,CAAmB6G,GAAlD;AACAxE,sBAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCmB,OAAO,CAAC9D,UAAR,CAAmB+D,OAAnB,GAA6B,GAA7B,GAAmCD,OAAO,CAAC9D,UAAR,CAAmBgE,eAAxF;AACA3B,sBAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCmB,OAAO,CAAC9D,UAAR,CAAmBiE,KAApD;AACA5B,sBAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCmB,OAAO,CAAC9D,UAAR,CAAmBkE,SAArD,EAN0C,CAO1C;AACA;;AACA7B,sBAAY,CAACM,OAAb,CAAqB,YAArB,EAAmCiE,IAAnC;;AACA,cAAI9C,OAAO,CAAC3D,eAAZ,EAA6B;AAC3B;AACA,gBAAIgE,IAAI,GAAG,EAAX;AACA,gBAAIC,OAAO,GAAGN,OAAO,CAAC3D,eAAR,CAAwBkE,MAAxB,CAA+B,UAAAC,CAAC;AAAA,qBAAIH,IAAI,CAACG,CAAC,CAAC3E,EAAH,CAAJ,GAAa,KAAb,GAAqBwE,IAAI,CAACG,CAAC,CAAC3E,EAAH,CAAJ,GAAa,IAAtC;AAAA,aAAhC,CAAd;AACAmE,mBAAO,CAAC3D,eAAR,GAA0BiE,OAA1B;AACAG,uBAAW,GAAGlB,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAAC3D,eAAvB,CAAd,CAL2B,CAM3B;;AACAkC,wBAAY,CAACM,OAAb,CAAqB,iBAArB,EAAwC4B,WAAxC;AACD;;AACD,cAAIT,OAAO,CAACgD,iBAAR,IAA6BhD,OAAO,CAACgD,iBAAR,CAA0BC,MAA1B,IAAoC,CAArE,EAAwE;AACtE1E,wBAAY,CAACM,OAAb,CAAqB,qBAArB,EAA4CU,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACgD,iBAAvB,CAA5C;AACD;;AACD,cAAIhD,OAAO,CAACkD,eAAR,IAA2BlD,OAAO,CAACkD,eAAR,CAAwBD,MAAxB,IAAkC,CAAjE,EAAoE;AAClE1E,wBAAY,CAACM,OAAb,CAAqB,kBAArB,EAAyCU,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACkD,eAAvB,CAAzC;AACD;;AACD,cAAIlD,OAAO,CAACmD,gBAAR,IAA4BnD,OAAO,CAACmD,gBAAR,CAAyBF,MAAzB,IAAmC,CAAnE,EAAsE;AACpE1E,wBAAY,CAACM,OAAb,CAAqB,mBAArB,EAA0CU,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACmD,gBAAvB,CAA1C;AACD;;AAGD,eAAKvC,aAAL,GAAqBZ,OAAO,CAACoD,aAAR,CAAsBxC,aAA3C;AACA,eAAKC,OAAL,GAAeb,OAAO,CAACoD,aAAR,CAAsBvC,OAArC;AAEA,eAAKC,QAAL,GAAgB,IAAhB;AACA;;AAED;AAp/BwB;AAAA;AAAA,sCAq/BXjB,QAr/BW,EAq/BD1B,MAr/BC,EAq/BO;AAC9B,cAAI6B,OAAO,GAAGH,QAAd;AACA,cAAIwD,YAAY,GAAG,KAAnB;;AACA,cAAIrD,OAAO,CAACoD,aAAZ,EAA2B;AACzB,gBAAIpD,OAAO,CAACoD,aAAR,CAAsBxC,aAAtB,IAAuC,CAA3C,EAA8C;AAC5C;AACA,kBAAIkC,IAAJ;AACA,kBAAIrC,WAAJ;;AACA,kBAAIT,OAAO,CAAC9D,UAAZ,EAAwB;AACtB4G,oBAAI,GAAGvD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAAC9D,UAAvB,CAAP,CADsB,CAEtB;;AACA,oBAAI4G,IAAI,CAACQ,KAAL,IAAc,KAAKhJ,aAAL,CAAmBiJ,uBAAnB,EAAlB,EAAgE;AAC9D;AACA,sBAAIvD,OAAO,CAAC9D,UAAR,CAAmBsH,kBAAnB,IAAyCxD,OAAO,CAAC9D,UAAR,CAAmBsH,kBAAnB,CAAsCP,MAAtC,GAA+C,CAA5F,EAA+F;AAC7F;AACAI,gCAAY,GAAG,IAAf;AACA,yBAAKI,eAAL,CAAqBzD,OAArB,EAA8B8C,IAA9B,EAAoCrC,WAApC;AACAtC,0BAAM,CAACc,OAAP;AACA,yBAAKnD,YAAL,GAAoB,KAApB;AACD,mBAND,MAOK;AACH;AACA,yBAAK/B,MAAL,CAAY4H,YAAZ,CAAyB,uCAAzB,EAAkE,QAAlE,EAA4E,IAA5E;AACAxD,0BAAM,CAACc,OAAP;AACA,yBAAKnD,YAAL,GAAoB,KAApB;AACA;AACD;AACF,iBAhBD,MAiBK;AACH;AACAuH,8BAAY,GAAG,IAAf;AACA,uBAAKI,eAAL,CAAqBzD,OAArB,EAA8B8C,IAA9B,EAAoCrC,WAApC;AACAtC,wBAAM,CAACc,OAAP;AACA,uBAAKnD,YAAL,GAAoB,KAApB;AACD;AAEF,eAhC2C,CAkC5C;;;AACA,kBAAI,CAACuH,YAAL,EAAmB;AACjB,qBAAKtJ,MAAL,CAAY4H,YAAZ,CAAyB,6EAAzB,EAAwG,QAAxG,EAAkH,IAAlH;AACD;;AACD,mBAAK+B,UAAL,GAtC4C,CAuC5C;;AACA,mBAAKC,gBAAL;AACA,mBAAK5C,OAAL;AACD,aA1CD,MA2CK;AACH,mBAAKD,QAAL,GAAgB,KAAhB;AACA,mBAAKF,aAAL,GAAqBZ,OAAO,CAACoD,aAAR,CAAsBxC,aAA3C;AACA,mBAAKC,OAAL,GAAeb,OAAO,CAACoD,aAAR,CAAsBvC,OAArC;AACA,mBAAKC,QAAL,GAAgB,IAAhB;AACA3C,oBAAM,CAACc,OAAP;AACA,mBAAKnD,YAAL,GAAoB,KAApB;AACA,mBAAK/B,MAAL,CAAY4H,YAAZ,CAAyB,KAAKd,OAA9B,EAAuC,QAAvC,EAAiD,IAAjD;AACA;AACD;AAEF,WAvDD,MAwDK;AACH;AACA,iBAAKC,QAAL,GAAgB,KAAhB;AACA,iBAAKF,aAAL,GAAqB,IAArB;AACA,iBAAKC,OAAL,GAAe,wBAAf;AACA,iBAAKC,QAAL,GAAgB,IAAhB;AACA,iBAAKhF,YAAL,GAAoB,KAApB;AACAqC,kBAAM,CAACc,OAAP;AACA,iBAAKlF,MAAL,CAAY4H,YAAZ,CAAyB,KAAKd,OAA9B,EAAuC,QAAvC,EAAiD,IAAjD;AACA;AACD;AACF;AA3jCwB;AAAA;AAAA,kCA4jCf;AACR,eAAK/G,OAAL,CAAayD,YAAb,CAA0B,MAA1B;AACD;AA9jCwB;AAAA;AAAA,2CA+jCN;AACjB,eAAKzD,OAAL,CAAayD,YAAb,CAA0B,iBAA1B;AACD;AAjkCwB;AAAA;AAAA,4BAkkCjB;AAAE,iBAAO,KAAKC,KAAL,CAAWyD,QAAlB;AAA6B;AAlkCd;;AAAA;AAAA,OAA3B;;;;cA4kBqB;;cACF;;cACK;;cACJ;;cACK;;cACE;;cACP;;cACD;;cACO;;cACH;;cACA;;cACF;;cACF;;cACU;;cACE;;cACJ;;cACP;;;;AA5lBPpH,kBAAc,6DAL1B,gEAAU;AACT+J,cAAQ,EAAE,iBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,sGAFS;;;;AAAA,KAAV,CAK0B,GAAdhK,cAAc,CAAd","file":"nuevo-login-nuevo-login-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\">\\n  <app-progress [mostrar]=\\\"estaCargando\\\" titulo=\\\"Estamos ingresando a la app\\\"></app-progress>\\n\\n  <div [hidden]=\\\"estaCargando\\\" class=\\\"row mt-24\\\">\\n    <img src=\\\"../../assets/imgs_svg/login.svg\\\" alt=\\\"asistente\\\"/>\\n  </div>\\n  <form [hidden]=\\\"estaCargando\\\" [formGroup]=\\\"forma\\\" novalidate>\\n    <ion-row class=\\\"ion-no-margin ion-no-padding mt-80\\\">\\n      <!-- solo para enrolamiento -->\\n      <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\" [hidden]=\\\"usaEnrolamiento == false\\\">\\n        <mat-label>RUN</mat-label>\\n        <input matInput placeholder=\\\"125458524\\\" formControlName=\\\"run\\\" name=\\\"run\\\">\\n        <mat-error [hidden]=\\\"usaEnrolamiento == false\\\">Run requerido</mat-error>\\n      </mat-form-field>\\n\\n      <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\" [hidden]=\\\"usaEnrolamiento\\\">\\n        <mat-label>Correo electrónico</mat-label>\\n        <input matInput placeholder=\\\"ejemplo@gmail.com\\\" formControlName=\\\"email\\\" name=\\\"email\\\">\\n        <!--<mat-error [hidden]=\\\"usaEnrolamiento\\\">Correo requerido</mat-error>-->\\n        <mat-error [hidden]=\\\"usaEnrolamiento\\\">Correo inválido</mat-error>\\n      </mat-form-field>\\n  \\n      <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n        <mat-label>Contraseña</mat-label>\\n        <input matInput placeholder=\\\"Clave\\\" type=\\\"password\\\" name=\\\"clave\\\" formControlName=\\\"clave\\\" required>\\n        <mat-error [hidden]=\\\"!(f.clave.errors && f.clave.errors.required)\\\">Clave requerida</mat-error>\\n      </mat-form-field>\\n    </ion-row>\\n    <ion-row class=\\\"ion-no-padding ion-no-margin mt-40\\\">\\n      <button class=\\\"boton-Principal\\\" mat-raised-button color=\\\"primary\\\" style=\\\"width: 90%; margin-left: 5%; height:36px;\\\" (click)=\\\"onSubmit()\\\">INICIAR SESION</button>\\n    </ion-row>\\n  </form>\\n  <ion-row [hidden]=\\\"estaCargando\\\" class=\\\"mt-36\\\" [hidden]=\\\"usaEnrolamiento\\\">\\n    <a mat-button routerLink=\\\".\\\" color=\\\"primary\\\" class=\\\"ion-text-center accent-color\\\" style=\\\"width: 100%;\\\" (click)=\\\"irRecuperarClave()\\\">¿Olvidaste tu contraseña?</a>\\n  </ion-row>\\n  <ion-grid [hidden]=\\\"estaCargando\\\" class=\\\"ion-no-padding mt-36\\\">\\n    <ion-row>\\n      <ion-col class=\\\"ion-text-center texto-1\\\" style=\\\"margin-top:8px;\\\">\\n        ¿No tienes cuenta?\\n      </ion-col>\\n      <ion-col>\\n        <button class=\\\"accent-color\\\" (click)=\\\"abrirAsistente()\\\" mat-button color=\\\"primary\\\">REGISTRATE</button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\n\nimport { NuevoLoginPage } from './nuevo-login.page';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    ComponentsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: NuevoLoginPage\n      }\n    ])\n  ],\n  declarations: [NuevoLoginPage]\n})\nexport class NuevoLoginPageModule {}\n","export default \".mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n\\n.texto-1 {\\n  font-size: 0.875em;\\n  color: #0000008A;\\n}\\n\\n.example-container .mat-form-field + .mat-form-field {\\n  margin-left: 8px;\\n}\\n\\n.example-right-align {\\n  text-align: right;\\n}\\n\\ninput.example-right-align::-webkit-outer-spin-button,\\ninput.example-right-align::-webkit-inner-spin-button {\\n  display: none;\\n}\\n\\ninput.example-right-align {\\n  -moz-appearance: textfield;\\n}\\n\\n.accent-color {\\n  color: #FF4081;\\n}\\n\\n.boton-Principal {\\n  background-color: #FF4081;\\n  color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3Jjb3JvbmFkby9EZXNrdG9wL21pRmFtaWxpYV9wcmUvc3JjL2FwcC9udWV2by1sb2dpbi9udWV2by1sb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL251ZXZvLWxvZ2luL251ZXZvLWxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxnQkFBQTtBQ0VGOztBREFBO0VBQ0UsZUFBQTtBQ0dGOztBRERBO0VBQ0UsaUJBQUE7QUNJRjs7QURGQTtFQUNFLGtCQUFBO0FDS0Y7O0FESEE7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0FDTUY7O0FESEE7RUFDRSxnQkFBQTtBQ01GOztBREhBO0VBQ0UsaUJBQUE7QUNNRjs7QURIQTs7RUFFRSxhQUFBO0FDTUY7O0FESEE7RUFDRSwwQkFBQTtBQ01GOztBREZBO0VBQ0UsY0FBQTtBQ0tGOztBREZBO0VBQ0UseUJBQUE7RUFDQSxjQUFBO0FDS0YiLCJmaWxlIjoic3JjL2FwcC9udWV2by1sb2dpbi9udWV2by1sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubXQtMzJ7XHJcbiAgbWFyZ2luLXRvcDogMzJweDtcclxufVxyXG4ubXQtMjR7XHJcbiAgbWFyZ2luLXRvcDogMjRweDtcclxufVxyXG4ubXQtODB7XHJcbiAgbWFyZ2luLXRvcDogNWVtO1xyXG59XHJcbi5tdC00MHtcclxuICBtYXJnaW4tdG9wOiAyLjVlbTtcclxufVxyXG4ubXQtMzZ7XHJcbiAgbWFyZ2luLXRvcDogMi4yNWVtO1xyXG59XHJcbi50ZXh0by0xe1xyXG4gIGZvbnQtc2l6ZTogMC44NzVlbTtcclxuICBjb2xvcjogIzAwMDAwMDhBO1xyXG4gIFxyXG59XHJcbi5leGFtcGxlLWNvbnRhaW5lciAubWF0LWZvcm0tZmllbGQgKyAubWF0LWZvcm0tZmllbGQge1xyXG4gIG1hcmdpbi1sZWZ0OiA4cHg7XHJcbn1cclxuXHJcbi5leGFtcGxlLXJpZ2h0LWFsaWduIHtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuaW5wdXQuZXhhbXBsZS1yaWdodC1hbGlnbjo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbixcclxuaW5wdXQuZXhhbXBsZS1yaWdodC1hbGlnbjo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuaW5wdXQuZXhhbXBsZS1yaWdodC1hbGlnbiB7XHJcbiAgLW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XHJcbn1cclxuXHJcbi8vQWp1c3RlcyBkZSBlc3RpbG9zIFxyXG4uYWNjZW50LWNvbG9yIHtcclxuICBjb2xvcjogI0ZGNDA4MTtcclxufVxyXG5cclxuLmJvdG9uLVByaW5jaXBhbCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGNDA4MTtcclxuICBjb2xvcjogI2ZmZmZmZjtcclxufSIsIi5tdC0zMiB7XG4gIG1hcmdpbi10b3A6IDMycHg7XG59XG5cbi5tdC0yNCB7XG4gIG1hcmdpbi10b3A6IDI0cHg7XG59XG5cbi5tdC04MCB7XG4gIG1hcmdpbi10b3A6IDVlbTtcbn1cblxuLm10LTQwIHtcbiAgbWFyZ2luLXRvcDogMi41ZW07XG59XG5cbi5tdC0zNiB7XG4gIG1hcmdpbi10b3A6IDIuMjVlbTtcbn1cblxuLnRleHRvLTEge1xuICBmb250LXNpemU6IDAuODc1ZW07XG4gIGNvbG9yOiAjMDAwMDAwOEE7XG59XG5cbi5leGFtcGxlLWNvbnRhaW5lciAubWF0LWZvcm0tZmllbGQgKyAubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW4tbGVmdDogOHB4O1xufVxuXG4uZXhhbXBsZS1yaWdodC1hbGlnbiB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG5pbnB1dC5leGFtcGxlLXJpZ2h0LWFsaWduOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uLFxuaW5wdXQuZXhhbXBsZS1yaWdodC1hbGlnbjo6LXdlYmtpdC1pbm5lci1zcGluLWJ1dHRvbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbmlucHV0LmV4YW1wbGUtcmlnaHQtYWxpZ24ge1xuICAtbW96LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcbn1cblxuLmFjY2VudC1jb2xvciB7XG4gIGNvbG9yOiAjRkY0MDgxO1xufVxuXG4uYm90b24tUHJpbmNpcGFsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGNDA4MTtcbiAgY29sb3I6ICNmZmZmZmY7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, Platform, AlertController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder, FormControl, ValidatorFn } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n//servicios\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioGeo } from '../../app/services/ServicioGeo';\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\nimport { ServicioParametrosApp } from '../../app/services/ServicioParametrosApp';\nimport { ServicioFCM } from '../../app/services/ServicioFCM';\nimport { ServicioNotificaciones } from '../../app/services/ServicioNotificaciones';\nimport { NetworkService, ConnectionStatus } from '../../app/services/network.service';\nimport { NavigationExtras } from '@angular/router';\nimport { AppVersion } from '@ionic-native/app-version/ngx';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Device } from '@ionic-native/device/ngx';\n\nimport * as moment from 'moment';\n\n//estoy implementando progress bar\n//aca hay que controlar cuando no hay internet\n\n@Component({\n  selector: 'app-nuevo-login',\n  templateUrl: './nuevo-login.page.html',\n  styleUrls: ['./nuevo-login.page.scss'],\n})\nexport class NuevoLoginPage implements OnInit {\n  hide = true;\n\n  registro;\n  forma: FormGroup;\n  nombreMostrar;\n  //para validar\n  patternOnlyLetter = '[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1 ]+$';\n  expCelular = /^(\\+?56)?(\\s?)(0?9)(\\s?)[9876543]\\d{7}$/gm;\n  expPassword = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$/gm;\n  expEmail = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/gm;\n  isLogged: boolean;\n  loggedIn: boolean;\n  CodigoMensaje: any;\n  Mensaje: string;\n  tokenDispositivo;\n  //para validarse solo con enrolamiento\n  usaEnrolamiento = false;\n  //PARA REGISTRAR EL MOVIMIENTO DE INGRESO\n  objetoEntrada = {\n    VersionAppName: '',\n    Plataforma: '',\n    Token: '',\n    VersionAppNumber: '',\n    Fecha: new Date(),\n    TipoOperacion: '0',\n    Id: '0'\n  };\n  //para progress bar\n  estaCargando = false;\n  esDataLocal = false;\n  dataLocalStorage = {\n    PARAMETROS_APP: [\n      {\n        \"Id\": 1,\n        \"Nombre\": \"USA_CLAVE_UNICA\",\n        \"Valor\": \"0\",\n        \"Descripcion\": \"DEFINE SI LA APP USA CLAVE UNICA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 2,\n        \"Nombre\": \"HORAS_FECHA_INICIO\",\n        \"Valor\": \"3\",\n        \"Descripcion\": \"DETERMINA LA CANTIDAD DE HORAS DESDE LA HORA ACTUAL PARA EMPEZAR A CONSULTAR AGENDAMIENTO REMOTO                                                                                                                                                                                                                                                                                                                                                                                                                    \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 3,\n        \"Nombre\": \"USA_ENTIDAD_CONTRATANTE\",\n        \"Valor\": \"1\",\n        \"Descripcion\": \"DETERMINA SI USA ENTIDAD CONTRATANTE AL LOGUEARSE, ES PARTE DE LA VALIDACION                                                                                                                                                                                                                                                                                                                                                                                                                                        \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 4,\n        \"Nombre\": \"USA_LOGIN_ENROLAMIENTO\",\n        \"Valor\": \"0\",\n        \"Descripcion\": \"DETERMINA SI USA ENROLAMIENTO EN VEZ DE REGISTRO                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 5,\n        \"Nombre\": \"USA_API_MANAGEMENT\",\n        \"Valor\": \"1\",\n        \"Descripcion\": \"DETERMINA SI USA API MANAGEMENT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 6,\n        \"Nombre\": \"USA_LOG_MODULOS\",\n        \"Valor\": \"1\",\n        \"Descripcion\": \"DETERMINA SI ESCRIBE LAS ACCIONES EN LA TABLA MAP_MOVIMIENTOS_APP                                                                                                                                                                                                                                                                                                                                                                                                                                                   \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 7,\n        \"Nombre\": \"DIAS_LOG_MODULOS\",\n        \"Valor\": \"5\",\n        \"Descripcion\": \"DETERMINA LA CANTIDAD DE DIAS PARA CONSULTAR LOS MOVIMIENTOS DEL USUARIO EN LOS MODULOS DE LA APLICACIÓN                                                                                                                                                                                                                                                                                                                                                                                                            \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 8,\n        \"Nombre\": \"RESTRINGE_REGISTRO_MENORES_EDAD\",\n        \"Valor\": \"1\",\n        \"Descripcion\": \"DETERMINA SI RESGTRINGE EL REGISTRO A LA APP A MENORES DE EDAD, POR DEFECTO DEBE RESTRINGIRLO, SIN EMBARGO SE PARAMETRIZA IGUAL.                                                                                                                                                                                                                                                                                                                                                                                    \",\n        \"Eliminado\": 0\n      },\n      {\n        \"Id\": 9,\n        \"Nombre\": \"URL_ACEPTA_CONDICIONES\",\n        \"Valor\": \"#\",\n        \"Descripcion\": \"URL DEL ARCHIVO PDF QUE TIENE EL ACEPTA CONDICIONES DE LA APP MI FAMILIA.                                                                                                                                                                                                                                                                                                                                                                                                                                           \",\n        \"Eliminado\": 0\n      }\n    ],\n    UsuarioAps: {\n      \"Id\": 15029781,\n      \"NodId\": 2411,\n      \"Nombres\": \"Victor Edgardo\",\n      \"ApellidoPaterno\": \"Coronado\",\n      \"ApellidoMaterno\": \"Troncoso\",\n      \"Rut\": \"400000018\",\n      \"Direccion\": \"Cordon Roma 0621 - Villa La Primavera, Puente Alto- Chile\",\n      \"FechaDeNacimiento\": \"1973-01-24T12:57:00\",\n      \"IdRyf\": \"15245358\",\n      \"Edad\": 48,\n      \"Establecimiento\": {\n        \"RazonSocial\": \"RAYENSALUD [CESFAM]\",\n        \"Dominio\": \"CESFAMRAYENSALUD\",\n        \"Descripcion\": \"RAYENSALUD [CESFAM]\",\n        \"Direccion1\": \"Paulino Alfonso 3900\",\n        \"CodigoDeis\": \"99-991\"\n      },\n      \"FamId\": 58539323,\n      \"UrlImagen\": \"Recursos/logousuario.png\",\n      \"Color\": \"#757575\",\n      \"EsLogueado\": false,\n      \"Email\": \"vcoronado.alarcon@gmail.com\",\n      \"NombreResponde\": \"Corito Pro\",\n      \"ClavePortal\": \"\",\n      \"ConfiguracionNodo\": {\n        \"NodId\": 2411,\n        \"CodigoDeis2014\": \"199991\"\n      },\n      \"ParametrosRayen\": [\n\n      ],\n      \"EntidadContratante\": [\n        {\n          \"Id\": 1,\n          \"Nombre\": \"S.S. Metropolitano Occidente\",\n          \"Activo\": 1,\n          \"Eliminado\": 0\n        }\n      ],\n      \"Parentezco\": {\n        \"Id\": 26,\n        \"Codigo\": \"SEL\",\n        \"Nombre\": \"La misma persona\",\n        \"Descripcion\": \"La misma persona\",\n        \"Consanguineo\": false,\n        \"Sexo\": 5,\n        \"Mostrar\": true,\n        \"Editar\": true\n      },\n      \"VacunasCovid\": [\n\n      ],\n      \"Contactabilidad\": {\n        \"Id\": 1,\n        \"FechaHoraRegistro\": \"2021-06-18T12:53:30.81\",\n        \"Run\": \"400000018\",\n        \"Telefono\": \"940178392\",\n        \"Email\": \"vcoronado.alarcon@gmail.com\",\n        \"NombreSocial\": \"Corito pro\",\n        \"EtiquetaTelefono\": \"MOVIL_FICHA_FAMILIAR\",\n        \"Eliminado\": 0\n      }\n    },\n    ALERGIAS: [\n      {\n        \"UsuarioAps\": {\n          \"Id\": 15029781,\n          \"NodId\": 2411,\n          \"Nombres\": \"Victor Edgardo\",\n          \"ApellidoPaterno\": \"Coronado\",\n          \"ApellidoMaterno\": \"Troncoso\",\n          \"Rut\": \"400000018\",\n          \"Direccion\": \"Cordon Roma 0621 - Villa La Primavera, Puente Alto- Chile\",\n          \"FechaDeNacimiento\": \"1973-01-24T12:57:00\",\n          \"IdRyf\": \"15245358\",\n          \"Edad\": 48,\n          \"Establecimiento\": {\n            \"RazonSocial\": \"RAYENSALUD [CESFAM]\",\n            \"Dominio\": \"CESFAMRAYENSALUD\",\n            \"Descripcion\": \"RAYENSALUD [CESFAM]\",\n            \"Direccion1\": \"Paulino Alfonso 3900\",\n            \"CodigoDeis\": \"99-991\"\n          },\n          \"FamId\": 58539323,\n          \"UrlImagen\": \"Recursos/logousuario.png\",\n          \"Color\": \"#757575\",\n          \"EsLogueado\": false,\n          \"Email\": \"vcoronado.alarcon@gmail.com\",\n          \"NombreResponde\": \"Corito Pro\",\n          \"ClavePortal\": \"\",\n          \"ConfiguracionNodo\": {\n            \"NodId\": 2411,\n            \"CodigoDeis2014\": \"199991\"\n          },\n          \"ParametrosRayen\": [\n\n          ],\n          \"EntidadContratante\": [\n            {\n              \"Id\": 1,\n              \"Nombre\": \"S.S. Metropolitano Occidente\",\n              \"Activo\": 1,\n              \"Eliminado\": 0\n            }\n          ],\n          \"Parentezco\": {\n            \"Id\": 26,\n            \"Codigo\": \"SEL\",\n            \"Nombre\": \"La misma persona\",\n            \"Descripcion\": \"La misma persona\",\n            \"Consanguineo\": false,\n            \"Sexo\": 5,\n            \"Mostrar\": true,\n            \"Editar\": true\n          },\n          \"VacunasCovid\": [\n\n          ],\n          \"Contactabilidad\": {\n            \"Id\": 1,\n            \"FechaHoraRegistro\": \"2021-06-18T12:53:30.81\",\n            \"Run\": \"400000018\",\n            \"Telefono\": \"940178392\",\n            \"Email\": \"vcoronado.alarcon@gmail.com\",\n            \"NombreSocial\": \"Corito pro\",\n            \"EtiquetaTelefono\": \"MOVIL_FICHA_FAMILIAR\",\n            \"Eliminado\": 0\n          }\n        },\n        \"Alergias\": {\n          \"AlergiasUsp\": [\n            {\n              \"Descripcion\": \"Penicilina\",\n              \"Observacion\": \"No hay\",\n              \"Fecha\": \"2021-06-15T13:10:18\"\n            },\n            {\n              \"Descripcion\": \"Coliflor\",\n              \"Observacion\": \"No hay\",\n              \"Fecha\": \"2021-06-08T00:00:00\"\n            }\n          ],\n          \"RespuestaBase\": {\n            \"CodigoMensaje\": 0,\n            \"Mensaje\": \"Exito\"\n          }\n        }\n      }\n    ],\n    MORBIDOS: [\n      {\n        \"UsuarioAps\": {\n          \"Id\": 15029781,\n          \"NodId\": 2411,\n          \"Nombres\": \"Victor Edgardo\",\n          \"ApellidoPaterno\": \"Coronado\",\n          \"ApellidoMaterno\": \"Troncoso\",\n          \"Rut\": \"400000018\",\n          \"Direccion\": \"Cordon Roma 0621 - Villa La Primavera, Puente Alto- Chile\",\n          \"FechaDeNacimiento\": \"1973-01-24T12:57:00\",\n          \"IdRyf\": \"15245358\",\n          \"Edad\": 48,\n          \"Establecimiento\": {\n            \"RazonSocial\": \"RAYENSALUD [CESFAM]\",\n            \"Dominio\": \"CESFAMRAYENSALUD\",\n            \"Descripcion\": \"RAYENSALUD [CESFAM]\",\n            \"Direccion1\": \"Paulino Alfonso 3900\",\n            \"CodigoDeis\": \"99-991\"\n          },\n          \"FamId\": 58539323,\n          \"UrlImagen\": \"Recursos/logousuario.png\",\n          \"Color\": \"#757575\",\n          \"EsLogueado\": false,\n          \"Email\": \"vcoronado.alarcon@gmail.com\",\n          \"NombreResponde\": \"Corito Pro\",\n          \"ClavePortal\": \"\",\n          \"ConfiguracionNodo\": {\n            \"NodId\": 2411,\n            \"CodigoDeis2014\": \"199991\"\n          },\n          \"ParametrosRayen\": [\n\n          ],\n          \"EntidadContratante\": [\n            {\n              \"Id\": 1,\n              \"Nombre\": \"S.S. Metropolitano Occidente\",\n              \"Activo\": 1,\n              \"Eliminado\": 0\n            }\n          ],\n          \"Parentezco\": {\n            \"Id\": 26,\n            \"Codigo\": \"SEL\",\n            \"Nombre\": \"La misma persona\",\n            \"Descripcion\": \"La misma persona\",\n            \"Consanguineo\": false,\n            \"Sexo\": 5,\n            \"Mostrar\": true,\n            \"Editar\": true\n          },\n          \"VacunasCovid\": [\n\n          ],\n          \"Contactabilidad\": {\n            \"Id\": 1,\n            \"FechaHoraRegistro\": \"2021-06-18T12:53:30.81\",\n            \"Run\": \"400000018\",\n            \"Telefono\": \"940178392\",\n            \"Email\": \"vcoronado.alarcon@gmail.com\",\n            \"NombreSocial\": \"Corito pro\",\n            \"EtiquetaTelefono\": \"MOVIL_FICHA_FAMILIAR\",\n            \"Eliminado\": 0\n          }\n        },\n        \"Morbidos\": {\n          \"Antecedentes\": {\n            \"Familiares\": {\n              \"Antecedente\": [\n                \"Hiperesplenismo\",\n                \"Diabetes mellitus insulinodependiente\"\n              ]\n            },\n            \"Personales\": {\n              \"Antecedente\": [\n                \"Otras hipoglicemias\",\n                \"Hiperqueratosis de frambesia\"\n              ]\n            }\n          }\n        }\n      }\n    ],\n    UsuariosFamilia: [],\n    REGISTRO: {\n      \"Id\": 88,\n      \"CorreoElectronico\": \"vcoronado.alarcon@gmail.com\",\n      \"Password\": \"MTIzNDU2\",\n      \"FechaRegistro\": \"2021-06-18T12:53:56.16\",\n      \"ModoRegistro\": 1,\n      \"NombreUsuario\": \"vcoronado.alarcon@gmail.com\",\n      \"FechaNacimiento\": \"0001-01-01T00:00:00\",\n      \"Sexo\": 0,\n      \"Eliminado\": 0,\n      \"Activo\": 1,\n      \"Nombres\": \"Victor hugo\",\n      \"Apellidos\": \"Troncoso\",\n      \"FechaBaja\": \"0001-01-01T00:00:00\",\n      \"Apodo\": \"Corito producción\",\n      \"Avatar\": \"\",\n      \"VersionAppName\": \"Mi familia app\",\n      \"Plataforma\": \"Android\",\n      \"VersionAppNumber\": \"1.0.0\",\n      \"IdDispositivo\": \"4e30592675cc75d1\",\n      \"Pais\": \"Chile\",\n      \"Provincia\": \"Cordillera Province\",\n      \"Region\": \"Santiago Metropolitan Region\",\n      \"Comuna\": \"Puente Alto\",\n      \"Latitud\": \"\",\n      \"Longitud\": \"\",\n      \"TelefonoContacto\": \"940178392\",\n      \"Run\": \"40000001-8\"\n    },\n    MI_RUT: '400000018',\n    MI_NOMBRE: 'Victor Edgardo Coronado',\n    FAMILIA_POR_ACEPTAR: [],\n    FAMILIA_ACEPTADA: [],\n    FAMILIA_RECHAZAZDA: [],\n    ANTECEDENTES: [\n      {\n        \"UsuarioAps\": {\n          \"Id\": 15029781,\n          \"NodId\": 2411,\n          \"Nombres\": \"Victor Edgardo\",\n          \"ApellidoPaterno\": \"Coronado\",\n          \"ApellidoMaterno\": \"Troncoso\",\n          \"Rut\": \"400000018\",\n          \"Direccion\": \"Cordon Roma 0621 - Villa La Primavera, Puente Alto- Chile\",\n          \"FechaDeNacimiento\": \"1973-01-24T12:57:00\",\n          \"IdRyf\": \"15245358\",\n          \"Edad\": 48,\n          \"Establecimiento\": {\n            \"RazonSocial\": \"RAYENSALUD [CESFAM]\",\n            \"Dominio\": \"CESFAMRAYENSALUD\",\n            \"Descripcion\": \"RAYENSALUD [CESFAM]\",\n            \"Direccion1\": \"Paulino Alfonso 3900\",\n            \"CodigoDeis\": \"99-991\"\n          },\n          \"FamId\": 58539323,\n          \"UrlImagen\": \"Recursos/logousuario.png\",\n          \"Color\": \"#757575\",\n          \"EsLogueado\": false,\n          \"Email\": \"vcoronado.alarcon@gmail.com\",\n          \"NombreResponde\": \"Corito Pro\",\n          \"ClavePortal\": \"\",\n          \"ConfiguracionNodo\": {\n            \"NodId\": 2411,\n            \"CodigoDeis2014\": \"199991\"\n          },\n          \"ParametrosRayen\": [\n\n          ],\n          \"EntidadContratante\": [\n            {\n              \"Id\": 1,\n              \"Nombre\": \"S.S. Metropolitano Occidente\",\n              \"Activo\": 1,\n              \"Eliminado\": 0\n            }\n          ],\n          \"Parentezco\": {\n            \"Id\": 26,\n            \"Codigo\": \"SEL\",\n            \"Nombre\": \"La misma persona\",\n            \"Descripcion\": \"La misma persona\",\n            \"Consanguineo\": false,\n            \"Sexo\": 5,\n            \"Mostrar\": true,\n            \"Editar\": true\n          },\n          \"VacunasCovid\": [\n\n          ],\n          \"Contactabilidad\": {\n            \"Id\": 1,\n            \"FechaHoraRegistro\": \"2021-06-18T12:53:30.81\",\n            \"Run\": \"400000018\",\n            \"Telefono\": \"940178392\",\n            \"Email\": \"vcoronado.alarcon@gmail.com\",\n            \"NombreSocial\": \"Corito pro\",\n            \"EtiquetaTelefono\": \"MOVIL_FICHA_FAMILIAR\",\n            \"Eliminado\": 0\n          }\n        },\n        \"Mediciones\": {\n          \"IndicadorValorUsp\": [\n            {\n              \"Descripcion\": \"Peso (Kg)\",\n              \"Valor\": 94,\n              \"fecha\": \"2021-06-15 13:30:17\"\n            },\n            {\n              \"Descripcion\": \"Talla (cm)\",\n              \"Valor\": 175,\n              \"fecha\": \"2021-06-15 13:30:17\"\n            },\n            {\n              \"Descripcion\": \"I.M.C.\",\n              \"Valor\": 30.69999999,\n              \"fecha\": \"2021-06-15 13:30:17\"\n            },\n            {\n              \"Descripcion\": \"Presión Arterial Diastólica\",\n              \"Valor\": 80,\n              \"fecha\": \"2021-06-15 13:30:17\"\n            },\n            {\n              \"Descripcion\": \"Presión Arterial Sistólica\",\n              \"Valor\": 120,\n              \"fecha\": \"2021-06-15 13:30:17\"\n            }\n          ],\n          \"RespuestaBase\": {\n            \"CodigoMensaje\": 0,\n            \"Mensaje\": \"Exito\"\n          }\n        }\n      }\n    ]\n  }\n  dataSessionStorage = {\n    ENTRADA: {\n      \"VersionAppName\": \"Mi salud familiar\",\n      \"Plataforma\": \"Web\",\n      \"Token\": \"55566.394325136316 web\",\n      \"VersionAppNumber\": \"0.0\",\n      \"Fecha\": \"2021-07-12T02:18:32.231Z\",\n      \"TipoOperacion\": \"0\",\n      \"Id\": \"0\"\n    },\n    LOG_MOVIMIENTOS: [\n      {\n        \"Id\": 1,\n        \"NombreModulo\": \"CALENDARIO\",\n        \"Total\": 0,\n        \"Orden\": 1,\n        \"Mostrar\": true,\n        \"Favorito\": true,\n        \"Imagen\": \"./assets/imgs_svg/calendario-01.svg\",\n        \"ClaseImagen\": \"imgs-home\"\n      },\n      {\n        \"Id\": 2,\n        \"NombreModulo\": \"ANTECEDENTES\",\n        \"Total\": 0,\n        \"Orden\": 2,\n        \"Mostrar\": true,\n        \"Favorito\": true,\n        \"Imagen\": \"./assets/imgs_svg/antecedentes.svg\",\n        \"ClaseImagen\": \"imgs-home\"\n      },\n      {\n        \"Id\": 3,\n        \"NombreModulo\": \"EXAMENES\",\n        \"Total\": 0,\n        \"Orden\": 3,\n        \"Mostrar\": true,\n        \"Favorito\": false,\n        \"Imagen\": \"./assets/imgs_svg/examenes-de-salud.svg\",\n        \"ClaseImagen\": \"imgs-home\"\n      },\n      {\n        \"Id\": 4,\n        \"NombreModulo\": \"INTERCONSULTAS\",\n        \"Total\": 0,\n        \"Orden\": 4,\n        \"Mostrar\": false,\n        \"Favorito\": false,\n        \"Imagen\": \"./assets/imgs_svg/interconsulta_desactivado.svg\",\n        \"ClaseImagen\": \"imgs-home\"\n      }\n    ],\n    UsuarioAps: {\n      \"Id\": 15029781,\n      \"NodId\": 2411,\n      \"Nombres\": \"Victor Edgardo\",\n      \"ApellidoPaterno\": \"Coronado\",\n      \"ApellidoMaterno\": \"Troncoso\",\n      \"Rut\": \"400000018\",\n      \"Direccion\": \"Cordon Roma 0621 - Villa La Primavera, Puente Alto- Chile\",\n      \"FechaDeNacimiento\": \"1973-01-24T12:57:00\",\n      \"IdRyf\": \"15245358\",\n      \"Edad\": 48,\n      \"Establecimiento\": {\n        \"RazonSocial\": \"RAYENSALUD [CESFAM]\",\n        \"Dominio\": \"CESFAMRAYENSALUD\",\n        \"Descripcion\": \"RAYENSALUD [CESFAM]\",\n        \"Direccion1\": \"Paulino Alfonso 3900\",\n        \"CodigoDeis\": \"99-991\"\n      },\n      \"FamId\": 58539323,\n      \"UrlImagen\": \"Recursos/logousuario.png\",\n      \"Color\": \"#757575\",\n      \"EsLogueado\": false,\n      \"Email\": \"vcoronado.alarcon@gmail.com\",\n      \"NombreResponde\": \"Corito Pro\",\n      \"ClavePortal\": \"\",\n      \"ConfiguracionNodo\": {\n        \"NodId\": 2411,\n        \"CodigoDeis2014\": \"199991\"\n      },\n      \"ParametrosRayen\": [\n\n      ],\n      \"EntidadContratante\": [\n        {\n          \"Id\": 1,\n          \"Nombre\": \"S.S. Metropolitano Occidente\",\n          \"Activo\": 1,\n          \"Eliminado\": 0\n        }\n      ],\n      \"Parentezco\": {\n        \"Id\": 26,\n        \"Codigo\": \"SEL\",\n        \"Nombre\": \"La misma persona\",\n        \"Descripcion\": \"La misma persona\",\n        \"Consanguineo\": false,\n        \"Sexo\": 5,\n        \"Mostrar\": true,\n        \"Editar\": true\n      },\n      \"VacunasCovid\": [\n\n      ],\n      \"Contactabilidad\": {\n        \"Id\": 1,\n        \"FechaHoraRegistro\": \"2021-06-18T12:53:30.81\",\n        \"Run\": \"400000018\",\n        \"Telefono\": \"940178392\",\n        \"Email\": \"vcoronado.alarcon@gmail.com\",\n        \"NombreSocial\": \"Corito pro\",\n        \"EtiquetaTelefono\": \"MOVIL_FICHA_FAMILIAR\",\n        \"Eliminado\": 0\n      }\n    }\n  }\n\n  statusNetwork = 'online';\n  constructor(\n    private navCtrl: NavController,\n    public utiles: ServicioUtiles,\n    public servicioGeo: ServicioGeo,\n    public loading: LoadingController,\n    private formBuilder: FormBuilder,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n    public acceso: ServicioAcceso,\n    public parametrosApp: ServicioParametrosApp,\n    public fcmService: ServicioFCM,\n    public appVersion: AppVersion,\n    public platform: Platform,\n    public device: Device,\n    private alertController: AlertController,\n    public servNotificaciones: ServicioNotificaciones,\n    public networkService: NetworkService,\n    public network: Network\n  ) { \n  }\n\n  ngOnInit() {\n    moment.locale('es');\n    this.servNotificaciones.buscarCitasTodas();\n    this.usaEnrolamiento = this.parametrosApp.USA_LOGIN_ENROLAMIENTO();\n    this.cargarForma();\n  }\n  abrirAsistente() {\n    const navigationExtras: NavigationExtras = {\n      queryParams: {\n        modulo: 'nuevo-login'\n      }\n    }\n    this.navCtrl.navigateRoot(['pre-registro-uno'], navigationExtras);\n  }\n  cargarForma() {\n    this.forma = new FormGroup({\n      'run': new FormControl('', [Validators.required]),\n      'email': new FormControl('', [Validators.required, Validators.pattern(this.expEmail)]),\n      'clave': new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(10)])\n    });\n    //si usa enrolamiento hay que quitar validación de email\n    if (this.usaEnrolamiento) {\n      this.forma.get('email').clearValidators();\n    }\n    else {\n      this.forma.get('run').clearValidators();\n    }\n    //acá ver si dejamos preseteado el usuario y clave\n    //por lo pronto lo comentamos\n\n    /*     if (this.registro && this.registro.Id > 0){\n          this.forma.setValue({\n            run: this.registro.Run,\n            email: this.registro.CorreoElectronico,\n            nombre: this.registro.Nombres,\n            apellido: this.registro.Apellidos,\n            telefono: this.registro.TelefonoContacto,\n            genero: this.registro.Sexo.toString(),\n            clave: '',\n            repetirClave: ''\n          })\n        } */\n  }\n  async crearToken() {\n    var versionAppName;\n    var versionNumber;\n    var plataforma;\n    //original\n    /*     let loader = await this.loading.create({\n          message: 'Creando...<br>Token inicial',\n          duration: 2000\n        }); */\n    this.estaCargando = true;\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null,\n    });\n\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //web\n        //guardar local storage\n        if (!localStorage.getItem('token_dispositivo')) {\n          //crear token para web\n          this.tokenDispositivo = (Math.random() * (1000000 - 1) + 1).toString() + ' web';\n          localStorage.setItem('token_dispositivo', this.tokenDispositivo);\n        }\n        else {\n          this.tokenDispositivo = localStorage.getItem('token_dispositivo');\n        }\n        versionAppName = \"Mi salud familiar\"\n        versionNumber = \"0.0\";\n        plataforma = \"Web\";\n        //loader.dismiss();\n        //otras variables\n        localStorage.setItem('version_app_name', versionAppName);\n        localStorage.setItem('version_number', versionNumber);\n        localStorage.setItem('plataforma', plataforma);\n        loader.dismiss();\n        this.estaCargando = false;\n      }\n      else {\n        if (this.platform.is('ios')) {\n          versionAppName = await this.appVersion.getAppName();\n          versionNumber = await this.appVersion.getVersionNumber();\n          plataforma = \"iOS\";\n        }\n        else if (this.platform.is('android')) {\n          versionAppName = await this.appVersion.getAppName();\n          versionNumber = await this.appVersion.getVersionNumber();\n          plataforma = \"Android\";\n        }\n        else if (this.platform.is('mobileweb')) {\n          versionAppName = \"Mi salud familiar\"\n          versionNumber = \"0.0\";\n          plataforma = \"Web\";\n        }\n        else {\n          versionAppName = \"Mi salud familiar\"\n          versionNumber = \"0.0\";\n          plataforma = \"No informado\";\n        }\n        //crear token para web\n        this.tokenDispositivo = this.device.uuid;\n        localStorage.setItem('token_dispositivo', this.tokenDispositivo);\n        //otras variables\n        localStorage.setItem('version_app_name', versionAppName);\n        localStorage.setItem('version_number', versionNumber);\n        localStorage.setItem('plataforma', plataforma);\n        loader.dismiss();\n        this.estaCargando = false;\n      }\n\n    })\n  }\n  async registrarEntrada() {\n    //variable de session que identifica el ingreso\n    if (!sessionStorage.getItem('RSS_ID')) {\n      this.objetoEntrada.VersionAppName = localStorage.getItem('version_app_name');\n      this.objetoEntrada.Plataforma = localStorage.getItem('plataforma');\n      this.objetoEntrada.VersionAppNumber = localStorage.getItem('version_number');\n      this.objetoEntrada.Token = localStorage.getItem('token_dispositivo');\n      this.objetoEntrada.Fecha = new Date();\n      //GUARDAMOS EN LA SESSION PARA OCUPARLO DESPUES\n      sessionStorage.setItem('ENTRADA', JSON.stringify(this.objetoEntrada));\n      //original\n      /*       let loader = await this.loading.create({\n              message: 'Creando...<br>registro de sessión',\n              duration: 2000\n            }); */\n      this.estaCargando = true;\n      let loader = await this.loading.create({\n        cssClass: 'loading-vacio',\n        showBackdrop: false,\n        spinner: null,\n      });\n\n      await loader.present().then(async () => {\n        if (!this.utiles.isAppOnDevice()) {\n          //web\n          this.servicioGeo.postIngreso(this.objetoEntrada).subscribe((data: any) => {\n            if (data) {\n              if (data.Id > 0) {\n                //guardamos el identificador del registro para procesarlo despues\n                sessionStorage.setItem(\"RSS_ID\", data.Id);\n\n              }\n            }\n            loader.dismiss();\n            this.estaCargando = false;\n          });\n        }\n        else {\n          //dispositivo\n          this.servicioGeo.postIngresoNative(this.objetoEntrada).then(response => {\n            let respuesta = JSON.parse(response.data);\n            sessionStorage.setItem(\"RSS_ID\", respuesta.Id);\n            loader.dismiss();\n            this.estaCargando = false;\n          });\n        }\n      });\n\n\n    }\n  }\n\n  procesoLocal(){\n    //aca enviar una alerta, diciendo que no se puede comunicar por la red\n    //que se cargarán los datos de forma local para el usuario\n    //mostrar dicho mensaje\n\n    localStorage.setItem('REGISTRO', JSON.stringify(this.dataLocalStorage.REGISTRO));\n    localStorage.setItem('TIENE_REGISTRO', 'true');\n    //autentificarse\n    sessionStorage.setItem(\"UsuarioAps\", JSON.stringify(this.dataSessionStorage.UsuarioAps));\n    localStorage.setItem('MI_RUT', this.dataLocalStorage.MI_RUT);\n    var retorno = this.dataLocalStorage;\n    localStorage.setItem('MI_NOMBRE', retorno.UsuarioAps.Nombres + ' ' + retorno.UsuarioAps.ApellidoPaterno);\n    localStorage.setItem('MI_COLOR', retorno.UsuarioAps.Color);\n    localStorage.setItem('MI_IMAGEN', retorno.UsuarioAps.UrlImagen);\n    //lo vamos a guardar en el local storage para realizar la llamada\n    //en el background\n    localStorage.setItem('UsuarioAps', JSON.stringify(this.dataSessionStorage.UsuarioAps));\n    if (retorno.UsuariosFamilia) {\n      //debemos quitar los repetidos según última revisión\n      let hash = {};\n      var familia = retorno.UsuariosFamilia.filter(o => hash[o.Id] ? false : hash[o.Id] = true);\n      retorno.UsuariosFamilia = familia;\n      var userFamilia = JSON.stringify(retorno.UsuariosFamilia);\n      //variable de sessión muy importante para el resto de la app.\n      localStorage.setItem(\"UsuariosFamilia\", userFamilia);\n    }\n    localStorage.setItem('FAMILIA-POR-ACEPTAR', JSON.stringify(this.dataLocalStorage.FAMILIA_POR_ACEPTAR));\n\n    localStorage.setItem('FAMILIA-ACEPTADA', JSON.stringify(this.dataLocalStorage.FAMILIA_ACEPTADA));\n\n    localStorage.setItem('FAMILIA-RECHAZADA', JSON.stringify(this.dataLocalStorage.FAMILIA_RECHAZAZDA));\n   \n    this.tokenDispositivo = (Math.random() * (1000000 - 1) + 1).toString() + ' local';\n    localStorage.setItem('token_dispositivo', this.tokenDispositivo);\n\n    sessionStorage.setItem('ENTRADA', JSON.stringify(this.dataSessionStorage.ENTRADA));\n\n    sessionStorage.setItem('LOG_MOVIMIENTOS', JSON.stringify(this.dataSessionStorage.LOG_MOVIMIENTOS));\n\n    localStorage.setItem('ANTECEDENTES', JSON.stringify(this.dataLocalStorage.ANTECEDENTES));\n    localStorage.setItem('MORBIDOS', JSON.stringify(this.dataLocalStorage.MORBIDOS));\n    localStorage.setItem('ALERGIAS', JSON.stringify(this.dataLocalStorage.ALERGIAS));\n\n    localStorage.setItem('FECHA_ACTUALIZACION_ANTECEDENTES', moment().add(1, 'days').format('YYYY-MM-DD HH:mm'));\n    localStorage.setItem('FECHA_ACTUALIZACION_ALERGIAS', moment().add(1,'days').format('YYYY-MM-DD HH:mm'));\n    localStorage.setItem('FECHA_ACTUALIZACION_MORBIDOS', moment().add(1,'days').format('YYYY-MM-DD HH:mm'));\n    localStorage.setItem('PARAMETROS_APP',JSON.stringify(this.dataLocalStorage.PARAMETROS_APP)); \n    this.CodigoMensaje = 0;\n    this.Mensaje = 'Exito';\n\n    this.loggedIn = true;\n\n    this.irAHome();\n  }\n  async loguearseRegistro() {\n    let correo = this.forma.controls.email.value;\n    let password = this.forma.controls.clave ? this.utiles.encriptar(this.forma.controls.clave.value) : '';\n\n    //ahora guardamos\n    this.estaCargando = true;\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null,\n    });\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.getRegistroAppCorreoPassword(correo, password).subscribe((data) => {\n          if (data) {\n            let respuesta = data;\n            localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n            localStorage.setItem('TIENE_REGISTRO', 'true');\n            loader.dismiss();\n            let registro = JSON.parse(localStorage.getItem('REGISTRO'));\n\n            this.autentificarse(registro.Run, password);\n          }\n          else {\n            this.utiles.presentToast(\"No se encontró registro de usuario.\", \"middle\", 3000);\n            this.estaCargando = false;\n            loader.dismiss();\n            return;\n          }\n\n        }, error => {\n          //console.log(error.message);\n          //this.utiles.presentToast(\"Error de conexión.\", \"middle\", 3000);\n          this.estaCargando = false;\n          loader.dismiss();\n          this.procesoLocal();\n        })\n      }\n      else {\n        //llamada nativa\n        this.servicioGeo.getRegistroAppNativeCorreoPassword(correo, password).then((data) => {\n          let respuesta = JSON.parse(data.data);\n          if (respuesta) {\n            localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n            localStorage.setItem('TIENE_REGISTRO', 'true');\n            loader.dismiss();\n            let registro = JSON.parse(localStorage.getItem('REGISTRO'));\n            this.autentificarse(registro.Run, password);\n          }\n          else {\n            this.utiles.presentToast(\"No se encontró registro de usuario.\", \"middle\", 3000);\n            this.estaCargando = false;\n            loader.dismiss();\n            return;\n          }\n\n        }).catch(error => {\n          //console.log(error.message);\n          //this.utiles.presentToast(\"Error de conexión.\", \"middle\", 3000);\n          this.estaCargando = false;\n          loader.dismiss();\n          this.procesoLocal();\n        })\n      }\n    })\n  }\n\n  async loguearseEnrolamiento() {\n    this.estaCargando = true;\n    let run = this.forma.controls.run.value;\n    let password = this.forma.controls.clave ? this.utiles.encriptar(this.forma.controls.clave.value) : '';\n    localStorage.setItem('TIENE_REGISTRO', 'false');\n    this.autentificarse(run, password);\n  }\n\n  async onSubmit() {\n    //this.utiles.verificaInternet();\n    var puede = true;\n    if (this.utiles.isAppOnDevice()) {\n      if (sessionStorage.getItem('CONEXION')) {\n        if (sessionStorage.getItem('CONEXION') == 'Offline') {\n          puede = false;\n        }\n      }\n\n    }\n    if (puede == false) {\n      this.utiles.presentToast('NO tienes conexión a internet', 'bottom', 3000);\n      //levantar una ventana de información a internet\n      this.navCtrl.navigateRoot('error');\n    }\n    else {\n      if (this.forma.invalid) {\n        return;\n      }\n      if (this.usaEnrolamiento) {\n        //loguearse con enrolamiento\n        this.loguearseEnrolamiento();\n      }\n      else {\n        //loguearse con registro app\n        this.loguearseRegistro();\n      }\n    }\n  }\n  async autentificarse(userName, password) {\n    //en este caso ya el user name es el email\n\n    let f = { UserName: userName, Password: password, UsaEnrolamiento: this.usaEnrolamiento, TokenFCM: this.utiles.entregaTokenFCM() };\n\n    this.estaCargando = true;\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null,\n    });\n\n\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.acceso.loginWebDirecto(f).subscribe((response: any) => {\n          this.procesarLogin(response, loader);\n        },\n          (error) => {\n            loader.dismiss();\n            this.estaCargando = false;\n            return;\n          });\n      }\n      else {\n        //llamada nativa\n        this.acceso.loginWebNative(f).then((response: any) => {\n          this.procesarLogin(JSON.parse(response.data), loader);\n        },\n          (error) => {\n            this.utiles.presentToast('Ocurrió un error de autentificación', 'bottom', 4000);\n            this.estaCargando = false;\n            loader.dismiss();\n            return;\n          }\n        );\n      }\n    })\n  }\n  setDatosUsuario(retorno, user, userFamilia) {\n    //variable de sessión muy importante para el resto de la app.\n    sessionStorage.setItem(\"UsuarioAps\", user);\n    localStorage.setItem('MI_RUT', retorno.UsuarioAps.Rut);\n    localStorage.setItem('MI_NOMBRE', retorno.UsuarioAps.Nombres + ' ' + retorno.UsuarioAps.ApellidoPaterno);\n    localStorage.setItem('MI_COLOR', retorno.UsuarioAps.Color);\n    localStorage.setItem('MI_IMAGEN', retorno.UsuarioAps.UrlImagen);\n    //lo vamos a guardar en el local storage para realizar la llamada\n    //en el background\n    localStorage.setItem('UsuarioAps', user);\n    if (retorno.UsuariosFamilia) {\n      //debemos quitar los repetidos según última revisión\n      let hash = {};\n      var familia = retorno.UsuariosFamilia.filter(o => hash[o.Id] ? false : hash[o.Id] = true);\n      retorno.UsuariosFamilia = familia;\n      userFamilia = JSON.stringify(retorno.UsuariosFamilia);\n      //variable de sessión muy importante para el resto de la app.\n      localStorage.setItem(\"UsuariosFamilia\", userFamilia);\n    }\n    if (retorno.FamiliaPorAceptar && retorno.FamiliaPorAceptar.length >= 0) {\n      localStorage.setItem('FAMILIA-POR-ACEPTAR', JSON.stringify(retorno.FamiliaPorAceptar));\n    }\n    if (retorno.FamiliaAceptada && retorno.FamiliaAceptada.length >= 0) {\n      localStorage.setItem('FAMILIA-ACEPTADA', JSON.stringify(retorno.FamiliaAceptada));\n    }\n    if (retorno.FamiliaRechazada && retorno.FamiliaRechazada.length >= 0) {\n      localStorage.setItem('FAMILIA-RECHAZADA', JSON.stringify(retorno.FamiliaRechazada));\n    }\n\n\n    this.CodigoMensaje = retorno.RespuestaBase.CodigoMensaje;\n    this.Mensaje = retorno.RespuestaBase.Mensaje;\n\n    this.loggedIn = true;\n    /*     this.fcmService.initFCM();\n        this.fcmService.receiveMessage(true); */\n  }\n  procesarLogin(response, loader) {\n    var retorno = response;\n    let tieneUsuario = false;\n    if (retorno.RespuestaBase) {\n      if (retorno.RespuestaBase.CodigoMensaje == 0) {\n        //esta todo ok\n        var user;\n        var userFamilia;\n        if (retorno.UsuarioAps) {\n          user = JSON.stringify(retorno.UsuarioAps);\n          //antes debemos validar si tiene entidad contratante\n          if (user.NodId && this.parametrosApp.USA_ENTIDAD_CONTRATANTE()) {\n            //usa entidad contratante y tiene nodo\n            if (retorno.UsuarioAps.EntidadContratante && retorno.UsuarioAps.EntidadContratante.length > 0) {\n              //tiene entidad contratante\n              tieneUsuario = true;\n              this.setDatosUsuario(retorno, user, userFamilia);\n              loader.dismiss();\n              this.estaCargando = false;\n            }\n            else {\n              //no tiene entidad contratante\n              this.utiles.presentToast(\"No tiene entidad contratante asociada\", \"middle\", 3000);\n              loader.dismiss();\n              this.estaCargando = false;\n              return;\n            }\n          }\n          else {\n            //no usa entidad contratante\n            tieneUsuario = true;\n            this.setDatosUsuario(retorno, user, userFamilia);\n            loader.dismiss();\n            this.estaCargando = false;\n          }\n\n        }\n\n        //si tiene usuario está valido\n        if (!tieneUsuario) {\n          this.utiles.presentToast(\"Tiene registro correcto, pero no cuenta con información en la red de salud.\", \"middle\", 3000);\n        }\n        this.crearToken();\n        //guardamos el registro de session\n        this.registrarEntrada();\n        this.irAHome();\n      }\n      else {\n        this.loggedIn = false;\n        this.CodigoMensaje = retorno.RespuestaBase.CodigoMensaje;\n        this.Mensaje = retorno.RespuestaBase.Mensaje;\n        this.loggedIn = true;\n        loader.dismiss();\n        this.estaCargando = false;\n        this.utiles.presentToast(this.Mensaje, 'middle', 4000);\n        return;\n      }\n\n    }\n    else {\n      //error también\n      this.loggedIn = false;\n      this.CodigoMensaje = 1000;\n      this.Mensaje = 'Error de llamada Http;';\n      this.loggedIn = true;\n      this.estaCargando = false;\n      loader.dismiss();\n      this.utiles.presentToast(this.Mensaje, 'middle', 4000);\n      return;\n    }\n  }\n  irAHome() {\n    this.navCtrl.navigateRoot('home');\n  }\n  irRecuperarClave() {\n    this.navCtrl.navigateRoot('recuperar-clave');\n  }\n  get f() { return this.forma.controls; }\n}\n"]}