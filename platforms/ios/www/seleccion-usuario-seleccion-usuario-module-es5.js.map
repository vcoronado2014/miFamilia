{"version":3,"sources":["webpack:///src/app/seleccion-usuario/seleccion-usuario.page.html","webpack:///src/app/seleccion-usuario/seleccion-usuario.module.ts","webpack:///src/app/seleccion-usuario/seleccion-usuario.page.scss","webpack:///src/app/seleccion-usuario/seleccion-usuario.page.ts"],"names":["SeleccionUsuarioPageModule","imports","forChild","path","component","declarations","SeleccionUsuarioPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","textColor","miColor","hayInfo","usuarioApsFamilia","listadoUsuario","estaCargando","linesAvatar","cargarDatosIniciales","create","cssClass","showBackdrop","spinner","loader","present","then","entregaMiColor","sessionStorage","UsuarioAps","usuarioAps","JSON","parse","UrlImagen","URL_FOTOS","Parentezco","Id","Nombre","toUpperCase","Nombres","PrimerApellido","SegundoApellido","localStorage","UsuariosFamilia","length","s","push","dismiss","item","navigationExtras","queryParams","navigateRoot","read","selector","template"],"mappings":"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","file":"seleccion-usuario-seleccion-usuario-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"back-app\\\">\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/calendario\\\" class=\\\"fcw\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"fcw\\\">Seleccione usuario</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"back-app\\\">\\n  <app-progress [mostrar]=\\\"estaCargando\\\" titulo=\\\"Buscando familia\\\"></app-progress>\\n  <!-- si no hay registros -->\\n  <div [hidden]=\\\"estaCargando\\\" *ngIf=\\\"hayInfo == false\\\" style=\\\"padding-top: 162px; padding-left: 16px; padding-right: 16px; font-size: 30px; color:#BDBDBD; text-align: center;\\\"><p>No hay familiares para mostrar  <br>\\n    <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 60px;\\\"></ion-icon></p>\\n  </div>\\n  <!-- si hay registros -->\\n  <div [hidden]=\\\"estaCargando\\\" *ngIf=\\\"listadoUsuario.length > 0\\\" style=\\\"padding-top: 32px;\\\">\\n      <div *ngFor=\\\"let item of listadoUsuario\\\" (click)=\\\"irHoras(item)\\\">\\n        <app-avatar [lines]=\\\"linesAvatar\\\" [urlImagen] = \\\"item.UrlImagen\\\" [nombreCompleto]=\\\"item.Nombres + ' ' + item.ApellidoPaterno + ' ' + item.ApellidoMaterno\\\" [parentezco]=\\\"item.Parentezco.Nombre\\\"></app-avatar>\\n      </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { SeleccionUsuarioPage } from './seleccion-usuario.page';\nimport { TextAvatarModule } from '../../directives/text-avatar/index'\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TextAvatarModule,\n    ComponentsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: SeleccionUsuarioPage\n      }\n    ])\n  ],\n  declarations: [SeleccionUsuarioPage]\n})\nexport class SeleccionUsuarioPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlbGVjY2lvbi11c3VhcmlvL3NlbGVjY2lvbi11c3VhcmlvLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonList } from '@ionic/angular';\n//parametros\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\n//SERVICIOS\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-seleccion-usuario',\n  templateUrl: './seleccion-usuario.page.html',\n  styleUrls: ['./seleccion-usuario.page.scss'],\n})\nexport class SeleccionUsuarioPage implements OnInit {\n  //textColor Directive\n  textColor = '#FFFFFF';\n  //color\n  miColor = '#FF4081';\n  //otras variables\n  hayInfo = true;\n  public usuarioAps;\n  public usuarioApsFamilia = [];\n  public listadoUsuario = [];\n  estaCargando = false;\n  linesAvatar = 'inset';\n  @ViewChild('myList', { read: IonList }) list: IonList;\n\n  constructor(\n    public navCtrl: NavController,\n    public toast: ToastController,\n    public modalCtrl: ModalController,\n    public platform: Platform,\n    public menu: MenuController,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n    public utiles: ServicioUtiles,\n    public loading: LoadingController,\n  ) { }\n\n  ngOnInit() {\n    this.cargarDatosIniciales();\n  }\n  async cargarDatosIniciales() {\n    this.listadoUsuario = [];\n\n    this.estaCargando = true;\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null,\n    });\n\n    await loader.present().then(async () => {\n      //cargamos mi color\n      this.miColor = this.utiles.entregaMiColor();\n      //demas cargas\n      if (sessionStorage.UsuarioAps) {\n        this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\n        if (this.usuarioAps) {\n          this.usuarioAps.UrlImagen = environment.URL_FOTOS + this.usuarioAps.UrlImagen;\n          //this.usuarioAps.Parentezco = 'Yo';\n          if (this.usuarioAps.Parentezco && this.usuarioAps.Parentezco.Id > 0) {\n            if (this.usuarioAps.Parentezco.Nombre.toUpperCase() == 'LA MISMA PERSONA') {\n              this.usuarioAps.Parentezco.Nombre = 'Yo';\n            }\n          }\n          //this.usuarioAps.Parentezco = 'Yo';\n        }\n      }\n      else\n        this.usuarioAps = { Nombres: '', PrimerApellido: '', SegundoApellido: '', UrlImagen: '' };\n\n      //manejo de los usuarios de la familia\n      if (localStorage.UsuariosFamilia) {\n        this.usuarioApsFamilia = JSON.parse(localStorage.UsuariosFamilia);\n        if (this.usuarioApsFamilia.length > 0) {\n          for (var s in this.usuarioApsFamilia) {\n            this.usuarioApsFamilia[s].UrlImagen = environment.URL_FOTOS + this.usuarioApsFamilia[s].UrlImagen;\n            if (!(this.usuarioApsFamilia[s].Parentezco && this.usuarioApsFamilia[s].Parentezco.Id > 0)) {\n              this.usuarioApsFamilia[s].Parentezco.Nombre = 'No informado';\n            }\n            //this.usuarioApsFamilia[s].Parentezco = \"No informado\";\n          }\n        }\n      }\n      //ahora vamos a generar un solo listado de usuarios con los datos que necesitamos\n      if (this.usuarioAps) {\n        this.listadoUsuario.push(this.usuarioAps);\n      }\n      if (this.usuarioApsFamilia) {\n        if (this.usuarioApsFamilia.length > 0) {\n          for (var s in this.usuarioApsFamilia) {\n            this.listadoUsuario.push(this.usuarioApsFamilia[s]);\n          }\n        }\n      }\n      if (this.listadoUsuario.length == 0) {\n        this.hayInfo = false;\n      }\n      loader.dismiss();\n      this.estaCargando = false;\n    });\n  }\n  irHoras(item) {\n    //console.log(item);\n    //pasando id\n    const navigationExtras: NavigationExtras = {\n      queryParams: {\n        Id: item.Id\n      }\n    };\n    this.navCtrl.navigateRoot(['pre-tiposatencion'], navigationExtras);\n  }\n}\n"]}