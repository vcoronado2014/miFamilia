{"version":3,"sources":["webpack:///src/app/calendario/calendario.page.html","webpack:///src/app/calendario/calendario.module.ts","webpack:///src/app/calendario/calendario.page.scss","webpack:///src/app/calendario/calendario.page.ts","webpack:///src/directives/text-avatar/color-generator.ts","webpack:///src/directives/text-avatar/index.ts","webpack:///src/directives/text-avatar/text-avatar.module.ts","webpack:///src/directives/text-avatar/text-avatar.scss","webpack:///src/directives/text-avatar/text-avatar.ts"],"names":["CalendarioPageModule","imports","forChild","path","component","declarations","CalendarioPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","info","acceso","cita","alertController","miColor","tiene","textColor","calendarioData","calendarioTodo","citasIntegracion","citasVerticalTodas","runPaciente","codigoDeis","serviceType","botonReservar","Titulo","Visible","Operacion","Color","Alert","botonConfirmar","botonCancelar","estaCargando","topLimit","citasVerticalTodasTop","locale","sessionStorage","UsuarioAps","usuarioAps","JSON","parse","entregaColor","UrlImagen","URL_FOTOS","insertarGuion","Rut","ConfiguracionNodo","CodigoDeis2014","nodId","NodId","mesActualSeleccionado","month","year","console","log","diasSemana","Array","meses","diaSem","Date","getDay","hoy","getDate","getMonth","anio","getFullYear","annoActual","mesActual","tratamientoMeses","cargarTodosLosEventos","date","getTime","citasVerticalMostrar","fechaActual","fechaAnterior","subtract","fechaPosterior","add","mesAnterior","mes","anno","mesPosterior","create","message","duration","loader","present","then","isAppOnDevice","entregaPorMesNuevo","Id","IdRyf","subscribe","response","responseDos","concat","responseTres","procesarArregloCitasTodas","filter","e","Mostrar","sort","a","b","FechaCompleta","setItem","slice","dismiss","entregaPorMesNuevoNative","data","dataDos","dataTres","logout","navigateRoot","item","detail","value","arr","split","length","cargarDatosWebN","cargarDatosNativeN","contador","s","citasVertical","t","Eventos","fechaHora","DetalleEventoMes","FechaHora","fechaEvento","toDate","fechaHoy","Subtitulo","Imagen","getItem","orden","event","setTimeout","target","complete","disabled","mesConsultar","annoConsultar","procesarArregloCitas","USA_CALENDARIO","loader1","getDiagnosticosByUspIdNative","citas","arregloGeneral","eventSource","createEventsCalendario","entregaParametroUsaAgenda","fechaD","parseInt","fechaInicio","diasDelMes","daysInMonth","fechaT","fechaTermino","loaderDisp","getDisponibilidadNative","format","respuesta","Mensaje","Detalle","Codigo","CitasDisponibles","nombrePaciente","Nombres","ApellidoPaterno","ApellidoMaterno","insertaCitasAEventos","consultaMes","getDiagnosticosByUspId","getDisponibilidad","mesesVertical","fechaMenosUnMes","fechaMasUnMes","mesActualNumero","mesMenosUnMesNumero","mesMasUnMesNumero","mesActualStr","toUpperCase","mesMenosUnMesStr","mesMasUnMesStr","annoMenosUnMes","annoMasUnMes","entidadActual","mesNumero","mesTexto","entidadMenos","entidadMas","push","evento","componentProps","stringify","modal","onDidDismiss","accion","presentToast","fecha","inicio","ini","termino","ter","procesarRespuesta","tituloBoton","visible","Estado","boton","titulo","header","buttons","text","role","cssClass","handler","blah","accionCita","alert","idPaciente","idCita","IdElemento","retorno","getOperacionCita","procesarRespuestaAgendar","getOperacionCitaNative","responseData","Texto","undefined","pi","transform","read","selector","template","ColorGenerator","COLORS","str","Math","abs","toNumber","h","i","charCodeAt","TextAvatarModule","exports","providers","TextAvatarDirective","colorGenerator","firstLetter","styles","changes","currentValue","color","extractFirstCharacter","backgroundColorHexString","charAt","getColor"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Bf,QAAaA,oBAAoB;AAAA;AAAA,KAAjC;;AAAaA,wBAAoB,6DAjBhC,+DAAS;AACRC,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,8EAJO,EAKP,oEALO,EAMP,wEANO,EAOP,6DAAaC,QAAb,CAAsB,CACpB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADoB,CAAtB,CAPO,CADD;AAeRC,kBAAY,EAAE,CAAC,+DAAD;AAfN,KAAT,CAiBgC,GAApBL,oBAAoB,CAApB;;;;;;;;;;;;;;;;AC9Bb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCCEf;AAEA;AAMA;AAEA;;;AASA,QAAaM,cAAc;AA4DzB,8BACSC,OADT,EAESC,KAFT,EAGSC,SAHT,EAISC,QAJT,EAKSC,IALT,EAMSC,cANT,EAOUC,MAPV,EAQSC,MART,EASSC,OATT,EAUSC,IAVT,EAWSC,MAXT,EAYSC,IAZT,EAaUC,eAbV,EAa0C;AAAA;;AAZjC,aAAAZ,OAAA,GAAAA,OAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,IAAA,GAAAA,IAAA;AACA,aAAAC,cAAA,GAAAA,cAAA;AACC,aAAAC,MAAA,GAAAA,MAAA;AACD,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,IAAA,GAAAA,IAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,IAAA,GAAAA,IAAA;AACC,aAAAC,eAAA,GAAAA,eAAA;AAxEV,aAAAC,OAAA,GAAU,SAAV;AACA,aAAAC,KAAA,GAAQ,IAAR;AACA,aAAAC,SAAA,GAAY,SAAZ;AAQO,aAAAC,cAAA,GAAiB,EAAjB;AAEA,aAAAC,cAAA,GAAiB,EAAjB;AAWA,aAAAC,gBAAA,GAAmB,EAAnB;AACA,aAAAC,kBAAA,GAAqB,EAArB,CAgDmC,CA/C1C;;AACA,aAAAC,WAAA,GAAc,EAAd;AACA,aAAAC,UAAA,GAAa,EAAb;AACA,aAAAC,WAAA,GAAc,KAAd,CA4C0C,CA1C1C;;AACA,aAAAC,aAAA,GAAgB;AACdC,gBAAM,EAAE,UADM;AAEdC,iBAAO,EAAE,KAFK;AAGdC,mBAAS,EAAE,QAHG;AAIdC,eAAK,EAAE,SAJO;AAKdC,eAAK,EAAE;AALO,SAAhB;AAOA,aAAAC,cAAA,GAAiB;AACfL,gBAAM,EAAE,WADO;AAEfC,iBAAO,EAAE,KAFM;AAGfC,mBAAS,EAAE,WAHI;AAIfC,eAAK,EAAE,SAJQ;AAKfC,eAAK,EAAE;AALQ,SAAjB;AAOA,aAAAE,aAAA,GAAgB;AACdN,gBAAM,EAAE,QADM;AAEdC,iBAAO,EAAE,KAFK;AAGdC,mBAAS,EAAE,WAHG;AAIdC,eAAK,EAAE,QAJO;AAKdC,eAAK,EAAE;AALO,SAAhB,CA2B0C,CAnB1C;;AACA,aAAAG,YAAA,GAAe,KAAf,CAkB0C,CAjB1C;;AACQ,aAAAC,QAAA,GAAmB,CAAnB;AACA,aAAAC,qBAAA,GAA6B,EAA7B;AAgBH,OA1EoB,CA4EzB;AACA;AACA;AACA;;;AA/EyB;AAAA;AAAA,mCAiFd;AACT,6CAAM,GAAGC,MAAT,CAAgB,IAAhB,EADS,CAET;;AACA,cAAIC,cAAc,CAACC,UAAnB,EAA+B;AAC7B,iBAAKC,UAAL,GAAkBC,IAAI,CAACC,KAAL,CAAWJ,cAAc,CAACC,UAA1B,CAAlB;;AACA,gBAAI,KAAKC,UAAT,EAAqB;AACnB,mBAAKxB,OAAL,GAAe,KAAKN,MAAL,CAAYiC,YAAZ,CAAyB,KAAKH,UAA9B,CAAf;AACA,mBAAKA,UAAL,CAAgBI,SAAhB,GAA4B,yEAAYC,SAAZ,GAAwB,KAAKL,UAAL,CAAgBI,SAApE;AACA,mBAAKrB,WAAL,GAAmB,KAAKb,MAAL,CAAYoC,aAAZ,CAA0B,KAAKN,UAAL,CAAgBO,GAA1C,CAAnB;AACA,mBAAKvB,UAAL,GAAkB,KAAKgB,UAAL,CAAgBQ,iBAAhB,CAAkCC,cAApD;AACA,mBAAKC,KAAL,GAAa,KAAKV,UAAL,CAAgBQ,iBAAhB,CAAkCG,KAA/C;AACD;AACF,WAZQ,CAaT;;;AACA,eAAKC,qBAAL,GAA6B,mCAAM,GAAGC,KAAT,KAAmB,CAAnB,GAAuB,GAAvB,GAA6B,mCAAM,GAAGC,IAAT,EAA1D,CAdS,CAeT;;AACAC,iBAAO,CAACC,GAAR,CAAY,sCAAsC,KAAKJ,qBAAvD,EAhBS,CAiBT;;AACA,cAAIK,UAAU,GAAG,IAAIC,KAAJ,CAAU,SAAV,EAAqB,OAArB,EAA8B,QAA9B,EAAwC,WAAxC,EAAqD,QAArD,EAA+D,SAA/D,EAA0E,QAA1E,CAAjB;AACA,cAAIC,KAAK,GAAG,IAAID,KAAJ,CAAU,OAAV,EAAmB,SAAnB,EAA8B,OAA9B,EAAuC,OAAvC,EAAgD,MAAhD,EAAwD,OAAxD,EAAiE,OAAjE,EAA0E,QAA1E,EAAoF,YAApF,EAAkG,SAAlG,EAA6G,WAA7G,EAA0H,WAA1H,CAAZ;AACA,eAAKE,MAAL,GAAcH,UAAU,CAAC,IAAII,IAAJ,GAAWC,MAAX,EAAD,CAAxB;AACA,eAAKC,GAAL,GAAW,IAAIF,IAAJ,GAAWG,OAAX,EAAX;AACA,eAAKL,KAAL,GAAaA,KAAK,CAAC,IAAIE,IAAJ,GAAWI,QAAX,EAAD,CAAlB;AACA,eAAKC,IAAL,GAAY,IAAIL,IAAJ,GAAWM,WAAX,EAAZ,CAvBS,CAwBT;AACA;;AACA,cAAIC,UAAU,GAAG,mCAAM,GAAGd,IAAT,EAAjB;AAEA,cAAIe,SAAS,GAAG,mCAAM,GAAGhB,KAAT,KAAmB,CAAnC,CA5BS,CA6BT;;AACAE,iBAAO,CAACC,GAAR,CAAYa,SAAZ,EA9BS,CA+BT;;AACA,eAAKC,gBAAL,GAhCS,CAiCT;AACA;AACA;AACA;;AACA,eAAKC,qBAAL;AAED;AAxHwB;AAAA;AAAA,gCAyHTC,IAzHS,EAyHI;AAC3B,iBAAOA,IAAI,IAAI,IAAR,GAAe,IAAIX,IAAJ,CAASW,IAAT,EAAeC,OAAf,EAAf,GAA0C,CAAjD;AACD;AACH;;;;;;;;AA5H2B;AAAA;AAAA,gDAmIE;;;;;;;;;AACzB;AACA,yBAAKnD,kBAAL,GAA0B,EAA1B;AACA,yBAAKoD,oBAAL,GAA4B,EAA5B;AACIC,+B,GAAc,mCAAM,E;AACpBC,iC,GAAgB,mCAAM,GAAGC,QAAT,CAAkB,CAAlB,EAAqB,OAArB,C;AAChBC,kC,GAAiB,mCAAM,GAAGC,GAAT,CAAa,CAAb,EAAgB,OAAhB,C;AACjBC,+B,GAAc;AAChBC,yBAAG,EAAEL,aAAa,CAACvB,KAAd,KAAwB,CADb;AAEhB6B,0BAAI,EAAEN,aAAa,CAACtB,IAAd;AAFU,qB;AAIde,6B,GAAY;AACdY,yBAAG,EAAEN,WAAW,CAACtB,KAAZ,KAAsB,CADb;AAEd6B,0BAAI,EAAEP,WAAW,CAACrB,IAAZ;AAFQ,qB;AAIZ6B,gC,GAAe;AACjBF,yBAAG,EAAEH,cAAc,CAACzB,KAAf,KAAyB,CADb;AAEjB6B,0BAAI,EAAEJ,cAAc,CAACxB,IAAf;AAFW,qB;;AAKN,2BAAM,KAAK3C,OAAL,CAAayE,MAAb,CAAoB;AACrCC,6BAAO,EAAE,0CAD4B;AAErCC,8BAAQ,EAAE;AAF2B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAK/E,MAAL,CAAYgF,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAK5E,IAAL,CAAU6E,kBAAV,CAA6B,KAAKnD,UAAL,CAAgBoD,EAA7C,EAAiD,KAAKpD,UAAL,CAAgBqD,KAAjE,EAAwE,KAAKrD,UAAL,CAAgBW,KAAxF,EAA+F6B,WAAW,CAACC,GAA3G,EAAgHD,WAAW,CAACE,IAA5H,EAAkIY,SAAlI,CAA4I,UAAOC,QAAP;AAAA,2CAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACjK,mDAAKzE,kBAAL,GAA0ByE,QAA1B,CADiK,CAEjK;;AACA,mDAAKjF,IAAL,CAAU6E,kBAAV,CAA6B,KAAKnD,UAAL,CAAgBoD,EAA7C,EAAiD,KAAKpD,UAAL,CAAgBqD,KAAjE,EAAwE,KAAKrD,UAAL,CAAgBW,KAAxF,EAA+FkB,SAAS,CAACY,GAAzG,EAA8GZ,SAAS,CAACa,IAAxH,EAA8HY,SAA9H,CAAwI,UAAOE,WAAP;AAAA,uDAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChK,+DAAK1E,kBAAL,GAA0B,KAAKA,kBAAL,CAAwB2E,MAAxB,CAA+BD,WAA/B,CAA1B,CADgK,CAEhK;;AACA,+DAAKlF,IAAL,CAAU6E,kBAAV,CAA6B,KAAKnD,UAAL,CAAgBoD,EAA7C,EAAiD,KAAKpD,UAAL,CAAgBqD,KAAjE,EAAwE,KAAKrD,UAAL,CAAgBW,KAAxF,EAA+FgC,YAAY,CAACF,GAA5G,EAAiHE,YAAY,CAACD,IAA9H,EAAoIY,SAApI,CAA8I,UAAOI,YAAP;AAAA,mEAA2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACvK,2EAAK5E,kBAAL,GAA0B,KAAKA,kBAAL,CAAwB2E,MAAxB,CAA+BC,YAA/B,CAA1B,CADuK,CAEvK;AACA;AACA;;AAEA,2EAAKC,yBAAL;AACA,2EAAKzB,oBAAL,GAA4B,KAAKpD,kBAAL,CAAwB8E,MAAxB,CAA+B,UAAAC,CAAC;AAAA,+EAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,uEAAhC,CAA5B,CAPuK,CAQvK;AACA;AACA;;AACA,2EAAK5B,oBAAL,CAA0B6B,IAA1B,CAA+B,UAACC,CAAD,EAAQC,CAAR,EAAgB;AAAE,+EAAO,MAAI,CAAChC,OAAL,CAAagC,CAAC,CAACC,aAAf,IAAgC,MAAI,CAACjC,OAAL,CAAa+B,CAAC,CAACE,aAAf,CAAvC;AAAqE,uEAAtH,EAXuK,CAYvK;;AACApE,oFAAc,CAACqE,OAAf,CAAuB,eAAvB,EAAwC,aAAxC,EAbuK,CAcvK;;AACA,2EAAKvE,qBAAL,GAA6B,KAAKsC,oBAAL,CAA0BkC,KAA1B,CAAgC,CAAhC,EAAmC,KAAKzE,QAAxC,CAA7B;AACAoB,6EAAO,CAACC,GAAR,CAAY,KAAKpB,qBAAjB;AACAmD,4EAAM,CAACsB,OAAP;;AAjBuK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAA3B;AAAA,2DAA9I;;AAHgK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAA1B;AAAA,+CAAxI;;AAHiK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAvB;AAAA,mCAA5I;AA2BD,iCA7BD,MA8BI;AACF;AACA,uCAAK/F,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqG6B,WAAW,CAACC,GAAjH,EAAsHD,WAAW,CAACE,IAAlI,EAAwIO,IAAxI,CAA6I,UAAOM,QAAP;AAAA,2CAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAClK,mDAAKzE,kBAAL,GAA0BmB,IAAI,CAACC,KAAL,CAAWqD,QAAQ,CAACgB,IAApB,CAA1B,CADkK,CAElK;;AACA,mDAAKjG,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqGkB,SAAS,CAACY,GAA/G,EAAoHZ,SAAS,CAACa,IAA9H,EAAoIO,IAApI,CAAyI,UAAOO,WAAP;AAAA,uDAA0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7JgB,iEAD6J,GACnJvE,IAAI,CAACC,KAAL,CAAWsD,WAAW,CAACe,IAAvB,CADmJ;AAEjK,+DAAKzF,kBAAL,GAA0B,KAAKA,kBAAL,CAAwB2E,MAAxB,CAA+Be,OAA/B,CAA1B,CAFiK,CAGjK;;AACA,+DAAKlG,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqGgC,YAAY,CAACF,GAAlH,EAAuHE,YAAY,CAACD,IAApI,EAA0IO,IAA1I,CAA+I,UAAOS,YAAP;AAAA,mEAA2B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACpKe,8EADoK,GACzJxE,IAAI,CAACC,KAAL,CAAWwD,YAAY,CAACa,IAAxB,CADyJ;AAExK,2EAAKzF,kBAAL,GAA0B,KAAKA,kBAAL,CAAwB2E,MAAxB,CAA+BgB,QAA/B,CAA1B,CAFwK,CAGxK;;AACA,2EAAKd,yBAAL;AACA,2EAAKzB,oBAAL,GAA4B,KAAKpD,kBAAL,CAAwB8E,MAAxB,CAA+B,UAAAC,CAAC;AAAA,+EAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,uEAAhC,CAA5B,CALwK,CAM1J;AACd;;AACA,2EAAK5B,oBAAL,CAA0B6B,IAA1B,CAA+B,UAACC,CAAD,EAAQC,CAAR,EAAgB;AAAE,+EAAO,MAAI,CAAChC,OAAL,CAAagC,CAAC,CAACC,aAAf,IAAgC,MAAI,CAACjC,OAAL,CAAa+B,CAAC,CAACE,aAAf,CAAvC;AAAqE,uEAAtH,EARwK,CASxK;;AACApE,oFAAc,CAACqE,OAAf,CAAuB,eAAvB,EAAwC,aAAxC,EAVwK,CAWxK;;AACA,2EAAKvE,qBAAL,GAA6B,KAAKsC,oBAAL,CAA0BkC,KAA1B,CAAgC,CAAhC,EAAmC,KAAKzE,QAAxC,CAA7B;AACAoB,6EAAO,CAACC,GAAR,CAAY,KAAKpB,qBAAjB;AACAmD,4EAAM,CAACsB,OAAP;;AAdwK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DAA3B;AAAA,2DAA/I;;AAJiK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAA1B;AAAA,+CAAzI;;AAHkK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAvB;AAAA,mCAA7I;AAyBD;;AA1DqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AA6DD;AAzNwB;AAAA;AAAA,iCA4NnB;AACJ,eAAKhG,MAAL,CAAYqG,MAAZ;AACA,eAAK/G,OAAL,CAAagH,YAAb,CAA0B,aAA1B;AACD;AA/NwB;AAAA;AAAA,oCAgOPC,IAhOO,EAgOH;;;;;;;;;AACpB;AACA7D,2BAAO,CAACC,GAAR,CAAY4D,IAAI,CAACC,MAAL,CAAYC,KAAxB;AACIC,uB,GAAMH,IAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBE,KAAlB,CAAwB,GAAxB,C;;yBACND,G;;;;;0BACEA,GAAG,CAACE,MAAJ,IAAc,C;;;;;AACZxC,uB,GAAMsC,GAAG,CAAC,CAAD,C;AACTrC,wB,GAAOqC,GAAG,CAAC,CAAD,C,EACd;AACA;;AACA,yBAAKnE,qBAAL,GAA6BgE,IAAI,CAACC,MAAL,CAAYC,KAAzC;;AACa,2BAAM,KAAK3G,OAAL,CAAayE,MAAb,CAAoB;AACrCC,6BAAO,EAAE,0CAD4B;AAErCC,8BAAQ,EAAE;AAF2B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAG,CAAC,KAAK/E,MAAL,CAAYgF,aAAZ,EAAJ,EAAgC;AAC9B;AACA;AACA,uCAAKgC,eAAL,CAAqBzC,GAArB,EAA0BC,IAA1B,EAAgCK,MAAhC;AACD,iCAJD,MAKK;AACH;AACA,uCAAKoC,kBAAL,CAAwB1C,GAAxB,EAA6BC,IAA7B,EAAmCK,MAAnC;AACD;;AATqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAeL;AA/PwB;AAAA;AAAA,+CAgQL;AAClB,cAAIqC,QAAQ,GAAG,CAAf;;AACA,eAAK,IAAIC,CAAT,IAAc,KAAKC,aAAnB,EAAkC;AAChC,iBAAK,IAAIC,CAAT,IAAc,KAAKD,aAAL,CAAmBD,CAAnB,EAAsBG,OAApC,EAA6C;AAC3C,kBAAIC,SAAS,GAAI,KAAKH,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDC,SAAnE;AACA,kBAAIC,WAAW,GAAG,mCAAM,CAACH,SAAD,EAAY,YAAZ,CAAN,CAAgCI,MAAhC,EAAlB;AACA,kBAAIC,QAAQ,GAAG,mCAAM,GAAGD,MAAT,EAAf;AAEA9E,qBAAO,CAACC,GAAR,CAAY,aAAa4E,WAAzB;AACA7E,qBAAO,CAACC,GAAR,CAAY,SAAS8E,QAArB;AACAV,sBAAQ;;AACR,kBAAI,KAAKE,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,CAAJ,EAAsC;AAEpC,oBAAI,KAAKD,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,cAAnE,EAAmF;AACjF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,qBAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,iBAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,kBAAnE,EAAuF;AACrF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,qBAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,qBAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,oBAAnE,EAAyF;AACvF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,kBAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,oBAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,gBAAnE,EAAqF;AACnF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,8BAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,gBAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,mBAAnE,EAAwF;AACtF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,8BAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,gBAA3D;AAED;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,oBAAnE,EAAyF;AACvF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,2BAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,qBAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,qBAAnE,EAA0F;AACxF,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,eAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,cAA3D;AACD;;AACD,oBAAI,KAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDK,SAAlD,IAA+D,wBAAnE,EAA6F;AAC3F,uBAAKT,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCS,MAAjC,GAA0C,eAA1C;AACA,uBAAKV,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,QAA3D;AACD;AACF;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKR,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,IAA4D,qBAA1F,EAAiH;AAC/G,qBAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,oBAA3D;AACA4B,uBAAO,CAACC,GAAR,CAAY,KAAKsE,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAA7C;AACD;;AACD,kBAAIE,WAAW,GAAGE,QAAd,IAA0B,KAAKR,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,IAA4D,oBAA1F,EAAgH;AAC9G,qBAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,mBAA3D;AACD;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKR,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,IAA4D,cAA1F,EAA0G;AACxG,qBAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,qBAA3D;AACD;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKR,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,IAA4D,QAA1F,EAAoG;AAClG,qBAAKmG,aAAL,CAAmBD,CAAnB,EAAsBG,OAAtB,CAA8BD,CAA9B,EAAiCG,gBAAjC,CAAkDvG,MAAlD,GAA2D,wBAA3D;AACD;AAEF;AACF,WA9DiB,CA+DlB;;;AACA,cAAIiG,QAAQ,IAAI,CAAhB,EAAkB;AAChB,iBAAK3G,KAAL,GAAa,KAAb;AACD,WAFD,MAGI;AACF,iBAAKA,KAAL,GAAa,IAAb;AACD;AACF;AAtUwB;AAAA;AAAA,oDAuUA;AACvB,cAAI2G,QAAQ,GAAG,CAAf;;AACA,eAAK,IAAIC,CAAT,IAAc,KAAKvG,kBAAnB,EAAuC;AACrC,iBAAK,IAAIyG,CAAT,IAAc,KAAKzG,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAAzC,EAAkD;AAChD,kBAAIC,SAAS,GAAI,KAAK3G,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDC,SAAxE;AACA,kBAAIC,WAAW,GAAG,mCAAM,CAACH,SAAD,EAAY,YAAZ,CAAN,CAAgCI,MAAhC,EAAlB;AACA,kBAAIC,QAAQ,GAAG,mCAAM,GAAGD,MAAT,EAAf;AAEA9E,qBAAO,CAACC,GAAR,CAAY,aAAa4E,WAAzB;AACA7E,qBAAO,CAACC,GAAR,CAAY,SAAS8E,QAArB;AACAV,sBAAQ;;AAER,kBAAI,KAAKtG,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,CAAJ,EAA2C;AAEzC,oBAAI,KAAKzG,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,cAAxE,EAAwF;AACtF,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,qBAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,iBAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,kBAAxE,EAA4F;AAC1F,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,qBAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,qBAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,oBAAxE,EAA8F;AAC5F,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,kBAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,oBAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,gBAAxE,EAA0F;AACxF,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,8BAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,gBAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,mBAAxE,EAA6F;AAC3F,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,8BAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,gBAAhE;AAED;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,oBAAxE,EAA8F;AAC5F,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,2BAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,qBAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,qBAAxE,EAA+F;AAC7F,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,eAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,cAAhE;AACD;;AACD,oBAAI,KAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDK,SAAvD,IAAoE,wBAAxE,EAAkG;AAChG,uBAAKjH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCS,MAAtC,GAA+C,eAA/C;AACA,uBAAKlH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,QAAhE;AACD;AACF;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKhH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,IAAiE,qBAA/F,EAAsH;AACpH,qBAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,oBAAhE;AACA4B,uBAAO,CAACC,GAAR,CAAY,KAAKlC,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAlD;AACD;;AACD,kBAAIE,WAAW,GAAGE,QAAd,IAA0B,KAAKhH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,IAAiE,oBAA/F,EAAqH;AACnH,qBAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,mBAAhE;AACD;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKhH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,IAAiE,cAA/F,EAA+G;AAC7G,qBAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,qBAAhE;AACD;;AACD,kBAAIyG,WAAW,GAAGE,QAAd,IAA0B,KAAKhH,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,IAAiE,QAA/F,EAAyG;AACvG,qBAAKL,kBAAL,CAAwBuG,CAAxB,EAA2BG,OAA3B,CAAmCD,CAAnC,EAAsCG,gBAAtC,CAAuDvG,MAAvD,GAAgE,wBAAhE;AACD;AAEF;AACF,WA/DsB,CAgEvB;;;AACA,cAAIiG,QAAQ,IAAI,CAAhB,EAAkB;AAChB,iBAAK3G,KAAL,GAAa,KAAb;AACD,WAFD,MAGI;AACF,iBAAKA,KAAL,GAAa,IAAb;AACD;AACF,SA9YwB,CA+YzB;;AA/YyB;AAAA;AAAA,kCAgZlB;AAAA;;AACL,cAAIqB,cAAc,CAACmG,OAAf,CAAuB,eAAvB,CAAJ,EAA4C;AAC1C,gBAAIC,KAAK,GAAGpG,cAAc,CAACmG,OAAf,CAAuB,eAAvB,CAAZ;;AACA,gBAAIC,KAAK,IAAI,aAAb,EAA2B;AACzB,mBAAKtG,qBAAL,CAA2BmE,IAA3B,CAAgC,UAACC,CAAD,EAAQC,CAAR,EAAgB;AAAE,uBAAO,OAAI,CAAChC,OAAL,CAAa+B,CAAC,CAACE,aAAf,IAAgC,OAAI,CAACjC,OAAL,CAAagC,CAAC,CAACC,aAAf,CAAvC;AAAqE,eAAvH;AACApE,4BAAc,CAACqE,OAAf,CAAuB,eAAvB,EAAwC,YAAxC;AACD,aAHD,MAII;AACF,mBAAKvE,qBAAL,CAA2BmE,IAA3B,CAAgC,UAACC,CAAD,EAAQC,CAAR,EAAgB;AAAE,uBAAO,OAAI,CAAChC,OAAL,CAAagC,CAAC,CAACC,aAAf,IAAgC,OAAI,CAACjC,OAAL,CAAa+B,CAAC,CAACE,aAAf,CAAvC;AAAqE,eAAvH;AACApE,4BAAc,CAACqE,OAAf,CAAuB,eAAvB,EAAwC,aAAxC;AACD;AACF,WAVD,MAWI;AACF,iBAAKvE,qBAAL,CAA2BmE,IAA3B,CAAgC,UAACC,CAAD,EAAQC,CAAR,EAAgB;AAAE,qBAAO,OAAI,CAAChC,OAAL,CAAagC,CAAC,CAACC,aAAf,IAAgC,OAAI,CAACjC,OAAL,CAAa+B,CAAC,CAACE,aAAf,CAAvC;AAAqE,aAAvH;AACApE,0BAAc,CAACqE,OAAf,CAAuB,eAAvB,EAAwC,aAAxC;AACD;AACF;AAhawB;AAAA;AAAA,iCAiahBgC,KAjagB,EAiaT;AAAA;;AACdC,oBAAU,CAAC,YAAM;AACf;AACA,mBAAI,CAACzG,QAAL,IAAiB,CAAjB;AACA,mBAAI,CAACC,qBAAL,GAA6B,OAAI,CAACsC,oBAAL,CAA0BkC,KAA1B,CAAgC,CAAhC,EAAmC,OAAI,CAACzE,QAAxC,CAA7B;AACAwG,iBAAK,CAACE,MAAN,CAAaC,QAAb,GAJe,CAKf;;AACA,gBAAI,OAAI,CAAC1G,qBAAL,CAA2BqF,MAA3B,IAAqC,OAAI,CAAC/C,oBAAL,CAA0B+C,MAAnE,EAA0E;AACxEkB,mBAAK,CAACE,MAAN,CAAaE,QAAb,GAAwB,IAAxB;AACD;AAEF,WAVS,EAUP,GAVO,CAAV;AAWD;AA7awB;AAAA;AAAA,0CA8aPC,YA9aO,EA8aOC,aA9aP,EA8asB1D,MA9atB,EA8a4B;AAAA;;AACnD;AACA;AACA,eAAKzE,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqG6F,YAArG,EAAmHC,aAAnH,EAAkIxD,IAAlI,CAAuI,UAAOM,QAAP;AAAA,mBAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5J;AACA,2BAAK+B,aAAL,GAAqBrF,IAAI,CAACC,KAAL,CAAWqD,QAAQ,CAACgB,IAApB,CAArB;AACA,2BAAKrC,oBAAL,GAA2B,KAAKoD,aAAL,CAAmB1B,MAAnB,CAA2B,UAAAC,CAAC;AAAA,+BAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,uBAA5B,CAA3B,CAH4J,CAI5J;;AACA,2BAAK4C,oBAAL;AACA,2BAAKhH,YAAL,GAAoB,KAApB,CAN4J,CAO5J;;AACAqD,4BAAM,CAACsB,OAAP,GAR4J,CAS5J;;AAT4J,2BAUxJ,yEAAYsC,cAV4I;AAAA;AAAA;AAAA;;AAAA;AAY5I,6BAAM,KAAKxI,OAAL,CAAayE,MAAb,CAAoB;AACtCC,+BAAO,EAAE,0CAD6B;AAEtCC,gCAAQ,EAAE;AAF4B,uBAApB,CAAN;;AAZ4I;AAYtJ8D,6BAZsJ;AAAA;AAgB1J,6BAAMA,OAAO,CAAC5D,OAAR,GAAkBC,IAAlB,CAAuB;AAAA,+BAAY;AAAA;AAAA;AAAA;AAAA;AACvC,uCAAK3E,IAAL,CAAUuI,4BAAV,CAAuC,KAAK7G,UAAL,CAAgBoD,EAAvD;AACA,uCAAK0D,KAAL,GAAa,KAAKxI,IAAL,CAAUyI,cAAvB;AACA,uCAAKC,WAAL,GAAmB,KAAKC,sBAAL,EAAnB;AACAL,yCAAO,CAACvC,OAAR;AACA,uCAAK3E,YAAL,GAAoB,KAApB;AACAqB,yCAAO,CAACC,GAAR,CAAY,mBAAmB,KAAKtB,YAApC;;AANuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAZ;AAAA,uBAAvB,CAAN;;AAhB0J;AAAA,2BA0BxJ,KAAKxB,MAAL,CAAYgJ,yBAAZ,EA1BwJ;AAAA;AAAA;AAAA;;AA2B1J;AACA;AACIC,4BA7BsJ,GA6B7I,IAAI9F,IAAJ,CAAS+F,QAAQ,CAACX,aAAD,CAAjB,EAAkCW,QAAQ,CAACZ,YAAD,CAAR,GAAuB,CAAzD,EAA4D,CAA5D,EAA+D,CAA/D,EAAkE,CAAlE,EAAoE,CAApE,EAAsE,CAAtE,CA7B6I;AAgCtJa,iCAhCsJ,GAgCxI,mCAAM,CAACF,MAAD,CAhCkI;AAiCtJG,gCAjCsJ,GAiCzID,WAAW,CAACE,WAAZ,EAjCyI;AAkCtJC,4BAlCsJ,GAkC7I,IAAInG,IAAJ,CAAS+F,QAAQ,CAACX,aAAD,CAAjB,EAAkCW,QAAQ,CAACZ,YAAD,CAAR,GAAuB,CAAzD,EAA4Dc,UAA5D,EAAwE,EAAxE,EAA4E,EAA5E,EAA+E,CAA/E,EAAiF,CAAjF,CAlC6I;AAmCtJG,kCAnCsJ,GAmCvI,mCAAM,CAACD,MAAD,CAnCiI;AAAA;AAqCzI,6BAAM,KAAKrJ,OAAL,CAAayE,MAAb,CAAoB;AACzCC,+BAAO,EAAE,+BADgC;AAEzCC,gCAAQ,EAAE;AAF+B,uBAApB,CAAN;;AArCyI;AAqCtJ4E,gCArCsJ;AA0C1J,2BAAKpJ,IAAL,CAAUqJ,uBAAV,CAAkCN,WAAW,CAACO,MAAZ,EAAlC,EAAwDH,YAAY,CAACG,MAAb,EAAxD,EAA+E,KAAK5I,UAApF,EAAgG,KAAKD,WAArG,EAAkH,KAAKE,WAAvH,EAAoI,EAApI,EAAwI,EAAxI,EAA4I,MAA5I,EAAoJ,KAAKyB,KAAzJ,EAAgKuC,IAAhK,CAAqK,UAACM,QAAD,EAAmB;AACtL,+BAAI,CAAC1E,gBAAL,GAAwB,EAAxB;AACA,4BAAIgJ,SAAS,GAAG5H,IAAI,CAACC,KAAL,CAAWqD,QAAQ,CAACgB,IAApB,CAAhB;;AACA,4BAAIsD,SAAS,IAAIA,SAAS,CAACC,OAA3B,EAAoC;AAClC;AACA,8BAAID,SAAS,CAACC,OAAV,CAAkBC,OAAlB,CAA0BC,MAA1B,IAAoC,cAAxC,EAAwD;AACtD;AACA;AACA,mCAAI,CAACnJ,gBAAL,GAAwBgJ,SAAS,CAACI,gBAAlC,CAHsD,CAItD;;AACA,gCAAI,OAAI,CAACpJ,gBAAL,CAAsBoG,MAAtB,GAA+B,CAAnC,EAAqC;AACnC,kCAAIiD,cAAc,GAAG,OAAI,CAAClI,UAAL,CAAgBmI,OAAhB,GAA0B,GAA1B,GAAgC,OAAI,CAACnI,UAAL,CAAgBoI,eAAhD,GAAkE,GAAlE,GAAwE,OAAI,CAACpI,UAAL,CAAgBqI,eAA7G;;AACA,qCAAI,CAACnK,MAAL,CAAYoK,oBAAZ,CAAiC,OAAI,CAACzJ,gBAAtC,EAAwD,OAAI,CAACyG,aAA7D,EAA4E4C,cAA5E,EAFmC,CAGnC;;;AACA,qCAAI,CAACxB,oBAAL;AACD;AAEF;AACF;;AACD,+BAAI,CAAChH,YAAL,GAAoB,KAApB;AACAqB,+BAAO,CAACC,GAAR,CAAY,mBAAmB,OAAI,CAACtB,YAApC;AACAgI,kCAAU,CAACrD,OAAX;AACD,uBAtBD;;AA1C0J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAvB;AAAA,WAAvI;AAoED;AArfwB;AAAA;AAAA,2CAsfNmC,YAtfM,EAsfQC,aAtfR,EAsfuB1D,MAtfvB,EAsf6B;AAAA;;AACpD;AACA;AACA,eAAKzE,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqG6F,YAArG,EAAmHC,aAAnH,EAAkIxD,IAAlI,CAAuI,UAAOM,QAAP;AAAA,mBAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACxJgF,iCADwJ,GAC1I,KAAKjK,IAAL,CAAUgG,wBAAV,CAAmC,KAAKtE,UAAL,CAAgBoD,EAAnD,EAAuD,KAAKpD,UAAL,CAAgBqD,KAAvE,EAA8E,KAAKrD,UAAL,CAAgBW,KAA9F,EAAqG6F,YAArG,EAAmHC,aAAnH,EAAkIxD,IAAlI,CAAuI,UAAOM,QAAP;AAAA,+BAAuB;AAAA;AAAA;AAAA;AAAA;AAC9K,uCAAK+B,aAAL,GAAqBrF,IAAI,CAACC,KAAL,CAAWqD,QAAQ,CAACgB,IAApB,CAArB;AACA,uCAAKrC,oBAAL,GAA4B,KAAKoD,aAAL,CAAmB1B,MAAnB,CAA0B,UAAAC,CAAC;AAAA,2CAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,mCAA3B,CAA5B,CAF8K,CAG9K;;AACA,uCAAK4C,oBAAL;AACA3D,wCAAM,CAACsB,OAAP;;AAL8K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAvB;AAAA,uBAAvI,CAD0I;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAvB;AAAA,WAAvI;AASD;AAlgBwB;AAAA;AAAA,wCAmgBHmC,YAngBG,EAmgBWC,aAngBX,EAmgB0B1D,MAngB1B,EAmgBgC;;;;;;;;;AACvD;AACIwF,+B,GAAc,KAAKjK,IAAL,CAAU6E,kBAAV,CAA6B,KAAKnD,UAAL,CAAgBoD,EAA7C,EAAiD,KAAKpD,UAAL,CAAgBqD,KAAjE,EAAwE,KAAKrD,UAAL,CAAgBW,KAAxF,EAA+F6F,YAA/F,EAA6GC,aAA7G,EAA4HnD,SAA5H,CAAsI,UAAOC,QAAP;AAAA,6BAAuB;AAAA;AAAA;AAAA;AAAA;AAC7K,qCAAK+B,aAAL,GAAqB/B,QAArB;AACA,qCAAKrB,oBAAL,GAA2B,KAAKoD,aAAL,CAAmB1B,MAAnB,CAA2B,UAAAC,CAAC;AAAA,yCAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,iCAA5B,CAA3B,CAF6K,CAG7K;;AACA,qCAAK4C,oBAAL;AACA3D,sCAAM,CAACsB,OAAP;;AAL6K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAvB;AAAA,qBAAtI,C;;;;;;;;;AAQnB;AACH;;;;;;;;;;;;AA9gB2B;AAAA;AAAA,uCAyhBVmC,YAzhBU,EAyhBIC,aAzhBJ,EAyhBmB1D,MAzhBnB,EAyhByB;AAAA;;AAChD;AACA;AACA,eAAKzE,IAAL,CAAU6E,kBAAV,CAA6B,KAAKnD,UAAL,CAAgBoD,EAA7C,EAAiD,KAAKpD,UAAL,CAAgBqD,KAAjE,EAAwE,KAAKrD,UAAL,CAAgBW,KAAxF,EAA+F6F,YAA/F,EAA6GC,aAA7G,EAA4HnD,SAA5H,CAAsI,UAAOC,QAAP;AAAA,mBAAuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3J;AACA,2BAAK+B,aAAL,GAAqB/B,QAArB;AACA,2BAAKrB,oBAAL,GAA2B,KAAKoD,aAAL,CAAmB1B,MAAnB,CAA2B,UAAAC,CAAC;AAAA,+BAAIA,CAAC,CAACC,OAAF,IAAa,IAAjB;AAAA,uBAA5B,CAA3B,CAH2J,CAI3J;;AACA,2BAAK4C,oBAAL;AACA,2BAAKhH,YAAL,GAAoB,KAApB,CAN2J,CAO3J;;AACAqD,4BAAM,CAACsB,OAAP,GAR2J,CAS3J;;AAT2J,2BAUvJ,yEAAYsC,cAV2I;AAAA;AAAA;AAAA;;AAWzJ,2BAAKjH,YAAL,GAAoB,IAApB,CAXyJ,CAYzJ;;AAZyJ;AAa3I,6BAAM,KAAKvB,OAAL,CAAayE,MAAb,CAAoB;AACtCC,+BAAO,EAAE,0CAD6B;AAEtCC,gCAAQ,EAAE;AAF4B,uBAApB,CAAN;;AAb2I;AAarJ8D,6BAbqJ;AAAA;AAiBzJ,6BAAMA,OAAO,CAAC5D,OAAR,GAAkBC,IAAlB,CAAuB;AAAA,+BAAY;AAAA;AAAA;AAAA;AAAA;AACvC,uCAAK3E,IAAL,CAAUkK,sBAAV,CAAiC,KAAKxI,UAAL,CAAgBoD,EAAjD;AACA,uCAAK0D,KAAL,GAAa,KAAKxI,IAAL,CAAUyI,cAAvB;AACA,uCAAKC,WAAL,GAAmB,KAAKC,sBAAL,EAAnB;AACAL,yCAAO,CAACvC,OAAR;AACA,uCAAK3E,YAAL,GAAoB,KAApB;AACAqB,yCAAO,CAACC,GAAR,CAAY,mBAAmB,KAAKtB,YAApC;;AANuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAZ;AAAA,uBAAvB,CAAN;;AAjByJ;AAAA,2BA2BvJ,KAAKxB,MAAL,CAAYgJ,yBAAZ,EA3BuJ;AAAA;AAAA;AAAA;;AA4BzJ,2BAAKxH,YAAL,GAAoB,IAApB,CA5ByJ,CA6BzJ;AACA;;AACIyH,4BA/BqJ,GA+B5I,IAAI9F,IAAJ,CAAS+F,QAAQ,CAACX,aAAD,CAAjB,EAAkCW,QAAQ,CAACZ,YAAD,CAAR,GAAuB,CAAzD,EAA4D,CAA5D,EAA+D,CAA/D,EAAkE,CAAlE,EAAoE,CAApE,EAAsE,CAAtE,CA/B4I;AAkCrJa,iCAlCqJ,GAkCvI,mCAAM,CAACF,MAAD,CAlCiI;AAmCrJG,gCAnCqJ,GAmCxID,WAAW,CAACE,WAAZ,EAnCwI;AAoCrJC,4BApCqJ,GAoC5I,IAAInG,IAAJ,CAAS+F,QAAQ,CAACX,aAAD,CAAjB,EAAkCW,QAAQ,CAACZ,YAAD,CAAR,GAAuB,CAAzD,EAA4Dc,UAA5D,EAAwE,EAAxE,EAA4E,EAA5E,EAA+E,CAA/E,EAAiF,CAAjF,CApC4I;AAqCrJG,kCArCqJ,GAqCtI,mCAAM,CAACD,MAAD,CArCgI;AAAA;AAuCxI,6BAAM,KAAKrJ,OAAL,CAAayE,MAAb,CAAoB;AACzCC,+BAAO,EAAE,+BADgC;AAEzCC,gCAAQ,EAAE;AAF+B,uBAApB,CAAN;;AAvCwI;AAuCrJ4E,gCAvCqJ;AA4CzJ,2BAAKpJ,IAAL,CAAUmK,iBAAV,CAA4BpB,WAAW,CAACO,MAAZ,EAA5B,EAAkDH,YAAY,CAACG,MAAb,EAAlD,EAAyE,KAAK5I,UAA9E,EAA0F,KAAKD,WAA/F,EAA4G,KAAKE,WAAjH,EAA8H,EAA9H,EAAkI,EAAlI,EAAsI,MAAtI,EAA8I,KAAKyB,KAAnJ,EAA0J4C,SAA1J,CAAoK,UAACC,QAAD,EAAmB;AACrL,+BAAI,CAAC1E,gBAAL,GAAwB,EAAxB;;AACA,4BAAI0E,QAAQ,IAAIA,QAAQ,CAACuE,OAAzB,EAAkC;AAChC;AACA,8BAAIvE,QAAQ,CAACuE,OAAT,CAAiBC,OAAjB,CAAyBC,MAAzB,IAAmC,cAAvC,EAAuD;AACrD;AACA;AACA,mCAAI,CAACnJ,gBAAL,GAAwB0E,QAAQ,CAAC0E,gBAAjC,CAHqD,CAIrD;;AACA,gCAAI,OAAI,CAACpJ,gBAAL,CAAsBoG,MAAtB,GAA+B,CAAnC,EAAsC;AACpC,kCAAIiD,cAAc,GAAG,OAAI,CAAClI,UAAL,CAAgBmI,OAAhB,GAA0B,GAA1B,GAAgC,OAAI,CAACnI,UAAL,CAAgBoI,eAAhD,GAAkE,GAAlE,GAAwE,OAAI,CAACpI,UAAL,CAAgBqI,eAA7G;;AACA,qCAAI,CAACnK,MAAL,CAAYoK,oBAAZ,CAAiC,OAAI,CAACzJ,gBAAtC,EAAwD,OAAI,CAACyG,aAA7D,EAA4E4C,cAA5E,EAFoC,CAGpC;;;AACA,qCAAI,CAACxB,oBAAL;AACD;AAEF;AACF;;AACD,+BAAI,CAAChH,YAAL,GAAoB,KAApB;AACAqB,+BAAO,CAACC,GAAR,CAAY,mBAAmB,OAAI,CAACtB,YAApC;AACAgI,kCAAU,CAACrD,OAAX;AACD,uBArBD;;AA5CyJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAvB;AAAA,WAAtI;AAqED;AAjmBwB;AAAA;AAAA,yCAkmBFmC,YAlmBE,EAkmBYC,aAlmBZ,EAkmByB;;;;;;;;;AAChD,yBAAK/G,YAAL,GAAoB,IAApB;;AACa,2BAAM,KAAKvB,OAAL,CAAayE,MAAb,CAAoB;AACrCC,6BAAO,EAAE,0CAD4B;AAErCC,8BAAQ,EAAE;AAF2B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAK/E,MAAL,CAAYgF,aAAZ,EAAL,EAAkC;AAChC;AACA;AACA,uCAAKgC,eAAL,CAAqBsB,YAArB,EAAmCC,aAAnC,EAAkD1D,MAAlD;AACD,iCAJD,MAKI;AACF;AACA,uCAAKoC,kBAAL,CAAwBqB,YAAxB,EAAsCC,aAAtC,EAAqD1D,MAArD;AACD;;AATqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAaD;AAtnBwB;AAAA;AAAA,2CAwnBT;AACd,eAAK2F,aAAL,GAAqB,EAArB;AACA,wDAAc,OAAd;AACA,cAAIvG,WAAW,GAAG,mCAAM,EAAxB;AACA,cAAIwG,eAAe,GAAG,mCAAM,GAAGtG,QAAT,CAAkB,CAAlB,EAAqB,OAArB,CAAtB;AACA,cAAIuG,aAAa,GAAG,mCAAM,GAAGrG,GAAT,CAAa,CAAb,EAAgB,OAAhB,CAApB;AAEA,cAAIsG,eAAe,GAAG,mCAAM,CAAC1G,WAAD,CAAN,CAAoBtB,KAApB,KAA8B,CAApD;AACA,cAAIiI,mBAAmB,GAAG,mCAAM,CAACH,eAAD,CAAN,CAAwB9H,KAAxB,KAAkC,CAA5D;AACA,cAAIkI,iBAAiB,GAAG,mCAAM,CAACH,aAAD,CAAN,CAAsB/H,KAAtB,KAAgC,CAAxD;AAEA,cAAImI,YAAY,GAAG,mCAAM,CAAC7G,WAAD,CAAN,CAAoByF,MAApB,CAA2B,MAA3B,EAAmCqB,WAAnC,EAAnB;AACA,cAAIC,gBAAgB,GAAG,mCAAM,CAACP,eAAD,CAAN,CAAwBf,MAAxB,CAA+B,MAA/B,EAAuCqB,WAAvC,EAAvB;AACA,cAAIE,cAAc,GAAG,mCAAM,CAACP,aAAD,CAAN,CAAsBhB,MAAtB,CAA6B,MAA7B,EAAqCqB,WAArC,EAArB;AAEA,cAAIrH,UAAU,GAAG,mCAAM,CAACO,WAAD,CAAN,CAAoByF,MAApB,CAA2B,MAA3B,CAAjB;AACA,cAAIwB,cAAc,GAAG,mCAAM,CAACT,eAAD,CAAN,CAAwBf,MAAxB,CAA+B,MAA/B,CAArB;AACA,cAAIyB,YAAY,GAAG,mCAAM,CAACT,aAAD,CAAN,CAAsBhB,MAAtB,CAA6B,MAA7B,CAAnB,CAjBc,CAmBd;;AACA,cAAI0B,aAAa,GAAG;AAAEC,qBAAS,EAAEV,eAAe,GAAG,GAAlB,GAAwBjH,UAArC;AAAiD4H,oBAAQ,EAAER,YAA3D;AAAyEtG,gBAAI,EAAEd;AAA/E,WAApB;AACA,cAAI6H,YAAY,GAAG;AAAEF,qBAAS,EAAET,mBAAmB,GAAE,GAArB,GAA2BM,cAAxC;AAAwDI,oBAAQ,EAAEN,gBAAlE;AAAoFxG,gBAAI,EAAE0G;AAA1F,WAAnB;AACA,cAAIM,UAAU,GAAG;AAAEH,qBAAS,EAAER,iBAAiB,GAAE,GAAnB,GAAyBM,YAAtC;AAAoDG,oBAAQ,EAAEL,cAA9D;AAA8EzG,gBAAI,EAAE2G;AAApF,WAAjB,CAtBc,CAwBd;;AACA,eAAKX,aAAL,CAAmBiB,IAAnB,CAAwBF,YAAxB;AACA,eAAKf,aAAL,CAAmBiB,IAAnB,CAAwBL,aAAxB;AACA,eAAKZ,aAAL,CAAmBiB,IAAnB,CAAwBD,UAAxB;AAEA3I,iBAAO,CAACC,GAAR,CAAY,KAAK0H,aAAjB;AACD;AAtpBwB;AAAA;AAAA,iDAupBH;AACpB,eAAK/J,cAAL,GAAsB,KAAKmI,KAA3B;AACA/F,iBAAO,CAACC,GAAR,CAAY,KAAKrC,cAAjB;AACA,iBAAO,KAAKA,cAAZ;AACD;AA3pBwB;AAAA;AAAA,wCA4pBHiL,MA5pBG,EA4pBG;;;;;;;;;;AAGZ,2BAAM,KAAK/L,SAAL,CAAe+E,MAAf,CAClB;AACEpF,+BAAS,EAAE,iGADb;AAEEqM,oCAAc,EAAE;AACd,kCAAU5J,IAAI,CAAC6J,SAAL,CAAeF,MAAf,CADI;AAEd,mCAAW3J,IAAI,CAAC6J,SAAL,CAAe,KAAK9J,UAApB;AAFG;AAFlB,qBADkB,CAAN;;;AAAR+J,yB;AASNA,yBAAK,CAACC,YAAN,GAAqB/G,IAArB,CAA0B,UAACsB,IAAD,EAAU;AAClC,0BAAGA,IAAI,CAACA,IAAL,IAAaA,IAAI,CAACA,IAAL,CAAU0F,MAA1B,EAAiC;AAC/B,4BAAIA,MAAM,GAAG1F,IAAI,CAACA,IAAL,CAAU0F,MAAvB,CAD+B,CAE/B;AACA;AACA;;AACA,4BAAIrI,UAAU,GAAG,mCAAM,GAAGd,IAAT,EAAjB;AAEA,4BAAIe,SAAS,GAAG,mCAAM,GAAGhB,KAAT,KAAmB,CAAnC,CAP+B,CAQ/B;AACA;AACA;;AACA,+BAAI,CAACiB,gBAAL;;AACA,4BAAImI,MAAM,KAAK,QAAf,EAAwB;AACtB,iCAAI,CAAC/L,MAAL,CAAYgM,YAAZ,CAAyB,4BAAzB,EAAuD,QAAvD,EAAiE,IAAjE;AACD,yBAFD,MAGK,IAAID,MAAM,KAAK,WAAf,EAA2B;AAC9B,iCAAI,CAAC/L,MAAL,CAAYgM,YAAZ,CAAyB,6BAAzB,EAAwD,QAAxD,EAAkE,IAAlE;AACD,yBAFI,MAGA,IAAID,MAAM,KAAK,WAAf,EAA2B;AAC9B,iCAAI,CAAC/L,MAAL,CAAYgM,YAAZ,CAAyB,0BAAzB,EAAqD,QAArD,EAA+D,IAA/D;AACD;;AACD,+BAAI,CAACnI,qBAAL,GArB+B,CAsB/B;;AACD;AACF,qBAzBD;;AA0BO,2BAAMgI,KAAK,CAAC/G,OAAN,EAAN;;;;;;;;;;;;AACR,SAnsBwB,CAqsBzB;AACA;;AAtsByB;AAAA;AAAA,6CAusBEmH,KAvsBF,EAusBS;;;;;;;;;AAChC;AACIC,0B,GAAS,IAAI/I,IAAJ,CAAS8I,KAAK,CAACxI,WAAN,EAAT,EAA8BwI,KAAK,CAAC1I,QAAN,EAA9B,EAAgD0I,KAAK,CAAC3I,OAAN,EAAhD,EAAiE,CAAjE,EAAoE,CAApE,EAAuE,CAAvE,EAA0E,CAA1E,C;AACT6I,uB,GAAM,mCAAM,CAACD,MAAD,CAAN,CAAexC,MAAf,E;AACN0C,2B,GAAU,IAAIjJ,IAAJ,CAAS8I,KAAK,CAACxI,WAAN,EAAT,EAA8BwI,KAAK,CAAC1I,QAAN,EAA9B,EAAgD0I,KAAK,CAAC3I,OAAN,EAAhD,EAAiE,EAAjE,EAAqE,EAArE,EAAyE,CAAzE,EAA4E,CAA5E,C;AACV+I,uB,GAAM,mCAAM,CAACD,OAAD,CAAN,CAAgB1C,MAAhB,E;;AACG,2BAAM,KAAKzJ,OAAL,CAAayE,MAAb,CAAoB;AACrCC,6BAAO,EAAE,+BAD4B;AAErCC,8BAAQ,EAAE;AAF2B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtC,oCAAI,CAAC,KAAK/E,MAAL,CAAYgF,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAK5E,IAAL,CAAUmK,iBAAV,CAA4B4B,GAA5B,EAAiCE,GAAjC,EAAsC,KAAKvL,UAA3C,EAAuD,KAAKD,WAA5D,EAAyE,KAAKE,WAA9E,EAA2F,EAA3F,EAA+F,EAA/F,EAAmG,MAAnG,EAA2G,KAAKyB,KAAhH,EAAuH4C,SAAvH,CAAiI,UAACC,QAAD,EAAmB;AAClJ,2CAAI,CAACiH,iBAAL,CAAuBjH,QAAvB,EAAiCR,MAAjC;AACD,mCAFD;AAGD,iCALD,MAMK;AACH;AACA,uCAAKzE,IAAL,CAAUqJ,uBAAV,CAAkC0C,GAAlC,EAAuCE,GAAvC,EAA4C,KAAKvL,UAAjD,EAA6D,KAAKD,WAAlE,EAA+E,KAAKE,WAApF,EAAiG,EAAjG,EAAqG,EAArG,EAAyG,MAAzG,EAAiH,KAAKyB,KAAtH,EAA6HuC,IAA7H,CAAkI,UAACM,QAAD,EAAmB;AACnJ,wCAAIsE,SAAS,GAAG5H,IAAI,CAACC,KAAL,CAAWqD,QAAQ,CAACgB,IAApB,CAAhB;;AACA,2CAAI,CAACiG,iBAAL,CAAuB3C,SAAvB,EAAkC9E,MAAlC;AACD,mCAHD;AAID;;AAbqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAeD;AAjuBwB;AAAA;AAAA,0CAkuBPwB,IAluBO,EAkuBDxB,MAluBC,EAkuBO;AAC9B,eAAKlE,gBAAL,GAAwB,EAAxB;;AACA,cAAI0F,IAAI,IAAIA,IAAI,CAACuD,OAAjB,EAA0B;AACxB;AACA,gBAAIvD,IAAI,CAACuD,OAAL,CAAaC,OAAb,CAAqBC,MAArB,IAA+B,cAAnC,EAAmD;AACjD;AACA;AACA,mBAAKnJ,gBAAL,GAAwB0F,IAAI,CAAC0D,gBAA7B;AAED;;AACDlF,kBAAM,CAACsB,OAAP;AACD;AACF;AA9uBwB;AAAA;AAAA,oCA+uBbuF,MA/uBa,EA+uBLa,WA/uBK,EA+uBM;AAC7B;AACA;AACA;AACA;AACA,cAAIC,OAAO,GAAG,CAAC,KAAD,EAAQ,KAAR,CAAd;;AACA,cAAId,MAAM,CAAClE,gBAAP,CAAwBiF,MAAxB,IAAkC,QAAlC,IAA+CF,WAAW,IAAI,WAAlE,EAA8E;AAC5E;AACAC,mBAAO,GAAG,CAAC,IAAD,EAAO,IAAP,CAAV;AACD,WAHD,MAIK,IAAId,MAAM,CAAClE,gBAAP,CAAwBiF,MAAxB,IAAkC,WAAlC,IAAkDF,WAAW,IAAI,QAArE,EAA8E;AACjF;AACAC,mBAAO,GAAG,CAAC,KAAD,EAAQ,IAAR,CAAV;AACD,WAHI,MAIA,IAAId,MAAM,CAAClE,gBAAP,CAAwBiF,MAAxB,IAAkC,QAAlC,IAA+CF,WAAW,IAAI,QAAlE,EAA2E;AAC9E;AACAC,mBAAO,GAAG,CAAC,IAAD,EAAO,IAAP,CAAV;AACD,WAHI,MAID;AACFA,mBAAO,GAAG,CAAC,KAAD,EAAQ,KAAR,CAAV;AACD;;AACD,iBAAOA,OAAP;AACD,SArwBwB,CAswBzB;;AAtwByB;AAAA;AAAA,4CAuwBCE,KAvwBD,EAuwBQhB,MAvwBR,EAuwBgB;;;;;;;;;AACnCiB,0B,GAAS,E;;AAEC,2BAAM,KAAKtM,eAAL,CAAqBqE,MAArB,CAA4B;AAC9CkI,4BAAM,EAAEF,KAAK,CAACzL,MADgC;AAE9C0D,6BAAO,EAAE+H,KAAK,CAACrL,KAF+B;AAG9CwL,6BAAO,EAAE,CACP;AACEC,4BAAI,EAAE,IADR;AAEEC,4BAAI,EAAE,QAFR;AAGEC,gCAAQ,EAAE,QAHZ;AAIEC,+BAAO,EAAE,iBAACC,IAAD,EAAU;AACjBrK,iCAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AANH,uBADO,EAQJ;AACDgK,4BAAI,EAAE,IADL;AAEDE,gCAAQ,EAAE,SAFT;AAGDC,+BAAO,EAAE,mBAAM;AACb;AACA,iCAAI,CAACE,UAAL,CAAgBT,KAAhB,EAAuBhB,MAAvB;AACD;AANA,uBARI;AAHqC,qBAA5B,CAAN;;;AAAR0B,yB;;AAsBN,2BAAMA,KAAK,CAACtI,OAAN,EAAN;;;;;;;;;AACD;AAjyBwB;AAAA;AAAA,mCAkyBR4H,KAlyBQ,EAkyBDhB,MAlyBC,EAkyBK;;;;;;;;;0BACxBA,MAAM,CAAClE,gBAAP,CAAwBiF,MAAxB,IAAkCf,MAAM,CAAClE,gBAAP,CAAwBiF,MAAxB,IAAkC,E;;;;;AAClEY,8B,GAAa,KAAKvL,UAAL,CAAgBO,G;AAC7BiL,0B,GAAS5B,MAAM,CAAClE,gBAAP,CAAwB+F,U;AACjCxB,0B,GAASW,KAAK,CAACvL,S;;AAEN,2BAAM,KAAKlB,OAAL,CAAayE,MAAb,CAAoB;AACrCC,6BAAO,EAAE,6BAD4B;AAErCC,8BAAQ,EAAE;AAF2B,qBAApB,CAAN;;;AAATC,0B;;AAKJ,2BAAMA,MAAM,CAACC,OAAP,GAAiBC,IAAjB,CAAsB;AAAA,6BAAY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAClCyI,uCADkC,GACxB,IADwB;;AAEtC,oCAAI,CAAC,KAAKxN,MAAL,CAAYgF,aAAZ,EAAL,EAAkC;AAChC;AACA,uCAAK5E,IAAL,CAAUqN,gBAAV,CAA2BH,MAA3B,EAAmCD,UAAnC,EAA+CtB,MAA/C,EAAuD3G,SAAvD,CAAiE,UAACC,QAAD,EAAiB;AAChF,2CAAI,CAACqI,wBAAL,CAA8BrI,QAA9B,EAAwCR,MAAxC,EAAgDkH,MAAhD;AACD,mCAFD;AAGD,iCALD,MAMI;AACF;AACA;AACA,uCAAK3L,IAAL,CAAUuN,sBAAV,CAAiCL,MAAjC,EAAyCD,UAAzC,EAAqDtB,MAArD,EAA6DhH,IAA7D,CAAkE,UAAC6I,YAAD,EAAqB;AACrF,wCAAIvI,QAAQ,GAAGtD,IAAI,CAACC,KAAL,CAAW4L,YAAY,CAACvH,IAAxB,CAAf;;AACA,2CAAI,CAACqH,wBAAL,CAA8BrI,QAA9B,EAAwCR,MAAxC,EAAgDkH,MAAhD;AACD,mCAHD;AAID;;AAfqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAtB,CAAN;;;;;;;;;AAmBH;AAh0BwB;AAAA;AAAA,iDAi0BA1F,IAj0BA,EAi0BMxB,MAj0BN,EAi0BckH,MAj0Bd,EAi0BoB;AAC3C,cAAIyB,OAAO,GAAG,IAAd;;AACA,cAAInH,IAAI,IAAIA,IAAI,CAACuD,OAAjB,EAAyB;AACvB,gBAAIvD,IAAI,CAACuD,OAAL,CAAaE,MAAb,IAAuB,UAA3B,EAAsC;AACpC;AACA;AACA0D,qBAAO,GAAGnH,IAAV,CAHoC,CAIpC;;AACA,kBAAI3C,UAAU,GAAG,mCAAM,GAAGd,IAAT,EAAjB;AAEA,kBAAIe,SAAS,GAAG,mCAAM,GAAGhB,KAAT,KAAmB,CAAnC,CAPoC,CAQpC;;AACAE,qBAAO,CAACC,GAAR,CAAYa,SAAZ,EAToC,CAUpC;;AACA,mBAAKC,gBAAL;;AAEA,kBAAImI,MAAM,KAAK,QAAf,EAAwB;AACtB,qBAAK/L,MAAL,CAAYgM,YAAZ,CAAyB,4BAAzB,EAAuD,QAAvD,EAAiE,IAAjE;AACD,eAFD,MAGK,IAAID,MAAM,KAAK,WAAf,EAA2B;AAC9B,qBAAK/L,MAAL,CAAYgM,YAAZ,CAAyB,6BAAzB,EAAwD,QAAxD,EAAkE,IAAlE;AACD,eAFI,MAGA,IAAID,MAAM,KAAK,WAAf,EAA2B;AAC9B,qBAAK/L,MAAL,CAAYgM,YAAZ,CAAyB,0BAAzB,EAAqD,QAArD,EAA+D,IAA/D;AACD;;AACD,mBAAKnI,qBAAL,GAtBoC,CAuBpC;AACD,aAxBD,MAyBI;AACF,mBAAK7D,MAAL,CAAYgM,YAAZ,CAAyB3F,IAAI,CAACuD,OAAL,CAAaC,OAAb,CAAqBgE,KAA9C,EAAqD,QAArD,EAA+D,IAA/D;AACD;AACF,WA7BD,MA8BI;AACF;AACA,iBAAK7N,MAAL,CAAYgM,YAAZ,CAAyB,uBAAzB,EAAkD,QAAlD,EAA4D,IAA5D;AACD;;AACDnH,gBAAM,CAACsB,OAAP;AACD,SAt2BwB,CAu2BzB;;AAv2ByB;AAAA;AAAA,+CAw2BL;AAClB,eAAK1G,OAAL,CAAagH,YAAb,CAA0B,mBAA1B;AACD;AA12BwB;AAAA;AAAA,qCA22BZC,IA32BY,EA22BR;AACf,cAAI8G,OAAO,GAAG,KAAd;;AACA,cAAI9G,IAAI,CAACc,gBAAT,EAA0B;AACxB,gBAAId,IAAI,CAACc,gBAAL,CAAsBiF,MAA1B,EAAiC;AAC/B,kBAAI/F,IAAI,CAACc,gBAAL,CAAsBiF,MAAtB,IAAgCqB,SAAhC,IAA6CpH,IAAI,CAACc,gBAAL,CAAsBiF,MAAtB,IAAgC,EAAjF,EAAoF;AAClFe,uBAAO,GAAG,IAAV;AACD;AACF;AACF;;AACD,iBAAOA,OAAP;AACD;AAr3BwB;AAAA;AAAA,sCAs3BX5G,KAt3BW,EAs3BJ8C,MAt3BI,EAs3BE;AACzB,cAAIqE,EAAE,GAAG,IAAI,iEAAJ,EAAT;AACA,iBAAOA,EAAE,CAACC,SAAH,CAAapH,KAAb,EAAoB8C,MAApB,CAAP;AACD;AAz3BwB;;AAAA;AAAA,OAA3B;;;;cA6DoB;;cACF;;cACI;;cACD;;cACL;;cACW;;cACP;;cACD;;cACC;;cACH;;cACE;;cACF;;cACY;;;;AApBW,8DAArC,gEAAU,QAAV,EAAoB;AAACuE,UAAI,EAAE;AAAP,KAApB,CAAqC,G,wBAAA,E,MAAA,E,MAAA;AArD3BzO,kBAAc,6DAL1B,gEAAU;AACT0O,cAAQ,EAAE,gBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,oGAFS;;;;AAAA,KAAV,CAK0B,GAAd3O,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBb,QAAa4O,cAAc;AAEzB,gCAAc;AAAA;;AAId,aAAAC,MAAA,GAAgB,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB,EAAkC,SAAlC,EAA6C,SAA7C,EAAwD,SAAxD,EACd,SADc,EACH,SADG,EACQ,SADR,EACmB,SADnB,EAC8B,SAD9B,EACyC,SADzC,EACoD,SADpD,EAC+D,SAD/D,EAEd,SAFc,EAEH,SAFG,EAEQ,SAFR,CAAhB;AAHExL,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD;;AAJwB;AAAA;AAAA,iCAUTwL,GAVS,EAUE;AACzB,iBAAO,KAAKD,MAAL,CAAYE,IAAI,CAACC,GAAL,CAAS,KAAKC,QAAL,CAAcH,GAAd,CAAT,IAA+B,KAAKD,MAAL,CAAYtH,MAAvD,CAAP;AACD;AAZwB;AAAA;AAAA,iCAcRuH,GAdQ,EAcG;AAC1B,cAAII,CAAC,GAAG,CAAR;;AAEA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,GAAG,CAACvH,MAAxB,EAAgC4H,CAAC,EAAjC,EAAqC;AACnCD,aAAC,GAAG,KAAKA,CAAL,GAASJ,GAAG,CAACM,UAAJ,CAAeD,CAAf,CAAb;AACAD,aAAC,IAAI,CAAL,CAFmC,CAE3B;AACT;;AAED,iBAAOA,CAAP;AACD;AAvBwB;;AAAA;AAAA,OAA3B;;AAAaN,kBAAc,6DAD1B,kEAC0B,GAAdA,cAAc,CAAd;;;;;;;;;;;;;;;;ACHb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWA,QAAaS,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAN5B,+DAAS;AACR1P,aAAO,EAAE,CAAC,4DAAD,CADD;AAERI,kBAAY,EAAE,CAAC,gEAAD,CAFN;AAGRuP,aAAO,EAAE,CAAC,gEAAD,CAHD;AAIRC,eAAS,EAAE,CAAC,+DAAD;AAJH,KAAT,CAM4B,GAAhBF,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACXb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,QAAaG,mBAAmB;AAW9B,mCAAoBC,cAApB,EAAoD;AAAA;;AAAhC,aAAAA,cAAA,GAAAA,cAAA;AANb,aAAAC,WAAA,GAAc,EAAd;AACA,aAAAC,MAAA,GAAS;AACd,8BAAoB,MADN;AAEd,mBAAS;AAFK,SAAT;AAK+C;;AAXxB;AAAA;AAAA,oCAalBC,OAbkB,EAaM;AAClC,cAAItC,IAAI,GAAGsC,OAAO,CAAC,MAAD,CAAP,GAAkBA,OAAO,CAAC,MAAD,CAAP,CAAgBC,YAAlC,GAAiD,IAA5D;AACA,cAAIC,KAAK,GAAGF,OAAO,CAAC,OAAD,CAAP,GAAmBA,OAAO,CAAC,OAAD,CAAP,CAAiBC,YAApC,GAAmD,IAA/D;AACA,cAAI7O,SAAS,GAAG4O,OAAO,CAAC,WAAD,CAAP,GAAuBA,OAAO,CAAC,WAAD,CAAP,CAAqBC,YAA5C,GAA2D,KAAKF,MAAL,CAAYG,KAAvF;AAEA,eAAKJ,WAAL,GAAmB,KAAKK,qBAAL,CAA2BzC,IAA3B,CAAnB;AAEA,eAAKqC,MAAL,GAAc,MAAH,OAAG,CAAH,kBAAO,KAAKA,MAAZ,CAAG,EAAe;AAAE,gCAAoB,KAAKK,wBAAL,CAA8BF,KAA9B,EAAqCxC,IAArC,CAAtB;AAAkE,qBAAStM;AAA3E,WAAf,CAAd;AACD;AArB6B;AAAA;AAAA,8CAuBAsM,IAvBA,EAuBY;AACxC,iBAAOA,IAAI,CAAC2C,MAAL,CAAY,CAAZ,KAAkB,EAAzB;AACD;AAzB6B;AAAA;AAAA,iDA2BGH,KA3BH,EA2BkBxC,IA3BlB,EA2B8B;AAC1D,iBAAOwC,KAAK,IAAI,KAAKL,cAAL,CAAoBS,QAApB,CAA6B5C,IAA7B,CAAhB;AACD;AA7B6B;;AAAA;AAAA,OAAhC;;;;cAWsC;;;;AAV3B,8DAAR,6DAAQ,G,6BAAA,E,MAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,6BAAA,E,OAAA,E,MAAA;AACA,8DAAR,6DAAQ,G,6BAAA,E,WAAA,E,MAAA;AAHEkC,uBAAmB,6DAP/B,gEAAU;AACTd,cAAQ,EAAE,aADD;AAETC,cAAQ,uFAFC;;;;AAAA,KAAV,CAO+B,GAAnBa,mBAAmB,CAAnB","file":"calendario-calendario-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <!-- esto lo comentamos ya que se decidió no usar color de header personalizado -->\\r\\n  <!-- <ion-toolbar [style.--background]=\\\"miColor\\\" mode=\\\"md\\\"> -->\\r\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Eventos</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"ordenar()\\\" style=\\\"padding-right: 16px;\\\">\\r\\n      <ion-icon class=\\\"fcw\\\" slot=\\\"icon-only\\\" name=\\\"swap-vertical\\\"></ion-icon>&nbsp;Ordenar\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\" style=\\\"--padding-bottom: 50px !important;\\\">\\r\\n  <!-- selección de fecha -->\\r\\n<!--     <ion-item class=\\\"ion-text-center\\\" lines=\\\"none\\\">\\r\\n      <ion-icon name=\\\"calendar\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-select okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\" (ionChange)=\\\"mesSelected($event)\\\" multiple=\\\"false\\\" value=\\\"{{mesActualSeleccionado}}\\\">\\r\\n          <ion-select-option *ngFor=\\\"let mes of mesesVertical\\\" [value]=\\\"mes.mesNumero\\\">\\r\\n            {{mes.mesTexto}}\\r\\n          </ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item> -->\\r\\n\\r\\n\\r\\n <div *ngIf=\\\"!tiene\\\">\\r\\n  <div style=\\\"position: absolute; display: table; height: 90%; font-size: 30px; color:#BDBDBD; text-align: center;\\\" class=\\\"ion-padding\\\">\\r\\n    <p style=\\\"display: table-cell; vertical-align: middle\\\">No hay eventos para mostrar  <br>\\r\\n    <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 50px;\\\"></ion-icon></p>\\r\\n  </div>\\r\\n </div>\\r\\n <div *ngIf=\\\"tiene\\\">\\r\\n  <div *ngFor=\\\"let item of citasVerticalTodasTop\\\">\\r\\n    <ion-grid *ngIf=\\\"item.Mostrar\\\">\\r\\n      <!-- prueba de material -->\\r\\n      <!-- fila fecha superior-->\\r\\n      <ion-row>\\r\\n        <label class=\\\"fecha-card\\\">{{item.NumeroDia}} de {{transformDate(item.FechaCompleta, 'MMMM')}}</label>\\r\\n      </ion-row>\\r\\n      <!-- fila items -->\\r\\n      <ion-row class=\\\"ion-no-padding ion-no-margin row-card\\\">\\r\\n        <mat-card *ngFor=\\\"let evento of item.Eventos\\\" color=\\\"light\\\" style=\\\"margin-bottom: 8px;\\\">\\r\\n          <mat-card-header (click)=\\\"goToDetalleCita(evento)\\\">\\r\\n            \\r\\n              <mat-card-subtitle class=\\\"hora\\\">{{evento.HoraInicioFin}}</mat-card-subtitle>\\r\\n              <mat-card-title>{{evento.DetalleEventoMes.Titulo}}</mat-card-title>\\r\\n              <mat-card-subtitle>{{evento.DetalleEventoMes.NombrePaciente}}</mat-card-subtitle>\\r\\n            \\r\\n            <div class=\\\"img-card\\\">\\r\\n              <img class=\\\"example-header-image\\\" src=\\\"./assets/img/{{evento.Imagen}}\\\">\\r\\n            </div>\\r\\n          </mat-card-header>\\r\\n          <mat-card-actions *ngIf=\\\"revisaEstado(evento)\\\">\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Anular')[1]\\\" (click)=\\\"presentAlertConfirm(botonCancelar, evento)\\\">ANULAR</button>\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Confirmar')[0]\\\" (click)=\\\"presentAlertConfirm(botonConfirmar, evento)\\\">RESERVAR</button>\\r\\n          </mat-card-actions>\\r\\n        </mat-card>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n  <!-- pruebas con infinite scroll -->\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando más eventos...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n </div>\\r\\n</ion-content>\\r\\n<!-- este es el fab para abrir reservar horas -->\\r\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n  <ion-button color=\\\"secondary\\\" (click)=\\\"openReservarHoraPage()\\\" shape=\\\"round\\\" style=\\\"--color:black;\\\">\\r\\n    <ion-icon slot=\\\"start\\\" name=\\\"add-outline\\\" class=\\\"botonReservar\\\" style=\\\"font-size: 16px;\\\"></ion-icon>\\r\\n    <span class=\\\"botonReservar\\\">RESERVAR HORA</span>\\r\\n  </ion-button>\\r\\n</ion-fab>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CalendarioPage } from './calendario.page';\r\nimport { TextAvatarModule } from '../../directives/text-avatar/index'\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TextAvatarModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: CalendarioPage\r\n      }\r\n    ]),\r\n  ],\r\n  declarations: [CalendarioPage]\r\n})\r\nexport class CalendarioPageModule {}\r\n","export default \"/* Set the width to the full container and center the content */\\nion-select {\\n  width: 100%;\\n  justify-content: center;\\n}\\n/* Set the flex in order to size the text width to its content */\\nion-select::part(placeholder),\\nion-select::part(text) {\\n  flex: 0 0 auto;\\n}\\n/* Set the placeholder color and opacity */\\nion-select::part(placeholder) {\\n  color: #20a08a;\\n  opacity: 1;\\n}\\n/*\\n * Set the font of the first letter of the placeholder\\n * Shadow parts work with pseudo-elements, too!\\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\\n */\\nion-select::part(placeholder)::first-letter {\\n  font-size: 24px;\\n  font-weight: 500;\\n}\\n/* Set the text color */\\nion-select::part(text) {\\n  color: #545ca7;\\n}\\n/* Set the icon color and opacity */\\nion-select::part(icon) {\\n  color: #971e49;\\n  opacity: 1;\\n}\\n.content-card-fav {\\n  height: 58px;\\n  min-height: 56px;\\n}\\n.ion-fav-calendar {\\n  height: 48px;\\n  width: 48px;\\n}\\n.botonReservar {\\n  /*color:#000000DE;\\n  font-weight: 20px;*/\\n  font: normal normal medium 14px/16px Roboto;\\n  letter-spacing: 1.25px;\\n  color: #000000DE;\\n  text-transform: uppercase;\\n  opacity: 1;\\n}\\n/* estilos para material */\\n.example-header-image {\\n  background-size: cover;\\n  width: 80px;\\n  height: 80px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\nmat-card {\\n  width: 100%;\\n  max-width: 100%;\\n  min-width: 100%;\\n}\\n::ng-dep .mat-card-header-text {\\n  width: 100%;\\n  margin: 0;\\n}\\n.hora {\\n  font-size: 0.8em;\\n}\\n.row-card {\\n  margin-left: 16px;\\n  margin-right: 16px;\\n}\\n.img-card {\\n  width: 80px;\\n  float: right;\\n  margin: 0;\\n  padding: 0;\\n  min-width: 80px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2FsZW5kYXJpby9GOlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXGNhbGVuZGFyaW9cXGNhbGVuZGFyaW8ucGFnZS5zY3NzIiwic3JjL2FwcC9jYWxlbmRhcmlvL2NhbGVuZGFyaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtEQUFBO0FBQ0E7RUFDSSxXQUFBO0VBRUEsdUJBQUE7QUNBSjtBREdFLGdFQUFBO0FBQ0E7O0VBRUUsY0FBQTtBQ0FKO0FER0UsMENBQUE7QUFDQTtFQUNFLGNBQUE7RUFDQSxVQUFBO0FDQUo7QURHRTs7OztFQUFBO0FBS0E7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNBSjtBREdFLHVCQUFBO0FBQ0E7RUFDRSxjQUFBO0FDQUo7QURHRSxtQ0FBQTtBQUNBO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUNBSjtBREVFO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDQ0o7QURDRTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDRUo7QURBRTtFQUNFO3FCQUFBO0VBRUEsMkNBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0FDR0o7QURERSwwQkFBQTtBQUNBO0VBQ0Usc0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0tBQUEsaUJBQUE7QUNJSjtBREZFO0VBQ0UsV0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FDS0o7QURIRTtFQUNFLFdBQUE7RUFDQSxTQUFBO0FDTUo7QURKRTtFQUNFLGdCQUFBO0FDT0o7QURMRTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUNRSjtBRE5FO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLGVBQUE7QUNTSiIsImZpbGUiOiJzcmMvYXBwL2NhbGVuZGFyaW8vY2FsZW5kYXJpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTZXQgdGhlIHdpZHRoIHRvIHRoZSBmdWxsIGNvbnRhaW5lciBhbmQgY2VudGVyIHRoZSBjb250ZW50ICovXHJcbmlvbi1zZWxlY3Qge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLyogU2V0IHRoZSBmbGV4IGluIG9yZGVyIHRvIHNpemUgdGhlIHRleHQgd2lkdGggdG8gaXRzIGNvbnRlbnQgKi9cclxuICBpb24tc2VsZWN0OjpwYXJ0KHBsYWNlaG9sZGVyKSxcclxuICBpb24tc2VsZWN0OjpwYXJ0KHRleHQpIHtcclxuICAgIGZsZXg6IDAgMCBhdXRvO1xyXG4gIH1cclxuICBcclxuICAvKiBTZXQgdGhlIHBsYWNlaG9sZGVyIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbiAgaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlcikge1xyXG4gICAgY29sb3I6ICMyMGEwOGE7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gIH1cclxuICBcclxuICAvKlxyXG4gICAqIFNldCB0aGUgZm9udCBvZiB0aGUgZmlyc3QgbGV0dGVyIG9mIHRoZSBwbGFjZWhvbGRlclxyXG4gICAqIFNoYWRvdyBwYXJ0cyB3b3JrIHdpdGggcHNldWRvLWVsZW1lbnRzLCB0b28hXHJcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1BzZXVkby1lbGVtZW50c1xyXG4gICAqL1xyXG4gIGlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpOjpmaXJzdC1sZXR0ZXIge1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICB9XHJcbiAgXHJcbiAgLyogU2V0IHRoZSB0ZXh0IGNvbG9yICovXHJcbiAgaW9uLXNlbGVjdDo6cGFydCh0ZXh0KSB7XHJcbiAgICBjb2xvcjogIzU0NWNhNztcclxuICB9XHJcbiAgXHJcbiAgLyogU2V0IHRoZSBpY29uIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbiAgaW9uLXNlbGVjdDo6cGFydChpY29uKSB7XHJcbiAgICBjb2xvcjogIzk3MWU0OTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgfVxyXG4gIC5jb250ZW50LWNhcmQtZmF2e1xyXG4gICAgaGVpZ2h0OiA1OHB4O1xyXG4gICAgbWluLWhlaWdodDogNTZweDtcclxuICB9XHJcbiAgLmlvbi1mYXYtY2FsZW5kYXJ7XHJcbiAgICBoZWlnaHQ6IDQ4cHg7XHJcbiAgICB3aWR0aDogNDhweDtcclxuICB9XHJcbiAgLmJvdG9uUmVzZXJ2YXJ7XHJcbiAgICAvKmNvbG9yOiMwMDAwMDBERTtcclxuICAgIGZvbnQtd2VpZ2h0OiAyMHB4OyovXHJcbiAgICBmb250OiBub3JtYWwgbm9ybWFsIG1lZGl1bSAxNHB4LzE2cHggUm9ib3RvO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDEuMjVweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwREU7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgb3BhY2l0eTogMTtcclxuICB9XHJcbiAgLyogZXN0aWxvcyBwYXJhIG1hdGVyaWFsICovXHJcbiAgLmV4YW1wbGUtaGVhZGVyLWltYWdlIHtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIGhlaWdodDogODBweDtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gIH1cclxuICBtYXQtY2FyZHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgbWluLXdpZHRoOiAxMDAlO1xyXG4gIH1cclxuICA6Om5nLWRlcCAubWF0LWNhcmQtaGVhZGVyLXRleHR7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbjogMDtcclxuICB9XHJcbiAgLmhvcmF7XHJcbiAgICBmb250LXNpemU6IDAuOGVtO1xyXG4gIH1cclxuICAucm93LWNhcmR7XHJcbiAgICBtYXJnaW4tbGVmdDogMTZweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTZweDtcclxuICB9XHJcbiAgLmltZy1jYXJke1xyXG4gICAgd2lkdGg6IDgwcHg7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWluLXdpZHRoOiA4MHB4O1xyXG4gIH1cclxuICBcclxuIiwiLyogU2V0IHRoZSB3aWR0aCB0byB0aGUgZnVsbCBjb250YWluZXIgYW5kIGNlbnRlciB0aGUgY29udGVudCAqL1xuaW9uLXNlbGVjdCB7XG4gIHdpZHRoOiAxMDAlO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLyogU2V0IHRoZSBmbGV4IGluIG9yZGVyIHRvIHNpemUgdGhlIHRleHQgd2lkdGggdG8gaXRzIGNvbnRlbnQgKi9cbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpLFxuaW9uLXNlbGVjdDo6cGFydCh0ZXh0KSB7XG4gIGZsZXg6IDAgMCBhdXRvO1xufVxuXG4vKiBTZXQgdGhlIHBsYWNlaG9sZGVyIGNvbG9yIGFuZCBvcGFjaXR5ICovXG5pb24tc2VsZWN0OjpwYXJ0KHBsYWNlaG9sZGVyKSB7XG4gIGNvbG9yOiAjMjBhMDhhO1xuICBvcGFjaXR5OiAxO1xufVxuXG4vKlxuICogU2V0IHRoZSBmb250IG9mIHRoZSBmaXJzdCBsZXR0ZXIgb2YgdGhlIHBsYWNlaG9sZGVyXG4gKiBTaGFkb3cgcGFydHMgd29yayB3aXRoIHBzZXVkby1lbGVtZW50cywgdG9vIVxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1BzZXVkby1lbGVtZW50c1xuICovXG5pb24tc2VsZWN0OjpwYXJ0KHBsYWNlaG9sZGVyKTo6Zmlyc3QtbGV0dGVyIHtcbiAgZm9udC1zaXplOiAyNHB4O1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4vKiBTZXQgdGhlIHRleHQgY29sb3IgKi9cbmlvbi1zZWxlY3Q6OnBhcnQodGV4dCkge1xuICBjb2xvcjogIzU0NWNhNztcbn1cblxuLyogU2V0IHRoZSBpY29uIGNvbG9yIGFuZCBvcGFjaXR5ICovXG5pb24tc2VsZWN0OjpwYXJ0KGljb24pIHtcbiAgY29sb3I6ICM5NzFlNDk7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5jb250ZW50LWNhcmQtZmF2IHtcbiAgaGVpZ2h0OiA1OHB4O1xuICBtaW4taGVpZ2h0OiA1NnB4O1xufVxuXG4uaW9uLWZhdi1jYWxlbmRhciB7XG4gIGhlaWdodDogNDhweDtcbiAgd2lkdGg6IDQ4cHg7XG59XG5cbi5ib3RvblJlc2VydmFyIHtcbiAgLypjb2xvcjojMDAwMDAwREU7XG4gIGZvbnQtd2VpZ2h0OiAyMHB4OyovXG4gIGZvbnQ6IG5vcm1hbCBub3JtYWwgbWVkaXVtIDE0cHgvMTZweCBSb2JvdG87XG4gIGxldHRlci1zcGFjaW5nOiAxLjI1cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qIGVzdGlsb3MgcGFyYSBtYXRlcmlhbCAqL1xuLmV4YW1wbGUtaGVhZGVyLWltYWdlIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgd2lkdGg6IDgwcHg7XG4gIGhlaWdodDogODBweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbm1hdC1jYXJkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xufVxuXG46Om5nLWRlcCAubWF0LWNhcmQtaGVhZGVyLXRleHQge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwO1xufVxuXG4uaG9yYSB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5cbi5yb3ctY2FyZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG59XG5cbi5pbWctY2FyZCB7XG4gIHdpZHRoOiA4MHB4O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgbWluLXdpZHRoOiA4MHB4O1xufSJdfQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem, AlertController } from '@ionic/angular';\r\n//parametros\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioInfoUsuario } from '../../app/services/ServicioInfoUsuario';\r\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport { environment } from 'src/environments/environment';\r\n//moment\r\nimport * as moment from 'moment';\r\n//modal\r\nimport { ModalDetalleCitaPage } from '../modal-detalle-cita/modal-detalle-cita.page';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\n\r\n@Component({\r\n  selector: 'app-calendario',\r\n  templateUrl: './calendario.page.html',\r\n  styleUrls: ['./calendario.page.scss'],\r\n})\r\nexport class CalendarioPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  tiene = true;\r\n  textColor = '#FFFFFF';\r\n  //variables propias\r\n  eventSource;\r\n  public userData;\r\n  public usuarioAps;\r\n  public citas;\r\n  public citasVertical;\r\n  public citasVerticalMostrar;\r\n  public calendarioData = [];\r\n  public current;\r\n  public calendarioTodo = [];\r\n  public hoy;\r\n  public diaSem;\r\n  public meses;\r\n  public anio;\r\n  public icon;\r\n  public imgEvento;\r\n  public latAndLong;\r\n  public titulo;\r\n  public mesesVertical: any;\r\n  public mesActualSeleccionado: any;\r\n  public citasIntegracion = [];\r\n  public citasVerticalTodas = [];\r\n  //datos para consultar citas\r\n  runPaciente = '';\r\n  codigoDeis = '';\r\n  serviceType = '349';\r\n  nodId;\r\n  //para el manejo de los botones en las citas\r\n  botonReservar = {\r\n    Titulo: 'RESERVAR',\r\n    Visible: false,\r\n    Operacion: 'booked',\r\n    Color: 'primary',\r\n    Alert: '¿Reservar cita?'\r\n  }\r\n  botonConfirmar = {\r\n    Titulo: 'CONFIRMAR',\r\n    Visible: false,\r\n    Operacion: 'confirmed',\r\n    Color: 'primary',\r\n    Alert: '¿Confirmar la reserva de cita?'\r\n  }\r\n  botonCancelar = {\r\n    Titulo: 'ANULAR',\r\n    Visible: false,\r\n    Operacion: 'cancelled',\r\n    Color: 'danger',\r\n    Alert: '¿Anular la reserva de cita?'\r\n  }\r\n  @ViewChild('myList', {read: IonItem}) list: IonItem;\r\n  //para controlar el cargando\r\n  estaCargando = false;\r\n  //para infinity scroll\r\n  private topLimit: number = 5;\r\n  private citasVerticalTodasTop: any = [];\r\n  \r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,     \r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public utiles: ServicioUtiles,\r\n    public loading: LoadingController,\r\n    public info: ServicioInfoUsuario,\r\n    public acceso: ServicioAcceso,\r\n    public cita: ServicioCitas,\r\n    private alertController: AlertController,\r\n  ) { }\r\n\r\n  //DEBO EMPEZAR A TRABAJAR EN LA PAGINA DE DETALLE DE LOS EVENTOS,\r\n  //OJO HAY VACUNAS CON FECHA PROXIMA 29-11-2020 Y NO VEO QUE APAREZCAN\r\n  //CUANDO SELECCIONAS EL COMBO DE FECHA Y LUEGO VUELVES A SELECCIONAR \r\n  //UNA FECHA ANTERIOR POR EJEMPLO NO MUESTRA NADA\r\n  \r\n  ngOnInit() {\r\n    moment().locale('es');\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    if (sessionStorage.UsuarioAps) {\r\n      this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (this.usuarioAps) {\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        this.usuarioAps.UrlImagen = environment.URL_FOTOS + this.usuarioAps.UrlImagen;\r\n        this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n        this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n        this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n      }\r\n    }\r\n    //mes seleccionado\r\n    this.mesActualSeleccionado = moment().month() + 1 + ',' + moment().year();\r\n    //this.mesActualSeleccionado = moment().month() + 1;\r\n    console.log('formato de mes seleccionado ===> ' + this.mesActualSeleccionado);\r\n    //revisar estos parametros ya que estan en el otro codigo en el oninit\r\n    let diasSemana = new Array(\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\");\r\n    let meses = new Array(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\");\r\n    this.diaSem = diasSemana[new Date().getDay()];\r\n    this.hoy = new Date().getDate();\r\n    this.meses = meses[new Date().getMonth()];\r\n    this.anio = new Date().getFullYear();\r\n    //estos parametros estan en el ready\r\n    //lamada para citas vertical\r\n    var annoActual = moment().year();\r\n    \r\n    var mesActual = moment().month() + 1;\r\n    //var mesActual = this.mesActualSeleccionado;\r\n    console.log(mesActual);\r\n    //***************************** */\r\n    this.tratamientoMeses();\r\n    //omplementación antigua\r\n    //this.cargarEventosMes(mesActual, annoActual);\r\n    //this.buscarDisponibilidad(new Date());\r\n    //implementacion nueva\r\n    this.cargarTodosLosEventos();\r\n\r\n  }\r\n  private getTime(date?: Date) {\r\n    return date != null ? new Date(date).getTime() : 0;\r\n  }\r\n/*   ordenarDesc = function(a, b){\r\n    var fechaA = moment(a.FechaCompleta).format();\r\n    var fechaB = moment(b.FechaCompleta).format();\r\n    //console.log(convertirFe)\r\n    //return b-a;\r\n    return fechaA - fechaB;\r\n  }; */\r\n  async cargarTodosLosEventos(){\r\n    //usar citasVerticalTodas\r\n    this.citasVerticalTodas = [];\r\n    this.citasVerticalMostrar = [];\r\n    var fechaActual = moment();\r\n    var fechaAnterior = moment().subtract(1, 'month');\r\n    var fechaPosterior = moment().add(1, 'month');\r\n    var mesAnterior = {\r\n      mes: fechaAnterior.month() + 1,\r\n      anno: fechaAnterior.year()\r\n    };\r\n    var mesActual = {\r\n      mes: fechaActual.month() + 1,\r\n      anno: fechaActual.year()\r\n    };\r\n    var mesPosterior = {\r\n      mes: fechaPosterior.month() + 1,\r\n      anno: fechaPosterior.year()\r\n    };\r\n\r\n    let loader = await this.loading.create({\r\n      message: 'Obteniendo...<br>Información del usuario',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesAnterior.mes, mesAnterior.anno).subscribe(async (response: any)=>{\r\n          this.citasVerticalTodas = response;\r\n          //segunda llamada\r\n          this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).subscribe(async (responseDos: any)=>{\r\n            this.citasVerticalTodas = this.citasVerticalTodas.concat(responseDos);\r\n            //tercera llamada\r\n            this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesPosterior.mes, mesPosterior.anno).subscribe(async (responseTres: any)=>{\r\n              this.citasVerticalTodas = this.citasVerticalTodas.concat(responseTres);\r\n              //pruebas\r\n              //this.pruebaProcesar(this.citasVerticalTodas);\r\n              //aca procedemos a procesarlos\r\n\r\n              this.procesarArregloCitasTodas();\r\n              this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n              //console.log(this.citasVerticalMostrar);\r\n              //ahora que tenemos las citas que queremos mostrar\r\n              //ordenamos\r\n              this.citasVerticalMostrar.sort((a:any, b:any)=>{ return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta)});\r\n              //guardamos la variable de ordenamiento\r\n              sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n              //creamos top limit al nuevo arreglo de citas\r\n              this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n              console.log(this.citasVerticalTodasTop);\r\n              loader.dismiss();\r\n            });\r\n          });\r\n        });\r\n      }\r\n      else{\r\n        //llamada nativa\r\n        this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesAnterior.mes, mesAnterior.anno).then(async (response: any)=>{\r\n          this.citasVerticalTodas = JSON.parse(response.data);\r\n          //segunda llamada\r\n          this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).then(async (responseDos: any)=>{\r\n            var dataDos = JSON.parse(responseDos.data);\r\n            this.citasVerticalTodas = this.citasVerticalTodas.concat(dataDos);\r\n            //tercera llamada\r\n            this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesPosterior.mes, mesPosterior.anno).then(async (responseTres: any)=>{\r\n              var dataTres = JSON.parse(responseTres.data);\r\n              this.citasVerticalTodas = this.citasVerticalTodas.concat(dataTres);\r\n              //aca procesamos\r\n              this.procesarArregloCitasTodas();\r\n              this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n                            //ahora que tenemos las citas que queremos mostrar\r\n              //ordenamos\r\n              this.citasVerticalMostrar.sort((a:any, b:any)=>{ return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta)});\r\n              //guardamos la variable de ordenamiento\r\n              sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n              //creamos top limit al nuevo arreglo de citas\r\n              this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n              console.log(this.citasVerticalTodasTop);\r\n              loader.dismiss();\r\n            });\r\n          });\r\n        });\r\n      }\r\n    }); \r\n\r\n  }\r\n\r\n\r\n  logout(){\r\n    this.acceso.logout();\r\n    this.navCtrl.navigateRoot('nuevo-login');\r\n  }\r\n  async mesSelected(item){\r\n    //realizar la llamada para cargar los eventos del mes\r\n    console.log(item.detail.value);\r\n    var arr = item.detail.value.split(',');\r\n    if (arr){\r\n      if (arr.length == 2){\r\n        var mes = arr[0];\r\n        var anno = arr[1];\r\n        // setear this.mesActualSeleccionado al mes seleccionado de lo contrario simpre sera el mes actual\r\n        //this.mesActualSeleccionado = mes;\r\n        this.mesActualSeleccionado = item.detail.value;\r\n        let loader = await this.loading.create({\r\n          message: 'Obteniendo...<br>Información del usuario',\r\n          duration: 20000\r\n        });\r\n    \r\n        await loader.present().then(async () => {\r\n          if(!this.utiles.isAppOnDevice()){\r\n            //llamada web\r\n            //this.cargarDatosWeb(mes, anno, loader);\r\n            this.cargarDatosWebN(mes, anno, loader);\r\n          }\r\n          else {\r\n            //llamada nativa\r\n            this.cargarDatosNativeN(mes, anno, loader);\r\n          }\r\n        });\r\n\r\n      }\r\n    }\r\n         \r\n  }\r\n  procesarArregloCitas(){\r\n    var contador = 0;\r\n    for (var s in this.citasVertical) {\r\n      for (var t in this.citasVertical[s].Eventos) {\r\n        var fechaHora = (this.citasVertical[s].Eventos[t].DetalleEventoMes.FechaHora);\r\n        var fechaEvento = moment(fechaHora, 'YYYY-MM-DD').toDate();\r\n        var fechaHoy = moment().toDate();\r\n\r\n        console.log('Evento: ' + fechaEvento);\r\n        console.log('Hoy:' + fechaHoy);\r\n        contador++;\r\n        if (this.citasVertical[s].Eventos[t]) {\r\n\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'agendar_citas_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita Web') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'agendar_citas_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada web';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Atención Realizada') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'atenciones_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Atención Realizada';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-medicamentos_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-medicamentos_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Alimento Entregado') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-alimentos_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Entrega de alimento';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna Administrada') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'vacunas_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Inmunización';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna por administrar') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'vacunas_p.png';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna';\r\n          }\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de alimento') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Alimento entregado';\r\n          console.log(this.citasVertical[s].Eventos[t].DetalleEventoMes);\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de fármaco') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco entregado'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Inmunización') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna administrada'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Vacuna') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna por administrar'\r\n        }\r\n\r\n      }\r\n    }\r\n    //para determinar si tiene o no eventos\r\n    if (contador == 0){\r\n      this.tiene = false;\r\n    }\r\n    else{\r\n      this.tiene = true;\r\n    }\r\n  }\r\n  procesarArregloCitasTodas(){\r\n    var contador = 0;\r\n    for (var s in this.citasVerticalTodas) {\r\n      for (var t in this.citasVerticalTodas[s].Eventos) {\r\n        var fechaHora = (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.FechaHora);\r\n        var fechaEvento = moment(fechaHora, 'YYYY-MM-DD').toDate();\r\n        var fechaHoy = moment().toDate();\r\n\r\n        console.log('Evento: ' + fechaEvento);\r\n        console.log('Hoy:' + fechaHoy);\r\n        contador++;\r\n\r\n        if (this.citasVerticalTodas[s].Eventos[t]) {\r\n\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'agendar_citas_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita Web') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'agendar_citas_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada web';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Atención Realizada') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'atenciones_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Atención Realizada';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-medicamentos_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-medicamentos_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Alimento Entregado') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-alimentos_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Entrega de alimento';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna Administrada') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'vacunas_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Inmunización';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna por administrar') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'vacunas_p.png';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna';\r\n          }\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de alimento') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Alimento entregado';\r\n          console.log(this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes);\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de fármaco') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco entregado'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Inmunización') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna administrada'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Vacuna') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna por administrar'\r\n        }\r\n\r\n      }\r\n    }\r\n    //para determinar si tiene o no eventos\r\n    if (contador == 0){\r\n      this.tiene = false;\r\n    }\r\n    else{\r\n      this.tiene = true;\r\n    }\r\n  }\r\n  //ordena los elementos de forma descende o ascendente\r\n  ordenar(){\r\n    if (sessionStorage.getItem('ORDEN_EVENTOS')){\r\n      var orden = sessionStorage.getItem('ORDEN_EVENTOS');\r\n      if (orden == 'descendente'){\r\n        this.citasVerticalTodasTop.sort((a:any, b:any)=>{ return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta)});\r\n        sessionStorage.setItem('ORDEN_EVENTOS', 'ascendente');\r\n      }\r\n      else{\r\n        this.citasVerticalTodasTop.sort((a:any, b:any)=>{ return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta)});\r\n        sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n      }\r\n    }\r\n    else{\r\n      this.citasVerticalTodasTop.sort((a:any, b:any)=>{ return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta)});\r\n      sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n    }\r\n  }\r\n  loadData(event) {\r\n    setTimeout(() => {\r\n      //console.log('Done');\r\n      this.topLimit += 5;\r\n      this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n      event.target.complete();\r\n      //aplicamos disabled si la cantidad de registros es la misma que el total\r\n      if (this.citasVerticalTodasTop.length == this.citasVerticalMostrar.length){\r\n        event.target.disabled = true;\r\n      }\r\n\r\n    }, 500);\r\n  }\r\n  cargarDatosNative(mesConsultar, annoConsultar, loader){\r\n    //lo cambiamos para probar el nuevo metodo\r\n    //this.cita.entregaPorMesNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n    this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n      //this.procesarIndicadorValor(response, loader);\r\n      this.citasVertical = JSON.parse(response.data);\r\n      this.citasVerticalMostrar =this.citasVertical.filter( e => e.Mostrar == true );\r\n      //aqui procesa citasVertical\r\n      this.procesarArregloCitas();\r\n      this.estaCargando = false;\r\n      //terminamos el loader\r\n      loader.dismiss();\r\n      //ESTA INFORMACION ES PARA LLENAR EVENTOS DEL TIPO CALENDARIO\r\n      if (environment.USA_CALENDARIO) {\r\n        //ahora traeremos la información adicional\r\n        let loader1 = await this.loading.create({\r\n          message: 'Obteniendo...<br>Información del usuario',\r\n          duration: 20000\r\n        });\r\n        await loader1.present().then(async () => {\r\n          this.cita.getDiagnosticosByUspIdNative(this.usuarioAps.Id);\r\n          this.citas = this.cita.arregloGeneral;\r\n          this.eventSource = this.createEventsCalendario();\r\n          loader1.dismiss();\r\n          this.estaCargando = false;\r\n          console.log('esta cargando ' + this.estaCargando);\r\n        });\r\n      }\r\n      //busca disponibilidad\r\n      if (this.utiles.entregaParametroUsaAgenda()) {\r\n        //en moment hay que quitar un digito al mes\r\n        //var fechaInicio = moment([parseInt(annoConsultar), parseInt(mesConsultar)-1, 1]);\r\n        var fechaD = new Date(parseInt(annoConsultar), parseInt(mesConsultar)-1, 1, 0, 1,0,0);\r\n       \r\n\r\n        var fechaInicio = moment(fechaD);\r\n        var diasDelMes = fechaInicio.daysInMonth();\r\n        var fechaT = new Date(parseInt(annoConsultar), parseInt(mesConsultar)-1, diasDelMes, 23, 59,0,0);\r\n        var fechaTermino = moment(fechaT);\r\n\r\n        let loaderDisp = await this.loading.create({\r\n          message: 'Cargando...<br>disponibilidad',\r\n          duration: 20000\r\n        });\r\n\r\n        this.cita.getDisponibilidadNative(fechaInicio.format(), fechaTermino.format(), this.codigoDeis, this.runPaciente, this.serviceType, '', '', 'cita', this.nodId).then((response: any) => {\r\n          this.citasIntegracion = [];\r\n          var respuesta = JSON.parse(response.data);\r\n          if (respuesta && respuesta.Mensaje) {\r\n            //correcto\r\n            if (respuesta.Mensaje.Detalle.Codigo == 'MSG_CORRECTO') {\r\n              //ya tiene citas tomadas, hay que enviarlo a otra pagina\r\n              //la de buscarcitas\r\n              this.citasIntegracion = respuesta.CitasDisponibles;\r\n              //hay que reprocesar los elementos\r\n              if (this.citasIntegracion.length > 0){\r\n                var nombrePaciente = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno + ' ' + this.usuarioAps.ApellidoMaterno;\r\n                this.utiles.insertaCitasAEventos(this.citasIntegracion, this.citasVertical, nombrePaciente);\r\n                //volvemos a reprocesar\r\n                this.procesarArregloCitas();\r\n              }\r\n\r\n            }\r\n          }\r\n          this.estaCargando = false;\r\n          console.log('esta cargando ' + this.estaCargando);\r\n          loaderDisp.dismiss();\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n  cargarDatosNativeN(mesConsultar, annoConsultar, loader){\r\n    //lo cambiamos para probar el nuevo metodo\r\n    //this.cita.entregaPorMesNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n    this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n      let consultaMes = this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n        this.citasVertical = JSON.parse(response.data);\r\n        this.citasVerticalMostrar = this.citasVertical.filter(e => e.Mostrar == true);\r\n        //aqui procesa citasVertical\r\n        this.procesarArregloCitas();\r\n        loader.dismiss();\r\n      });\r\n    });\r\n  }\r\n  async cargarDatosWebN(mesConsultar, annoConsultar, loader){\r\n    //ACA NO SE REALIZA LA CONSULTA A INETGRACIÓN PARA MOSTRAR O MEZCLAR LAS CITAS, YA QUE EL SP TRAE LA INFO DE LAS CITAS WEB\r\n    let consultaMes = this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).subscribe(async (response: any)=>{\r\n      this.citasVertical = response;\r\n      this.citasVerticalMostrar =this.citasVertical.filter( e => e.Mostrar == true );\r\n      //aqui procesa citasVertical\r\n      this.procesarArregloCitas();\r\n      loader.dismiss();\r\n    });\r\n    \r\n  }\r\n/*   pruebaProcesar(arr){\r\n    var fechaActual = moment().format(\"DD-MM-YYYY\");\r\n    var fechaManana = moment().add(1, 'day').format(\"DD-MM-YYYY\");\r\n\r\n    var nuevas = arr.filter(e=> e.Mostrar == true);\r\n    var total = nuevas.filter(e=> moment(e.FechaCompleta).format(\"DD-MM-YYYY\") == fechaActual || moment(e.FechaCompleta).format(\"DD-MM-YYYY\") == fechaManana);\r\n    if (total && total.length > 0){\r\n\r\n    }\r\n\r\n  } */\r\n  cargarDatosWeb(mesConsultar, annoConsultar, loader){\r\n    //lo comentamos por nueva implementacion\r\n    //this.cita.entregaPorMes(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).subscribe(async (response: any)=>{\r\n    this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).subscribe(async (response: any)=>{\r\n      //this.procesarIndicadorValor(response, loader);\r\n      this.citasVertical = response;\r\n      this.citasVerticalMostrar =this.citasVertical.filter( e => e.Mostrar == true );\r\n      //aqui procesa citasVertical\r\n      this.procesarArregloCitas();\r\n      this.estaCargando = false;\r\n      //terminamos el loader\r\n      loader.dismiss();\r\n      //ESTA INFORMACION ES PARA LLENAR EVENTOS DEL TIPO CALENDARIO\r\n      if (environment.USA_CALENDARIO) {\r\n        this.estaCargando = true;\r\n        //ahora traeremos la información adicional\r\n        let loader1 = await this.loading.create({\r\n          message: 'Obteniendo...<br>Información del usuario',\r\n          duration: 20000\r\n        });\r\n        await loader1.present().then(async () => {\r\n          this.cita.getDiagnosticosByUspId(this.usuarioAps.Id);\r\n          this.citas = this.cita.arregloGeneral;\r\n          this.eventSource = this.createEventsCalendario();\r\n          loader1.dismiss();\r\n          this.estaCargando = false;\r\n          console.log('esta cargando ' + this.estaCargando);\r\n        });\r\n      }\r\n      //busca disponibilidad\r\n      if (this.utiles.entregaParametroUsaAgenda()) {\r\n        this.estaCargando = true;\r\n        //en moment hay que quitar un digito al mes\r\n        //var fechaInicio = moment([parseInt(annoConsultar), parseInt(mesConsultar)-1, 1]);\r\n        var fechaD = new Date(parseInt(annoConsultar), parseInt(mesConsultar)-1, 1, 0, 1,0,0);\r\n       \r\n\r\n        var fechaInicio = moment(fechaD);\r\n        var diasDelMes = fechaInicio.daysInMonth();\r\n        var fechaT = new Date(parseInt(annoConsultar), parseInt(mesConsultar)-1, diasDelMes, 23, 59,0,0);\r\n        var fechaTermino = moment(fechaT);\r\n\r\n        let loaderDisp = await this.loading.create({\r\n          message: 'Cargando...<br>disponibilidad',\r\n          duration: 20000\r\n        });\r\n\r\n        this.cita.getDisponibilidad(fechaInicio.format(), fechaTermino.format(), this.codigoDeis, this.runPaciente, this.serviceType, '', '', 'cita', this.nodId).subscribe((response: any) => {\r\n          this.citasIntegracion = [];\r\n          if (response && response.Mensaje) {\r\n            //correcto\r\n            if (response.Mensaje.Detalle.Codigo == 'MSG_CORRECTO') {\r\n              //ya tiene citas tomadas, hay que enviarlo a otra pagina\r\n              //la de buscarcitas\r\n              this.citasIntegracion = response.CitasDisponibles;\r\n              //hay que reprocesar los elementos\r\n              if (this.citasIntegracion.length > 0) {\r\n                var nombrePaciente = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno + ' ' + this.usuarioAps.ApellidoMaterno;\r\n                this.utiles.insertaCitasAEventos(this.citasIntegracion, this.citasVertical, nombrePaciente);\r\n                //volvemos a reprocesar\r\n                this.procesarArregloCitas();\r\n              }\r\n\r\n            }\r\n          }\r\n          this.estaCargando = false;\r\n          console.log('esta cargando ' + this.estaCargando);\r\n          loaderDisp.dismiss();\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n  async cargarEventosMes(mesConsultar, annoConsultar){\r\n    this.estaCargando = true;\r\n    let loader = await this.loading.create({\r\n      message: 'Obteniendo...<br>Información del usuario',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        //this.cargarDatosWeb(mesConsultar, annoConsultar, loader);\r\n        this.cargarDatosWebN(mesConsultar, annoConsultar, loader);\r\n      }\r\n      else{\r\n        //llamada nativa\r\n        this.cargarDatosNativeN(mesConsultar, annoConsultar, loader);\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n  \r\n  tratamientoMeses(){\r\n    this.mesesVertical = [];\r\n    moment.locale('es-es');\r\n    var fechaActual = moment();\r\n    var fechaMenosUnMes = moment().subtract(1, 'month');\r\n    var fechaMasUnMes = moment().add(1, 'month');\r\n\r\n    var mesActualNumero = moment(fechaActual).month() + 1;\r\n    var mesMenosUnMesNumero = moment(fechaMenosUnMes).month() + 1;\r\n    var mesMasUnMesNumero = moment(fechaMasUnMes).month() + 1;\r\n    \r\n    var mesActualStr = moment(fechaActual).format(\"MMMM\").toUpperCase();\r\n    var mesMenosUnMesStr = moment(fechaMenosUnMes).format(\"MMMM\").toUpperCase();\r\n    var mesMasUnMesStr = moment(fechaMasUnMes).format(\"MMMM\").toUpperCase();\r\n\r\n    var annoActual = moment(fechaActual).format(\"YYYY\");\r\n    var annoMenosUnMes = moment(fechaMenosUnMes).format(\"YYYY\");\r\n    var annoMasUnMes = moment(fechaMasUnMes).format(\"YYYY\");\r\n\r\n    //ahora tenemos los años, meses podemos construir el arreglo.\r\n    var entidadActual = { mesNumero: mesActualNumero + ',' + annoActual, mesTexto: mesActualStr, anno: annoActual };\r\n    var entidadMenos = { mesNumero: mesMenosUnMesNumero+ ',' + annoMenosUnMes, mesTexto: mesMenosUnMesStr, anno: annoMenosUnMes };\r\n    var entidadMas = { mesNumero: mesMasUnMesNumero+ ',' + annoMasUnMes, mesTexto: mesMasUnMesStr, anno: annoMasUnMes };\r\n\r\n    //agregamos los elementos al arreglo\r\n    this.mesesVertical.push(entidadMenos);\r\n    this.mesesVertical.push(entidadActual);\r\n    this.mesesVertical.push(entidadMas);\r\n\r\n    console.log(this.mesesVertical);\r\n  }\r\n  createEventsCalendario(){\r\n    this.calendarioData = this.citas;\r\n    console.log(this.calendarioData);\r\n    return this.calendarioData;\r\n  }\r\n  async goToDetalleCita(evento){\r\n    //this.list.closeSlidingItems();\r\n    //this.navCtrl.push(DetailCitasPage, {evento:evento, usuario: this.usuarioAps});\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalDetalleCitaPage,\r\n        componentProps: {\r\n          'evento': JSON.stringify(evento),\r\n          'usuario': JSON.stringify(this.usuarioAps)\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      if(data.data && data.data.accion){\r\n        var accion = data.data.accion;\r\n        //console.log(accion);\r\n        //obtenemos la pagina actual\r\n        //actualizar\r\n        var annoActual = moment().year();\r\n    \r\n        var mesActual = moment().month() + 1;\r\n        //var mesActual = this.mesActualSeleccionado;\r\n        //console.log(mesActual);\r\n        //***************************** */\r\n        this.tratamientoMeses();\r\n        if (accion === 'booked'){\r\n          this.utiles.presentToast('Cita reservada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'confirmed'){\r\n          this.utiles.presentToast('Cita confirmada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'cancelled'){\r\n          this.utiles.presentToast('Cita anulada con éxito!!', 'bottom', 3000);\r\n        }\r\n        this.cargarTodosLosEventos();\r\n        //this.cargarEventosMes(mesActual, annoActual);\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  //para procesar citas\r\n  //se debe buscar disponibilidad de acuerdo a la fecha que se consulta\r\n  async buscarDisponibilidad(fecha) {\r\n    //ACA ME FALTA CONTROLAR LOS MENSAJES\r\n    var inicio = new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate(), 6, 0, 0, 0);\r\n    var ini = moment(inicio).format();\r\n    var termino = new Date(fecha.getFullYear(), fecha.getMonth(), fecha.getDate(), 23, 59, 0, 0)\r\n    var ter = moment(termino).format();\r\n    let loader = await this.loading.create({\r\n      message: 'Cargando...<br>disponibilidad',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.getDisponibilidad(ini, ter, this.codigoDeis, this.runPaciente, this.serviceType, '', '', 'cita', this.nodId).subscribe((response: any) => {\r\n          this.procesarRespuesta(response, loader);\r\n        });\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.getDisponibilidadNative(ini, ter, this.codigoDeis, this.runPaciente, this.serviceType, '', '', 'cita', this.nodId).then((response: any) => {\r\n          var respuesta = JSON.parse(response.data);\r\n          this.procesarRespuesta(respuesta, loader);\r\n        });\r\n      }\r\n    });\r\n  }\r\n  procesarRespuesta(data, loader) {\r\n    this.citasIntegracion = [];\r\n    if (data && data.Mensaje) {\r\n      //correcto\r\n      if (data.Mensaje.Detalle.Codigo == 'MSG_CORRECTO') {\r\n        //ya tiene citas tomadas, hay que enviarlo a otra pagina\r\n        //la de buscarcitas\r\n        this.citasIntegracion = data.CitasDisponibles;\r\n\r\n      }\r\n      loader.dismiss();\r\n    }\r\n  }\r\n  revisarCita(evento, tituloBoton){\r\n    //aca hay solo booked y confirmed\r\n    //si está booked puede confirmar y anular\r\n    //si está confirmed solo puede anular\r\n    //boton confirmar, anular\r\n    var visible = [false, false];\r\n    if (evento.DetalleEventoMes.Estado == 'booked'  && tituloBoton == 'Confirmar'){\r\n      //si esta booked se puede confirmar\r\n      visible = [true, true];\r\n    }\r\n    else if (evento.DetalleEventoMes.Estado == 'confirmed'  && tituloBoton == 'Anular'){\r\n      //si esta booked se puede confirmar\r\n      visible = [false, true];\r\n    }\r\n    else if (evento.DetalleEventoMes.Estado == 'booked'  && tituloBoton == 'Anular'){\r\n      //si esta booked se puede confirmar\r\n      visible = [true, true];\r\n    }\r\n    else{\r\n      visible = [false, false]\r\n    }\r\n    return visible;\r\n  }\r\n  //manejo de citas\r\n  async presentAlertConfirm(boton, evento) {\r\n    var titulo = '';\r\n\r\n    const alert = await this.alertController.create({\r\n      header: boton.Titulo,\r\n      message: boton.Alert,\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'danger',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Si',\r\n          cssClass: 'success',\r\n          handler: () => {\r\n            //aca debemos realizar la operación\r\n            this.accionCita(boton, evento);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  async accionCita(boton, evento){\r\n    if (evento.DetalleEventoMes.Estado && evento.DetalleEventoMes.Estado != ''){\r\n      var idPaciente = this.usuarioAps.Rut;\r\n      var idCita = evento.DetalleEventoMes.IdElemento;\r\n      var accion = boton.Operacion;\r\n  \r\n      let loader = await this.loading.create({\r\n        message: 'Procesado...<br>Información',\r\n        duration: 20000\r\n      });\r\n  \r\n      await loader.present().then(async () => {\r\n        var retorno = null;\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.cita.getOperacionCita(idCita, idPaciente, accion).subscribe((response: any)=>{\r\n            this.procesarRespuestaAgendar(response, loader, accion);\r\n          })\r\n        }\r\n        else{\r\n          //llamada nativa\r\n          //this.cargarDatosNative(mesConsultar, annoConsultar, loader);\r\n          this.cita.getOperacionCitaNative(idCita, idPaciente, accion).then((responseData: any)=>{\r\n            var response = JSON.parse(responseData.data);\r\n            this.procesarRespuestaAgendar(response, loader, accion);\r\n          })\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n  procesarRespuestaAgendar(data, loader, accion){\r\n    var retorno = null;\r\n    if (data && data.Mensaje){\r\n      if (data.Mensaje.Codigo == 'correcto'){\r\n        //todo bien\r\n        //this.utiles.presentToast('Operación realizada con éxito', 'middle', 2000);\r\n        retorno = data;\r\n        //actualizar la pagina\r\n        var annoActual = moment().year();\r\n    \r\n        var mesActual = moment().month() + 1;\r\n        //var mesActual = this.mesActualSeleccionado;\r\n        console.log(mesActual);\r\n        //***************************** */\r\n        this.tratamientoMeses();\r\n        \r\n        if (accion === 'booked'){\r\n          this.utiles.presentToast('Cita reservada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'confirmed'){\r\n          this.utiles.presentToast('Cita confirmada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'cancelled'){\r\n          this.utiles.presentToast('Cita anulada con éxito!!', 'bottom', 3000);\r\n        }\r\n        this.cargarTodosLosEventos();\r\n        //this.cargarEventosMes(mesActual, annoActual);\r\n      }\r\n      else{\r\n        this.utiles.presentToast(data.Mensaje.Detalle.Texto, 'middle', 2000);\r\n      }\r\n    }\r\n    else{\r\n      //error en la operacion\r\n      this.utiles.presentToast('Error en la operación', 'middle', 2000);\r\n    }\r\n    loader.dismiss();\r\n  }\r\n  //abrir pagina de reservar hora\r\n  openReservarHoraPage(){\r\n    this.navCtrl.navigateRoot('pre-tiposatencion');\r\n  }\r\n  revisaEstado(item){\r\n    var retorno = false;\r\n    if (item.DetalleEventoMes){\r\n      if (item.DetalleEventoMes.Estado){\r\n        if (item.DetalleEventoMes.Estado != undefined && item.DetalleEventoMes.Estado != ''){\r\n          retorno = true;\r\n        }\r\n      }\r\n    }\r\n    return retorno;\r\n  }\r\n  transformDate(value, format){\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ColorGenerator {\r\n  \r\n  constructor() {\r\n    console.log('created');\r\n  }\r\n\r\n  COLORS: any[] = ['#e57373', '#f06292', '#ba68c8', '#9575cd', '#7986cb', '#64b5f6',\r\n    '#4fc3f7', '#4dd0e1', '#4db6ac', '#81c784', '#aed581', '#ff8a65', '#d4e157', '#673ab7',\r\n    '#ffb74d', '#a1887f', '#90a4ae'];\r\n\r\n  public getColor(str: string): string {\r\n    return this.COLORS[Math.abs(this.toNumber(str)) % this.COLORS.length];\r\n  }\r\n\r\n  private toNumber(str: string): number {\r\n    let h = 0;\r\n\r\n    for (let i = 0; i < str.length; i++) {\r\n      h = 31 * h + str.charCodeAt(i);\r\n      h |= 0; // Convert to 32bit integer\r\n    }\r\n    \r\n    return h;\r\n  };\r\n}\r\n\r\n","export * from './text-avatar.module';\r\n","import { NgModule } from \"@angular/core\";\r\nimport { TextAvatarDirective } from './text-avatar';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ColorGenerator } from './color-generator';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TextAvatarDirective],\r\n  exports: [TextAvatarDirective],\r\n  providers: [ColorGenerator]\r\n})\r\nexport class TextAvatarModule {}\r\n","export default \".u-text-avatar {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100%;\\n  height: 100%;\\n  max-width: 46px;\\n  max-height: 46px;\\n  border-radius: 500px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9kaXJlY3RpdmVzL3RleHQtYXZhdGFyL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGRpcmVjdGl2ZXNcXHRleHQtYXZhdGFyXFx0ZXh0LWF2YXRhci5zY3NzIiwic3JjL2RpcmVjdGl2ZXMvdGV4dC1hdmF0YXIvdGV4dC1hdmF0YXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBRUEsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9kaXJlY3RpdmVzL3RleHQtYXZhdGFyL3RleHQtYXZhdGFyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudS10ZXh0LWF2YXRhciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIC8vIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgbWF4LXdpZHRoOiA0NnB4O1xyXG4gIG1heC1oZWlnaHQ6IDQ2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAwcHg7XHJcbn0iLCIudS10ZXh0LWF2YXRhciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDQ2cHg7XG4gIG1heC1oZWlnaHQ6IDQ2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwMHB4O1xufSJdfQ== */\";","import { Input, SimpleChanges, Component, ViewChild } from '@angular/core';\r\nimport { ColorGenerator } from \"./color-generator\";\r\n\r\n@Component({\r\n  selector: 'text-avatar',\r\n  template: `\r\n    <div class=\"u-text-avatar\" [ngStyle]=\"styles\">{{ firstLetter }}</div>\r\n  `,\r\n  styleUrls: ['./text-avatar.scss']\r\n})\r\nexport class TextAvatarDirective {\r\n  @Input() text: string;\r\n  @Input() color: string;\r\n  @Input() textColor: string;\r\n  \r\n  public firstLetter = \"\";\r\n  public styles = {\r\n    'background-color': \"#fff\",\r\n    'color': \"#000\"\r\n  };\r\n  \r\n  constructor(private colorGenerator: ColorGenerator) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    let text = changes['text'] ? changes['text'].currentValue : null;\r\n    let color = changes['color'] ? changes['color'].currentValue : null;\r\n    let textColor = changes['textColor'] ? changes['textColor'].currentValue : this.styles.color;\r\n\r\n    this.firstLetter = this.extractFirstCharacter(text);\r\n\r\n    this.styles = {...this.styles, 'background-color': this.backgroundColorHexString(color, text), 'color': textColor}\r\n  }\r\n\r\n  private extractFirstCharacter(text: string): string {\r\n    return text.charAt(0) || '';\r\n  }\r\n\r\n  private backgroundColorHexString(color: string, text: string): string {\r\n    return color || this.colorGenerator.getColor(text);\r\n  }\r\n}"]}