function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function _createClass(o,e,t){return e&&_defineProperties(o.prototype,e),t&&_defineProperties(o,t),o}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"1VCC":function(o,e,t){"use strict";t.d(e,"a",(function(){return r}));var i=t("fXoL"),n=t("TEn/"),r=function(){var o=function(){function o(){_classCallCheck(this,o),this.mostrar=!1}return _createClass(o,[{key:"ngOnInit",value:function(){}}]),o}();return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=i.Kb({type:o,selectors:[["app-progress"]],inputs:{mostrar:"mostrar",titulo:"titulo"},decls:4,vars:2,consts:[[1,"centrado",3,"hidden"],[1,"titulo-item-2"],["type","indeterminate",1,"ion-margin-top"]],template:function(o,e){1&o&&(i.Vb(0,"div",0),i.Vb(1,"ion-label",1),i.zc(2),i.Ub(),i.Rb(3,"ion-progress-bar",2),i.Ub()),2&o&&(i.jc("hidden",!e.mostrar),i.Cb(2),i.Ac(e.titulo))},directives:[n.A,n.G],styles:[".centrado[_ngcontent-%COMP%]{text-align:center;width:100%;height:10%;position:absolute;top:45%;padding-left:60px;padding-right:60px}.titulo-item-2[_ngcontent-%COMP%]{font-size:16px;color:rgba(0,0,0,.87)}"]}),o}()},"5bb6":function(o,e,t){"use strict";t.r(e),t.d(e,"ValidacionFactorPageModule",(function(){return E}));var i=t("ofXK"),n=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),s=t("kmnG"),c=t("d3UM"),u=t("qFsG"),d=t("bTqV"),g=t("NFeN"),l=t("mrSG"),m=t("fXoL"),p=t("ymXj"),b=t("w9zE"),f=t("1VCC"),h=t("70lJ"),C=["codigo1"],v=["codigo2"],j=["codigo3"],I=["codigo4"],M=["codigo5"],R=["codigo6"];function U(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function y(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function V(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function k(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function T(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function w(o,e){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}var O,P,S=((O=function(){function o(e,t,i,n,r,a,s,c,u,d){_classCallCheck(this,o),this.navCtrl=e,this.toast=t,this.modalCtrl=i,this.platform=n,this.menu=r,this.activatedRoute=a,this.router=s,this.utiles=c,this.loading=u,this.servicioGeo=d,this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!1,this.tituloMensaje="",this.contenidoMensaje="",this.irA="inicio"}return _createClass(o,[{key:"ngOnInit",value:function(){0==this.validaPreRegistro()&&(this.utiles.presentToast("No cuentas con registro pendiente","bottom",3e3),this.navCtrl.navigateRoot("inicio")),this.cargarForma()}},{key:"ngAfterViewInit",value:function(){var o=this;setTimeout((function(){o.codigoUnoInput.focus()}),1e3)}},{key:"onKeypressEvent",value:function(o){var e=this;o.currentTarget&&("codigoUno"==o.currentTarget.name&&setTimeout((function(){e.codigoDosInput.focus()}),100),"codigoDos"==o.currentTarget.name&&setTimeout((function(){e.codigoTresInput.focus()}),100),"codigoTres"==o.currentTarget.name&&setTimeout((function(){e.codigoCuatroInput.focus()}),100),"codigoCuatro"==o.currentTarget.name&&setTimeout((function(){e.codigoCincoInput.focus()}),100),"codigoCinco"==o.currentTarget.name&&setTimeout((function(){e.codigoSeisInput.focus()}),100))}},{key:"cargarForma",value:function(){this.forma=new n.e({codigoUno:new n.c("",[n.q.required]),codigoDos:new n.c("",[n.q.required]),codigoTres:new n.c("",[n.q.required]),codigoCuatro:new n.c("",[n.q.required]),codigoCinco:new n.c("",[n.q.required]),codigoSeis:new n.c("",[n.q.required])})}},{key:"validaPreRegistro",value:function(){var o=!1;return localStorage.getItem("PRE-REGISTRO")&&(this.preRegistro=JSON.parse(localStorage.getItem("PRE-REGISTRO")),this.preRegistro.Id>0&&(o=!0)),o}},{key:"onSubmit",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var e,t,i,n=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.forma.invalid){o.next=2;break}return o.abrupt("return");case 2:return e=this.forma.controls.codigoUno.value+this.forma.controls.codigoDos.value+this.forma.controls.codigoTres.value+this.forma.controls.codigoCuatro.value+this.forma.controls.codigoCinco.value+this.forma.controls.codigoSeis.value,t="",this.preRegistro&&this.preRegistro.Id>0&&(t=this.preRegistro.Id),this.estaCargando=!0,this.tituloLoading="Verificando solicitud de registro",o.next=6,this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null});case 6:return i=o.sent,o.next=9,i.present().then((function(){return Object(l.b)(n,void 0,void 0,regeneratorRuntime.mark((function o(){var n=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:this.utiles.isAppOnDevice()?this.servicioGeo.validaCodigoNative(t,e,"confirmar").then((function(o){var e=JSON.parse(o.data);e?0==e.CodigoMensaje?(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.irARegistro()):(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.muestraMensaje=!0,n.tituloMensaje="Mensaje",n.contenidoMensaje=e.TextoMensaje):(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.muestraMensaje=!0,n.tituloMensaje="Error de comunicaci\xf3n",n.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")})).catch((function(o){console.log(o),i.dismiss(),n.estaCargando=!1,n.tituloLoading=""})):this.servicioGeo.validaCodigo(t,e,"confirmar").subscribe((function(o){var e=o;e?0==e.CodigoMensaje?(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.irARegistro()):(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.muestraMensaje=!0,n.tituloMensaje="Mensaje",n.contenidoMensaje=e.TextoMensaje):(i.dismiss(),n.estaCargando=!1,n.tituloLoading="",n.muestraMensaje=!0,n.tituloMensaje="Error de comunicaci\xf3n",n.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")}),(function(o){console.log(o),i.dismiss(),n.estaCargando=!1,n.tituloLoading=""}));case 1:case"end":return o.stop()}}),o,this)})))}));case 9:case"end":return o.stop()}}),o,this)})))}},{key:"cancelarRegistro",value:function(){return Object(l.b)(this,void 0,void 0,regeneratorRuntime.mark((function o(){var e,t,i=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e="",this.preRegistro&&this.preRegistro.Id>0&&(e=this.preRegistro.Id),this.estaCargando=!0,this.tituloLoading="Verificando solicitud de registro",o.next=4,this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null});case 4:return t=o.sent,o.next=7,t.present().then((function(){return Object(l.b)(i,void 0,void 0,regeneratorRuntime.mark((function o(){var i=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:this.utiles.isAppOnDevice()?this.servicioGeo.validaCodigoNative(e,"123456","cancelar").then((function(o){var e=JSON.parse(o.data);e?0==e.CodigoMensaje?(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",localStorage.removeItem("PRE-REGISTRO"),i.utiles.presentToast("Tu solicitud registro ha sido cancelado con \xe9xito","bottom",3e3),i.navCtrl.navigateRoot("inicio")):(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",i.muestraMensaje=!0,i.tituloMensaje="Mensaje",i.contenidoMensaje=e.TextoMensaje):(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",i.muestraMensaje=!0,i.tituloMensaje="Error de comunicaci\xf3n",i.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")})).catch((function(o){console.log(o),t.dismiss(),i.estaCargando=!1,i.tituloLoading=""})):this.servicioGeo.validaCodigo(e,"123456","cancelar").subscribe((function(o){var e=o;e?0==e.CodigoMensaje?(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",localStorage.removeItem("PRE-REGISTRO"),i.utiles.presentToast("Tu solicitud registro ha sido cancelado con \xe9xito","bottom",3e3),i.navCtrl.navigateRoot("inicio")):(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",i.muestraMensaje=!0,i.tituloMensaje="Mensaje",i.contenidoMensaje=e.TextoMensaje):(t.dismiss(),i.estaCargando=!1,i.tituloLoading="",i.muestraMensaje=!0,i.tituloMensaje="Error de comunicaci\xf3n",i.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")}),(function(o){console.log(o),t.dismiss(),i.estaCargando=!1,i.tituloLoading=""}));case 1:case"end":return o.stop()}}),o,this)})))}));case 7:case"end":return o.stop()}}),o,this)})))}},{key:"irARegistro",value:function(){var o={Activo:1,Apellidos:"",Apodo:"",Avatar:"",Comuna:localStorage.getItem("comuna"),CorreoElectronico:"",Eliminado:0,FechaBaja:"0001-01-01T00:00:00",FechaNacimiento:"0001-01-01T00:00:00",FechaRegistro:"0001-01-01T00:00:00",Id:0,IdDispositivo:localStorage.getItem("token_dispositivo"),Latitud:sessionStorage.getItem("latitud"),Longitud:sessionStorage.getItem("longitud"),ModoRegistro:2,NombreUsuario:"",Nombres:"",Pais:localStorage.getItem("pais"),Password:"",Plataforma:localStorage.getItem("plataforma"),Provincia:localStorage.getItem("provincia"),Run:"",TelefonoContacto:""};this.preRegistro&&this.preRegistro.Id>0&&(o.CorreoElectronico=this.preRegistro.Correo,o.Run=this.preRegistro.Run);var e={usuario:JSON.stringify(o),estaAgregandoFamilia:null};this.navCtrl.navigateRoot(["registro-usuario"],{queryParams:e})}},{key:"f",get:function(){return this.forma.controls}}]),o}()).\u0275fac=function(o){return new(o||O)(m.Qb(r.Z),m.Qb(r.gb),m.Qb(r.Y),m.Qb(r.bb),m.Qb(r.X),m.Qb(a.a),m.Qb(a.g),m.Qb(p.a),m.Qb(r.W),m.Qb(b.a))},O.\u0275cmp=m.Kb({type:O,selectors:[["app-validacion-factor"]],viewQuery:function(o,e){var t;1&o&&(m.vc(C,!0),m.vc(v,!0),m.vc(j,!0),m.vc(I,!0),m.vc(M,!0),m.vc(R,!0)),2&o&&(m.pc(t=m.ec())&&(e.codigoUnoInput=t.first),m.pc(t=m.ec())&&(e.codigoDosInput=t.first),m.pc(t=m.ec())&&(e.codigoTresInput=t.first),m.pc(t=m.ec())&&(e.codigoCuatroInput=t.first),m.pc(t=m.ec())&&(e.codigoCincoInput=t.first),m.pc(t=m.ec())&&(e.codigoSeisInput=t.first))},decls:53,vars:15,consts:[[1,"back-app"],["color","primary","mode","md"],["slot","start"],["defaultHref","/inicio",1,"fcw"],[1,"fcw"],[3,"hidden"],[1,"mt-16","ion-padding"],["novalidate","",3,"formGroup"],["size","2"],["appearance","outline",2,"width","100%","font-size","2em"],["matInput","","placeholder","0","formControlName","codigoUno","name","codigoUno","required","",3,"keypress"],["codigo1","matInput"],[4,"ngIf"],["matInput","","placeholder","0","formControlName","codigoDos","name","codigoDos","required","",3,"keypress"],["codigo2","matInput"],["matInput","","placeholder","0","formControlName","codigoTres","name","codigoTres","required","",3,"keypress"],["codigo3","matInput"],["matInput","","placeholder","0","formControlName","codigoCuatro","name","codigoCuatro","required","",3,"keypress"],["codigo4","matInput"],["matInput","","placeholder","0","formControlName","codigoCinco","name","codigoCinco","required","",3,"keypress"],["codigo5","matInput"],["matInput","","placeholder","0","formControlName","codigoSeis","name","codigoSeis","required",""],["codigo6","matInput"],[1,"mt-32"],["size","6"],["mat-stroked-button","","color","primary",2,"width","100%",3,"click"],["mat-flat-button","","color","primary",2,"width","98%","margin-left","2%",3,"disabled","click"],[3,"mostrar","titulo"],[3,"titulo","contenido","irA"]],template:function(o,e){1&o&&(m.Vb(0,"ion-header",0),m.Vb(1,"ion-toolbar",1),m.Vb(2,"ion-buttons",2),m.Rb(3,"ion-back-button",3),m.Ub(),m.Vb(4,"ion-title",4),m.zc(5,"Validaci\xf3n de registro"),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"ion-content"),m.Vb(7,"div",5),m.Vb(8,"p",6),m.zc(9,"Ingresa tu c\xf3digo de seguridad enviado a tu correo electr\xf3nico para continuar con tu registro."),m.Ub(),m.Vb(10,"form",7),m.Vb(11,"ion-grid"),m.Vb(12,"ion-row"),m.Vb(13,"ion-col",8),m.Vb(14,"mat-form-field",9),m.Vb(15,"input",10,11),m.dc("keypress",(function(o){return e.onKeypressEvent(o)})),m.Ub(),m.yc(17,U,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(18,"ion-col",8),m.Vb(19,"mat-form-field",9),m.Vb(20,"input",13,14),m.dc("keypress",(function(o){return e.onKeypressEvent(o)})),m.Ub(),m.yc(22,y,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(23,"ion-col",8),m.Vb(24,"mat-form-field",9),m.Vb(25,"input",15,16),m.dc("keypress",(function(o){return e.onKeypressEvent(o)})),m.Ub(),m.yc(27,V,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(28,"ion-col",8),m.Vb(29,"mat-form-field",9),m.Vb(30,"input",17,18),m.dc("keypress",(function(o){return e.onKeypressEvent(o)})),m.Ub(),m.yc(32,k,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(33,"ion-col",8),m.Vb(34,"mat-form-field",9),m.Vb(35,"input",19,20),m.dc("keypress",(function(o){return e.onKeypressEvent(o)})),m.Ub(),m.yc(37,T,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(38,"ion-col",8),m.Vb(39,"mat-form-field",9),m.Rb(40,"input",21,22),m.yc(42,w,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Ub(),m.Vb(43,"ion-row",23),m.Vb(44,"ion-col",24),m.Vb(45,"button",25),m.dc("click",(function(){return e.cancelarRegistro()})),m.zc(46,"CANCELAR MI REGISTRO"),m.Ub(),m.Ub(),m.Vb(47,"ion-col",24),m.Vb(48,"button",26),m.dc("click",(function(){return e.onSubmit()})),m.zc(49,"CONTINUAR"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Rb(50,"app-progress",27),m.Vb(51,"div",5),m.Rb(52,"app-pagina-mensajes",28),m.Ub(),m.Ub()),2&o&&(m.Cb(7),m.jc("hidden",e.estaCargando||e.muestraMensaje),m.Cb(3),m.jc("formGroup",e.forma),m.Cb(7),m.jc("ngIf",e.f.codigoUno.errors&&e.f.codigoUno.errors.required),m.Cb(5),m.jc("ngIf",e.f.codigoDos.errors&&e.f.codigoDos.errors.required),m.Cb(5),m.jc("ngIf",e.f.codigoTres.errors&&e.f.codigoTres.errors.required),m.Cb(5),m.jc("ngIf",e.f.codigoCuatro.errors&&e.f.codigoCuatro.errors.required),m.Cb(5),m.jc("ngIf",e.f.codigoCinco.errors&&e.f.codigoCinco.errors.required),m.Cb(5),m.jc("ngIf",e.f.codigoSeis.errors&&e.f.codigoSeis.errors.required),m.Cb(6),m.jc("disabled",e.forma.invalid),m.Cb(2),m.jc("mostrar",e.estaCargando)("titulo",e.tituloLoading),m.Cb(1),m.jc("hidden",!e.muestraMensaje),m.Cb(1),m.jc("titulo",e.tituloMensaje)("contenido",e.contenidoMensaje)("irA",e.irA))},directives:[r.u,r.T,r.i,r.e,r.f,r.R,r.p,n.r,n.l,n.f,r.t,r.K,r.o,s.c,u.b,n.a,n.k,n.d,n.p,i.k,d.b,f.a,h.a,s.b],styles:[".mt-24[_ngcontent-%COMP%]{margin-top:24px}.mt-16[_ngcontent-%COMP%]{margin-top:16px}.mt-40[_ngcontent-%COMP%]{margin-top:40px;font:normal normal normal 24px Roboto;letter-spacing:0;color:rgba(0,0,0,.87)}.mt-32[_ngcontent-%COMP%]{margin-top:32px}.mt-62[_ngcontent-%COMP%]{margin-top:62px}p[_ngcontent-%COMP%]{font:normal normal normal 16px Roboto;letter-spacing:0;color:rgba(0,0,0,.54)}ion-slides[_ngcontent-%COMP%]{height:100%}.ml-48[_ngcontent-%COMP%]{margin-left:48px}.mr-48[_ngcontent-%COMP%]{margin-right:48px}.img-slide-1[_ngcontent-%COMP%]{width:60%}.boton[_ngcontent-%COMP%]{width:55%}.font-title[_ngcontent-%COMP%]{font-size:1em}"]}),O),x=t("07l/"),q=t("j1ZV"),E=((P=function o(){_classCallCheck(this,o)}).\u0275mod=m.Ob({type:P}),P.\u0275inj=m.Nb({factory:function(o){return new(o||P)},imports:[[i.c,n.g,n.o,s.e,c.b,u.c,d.c,g.b,r.U,x.a,q.a,a.j.forChild([{path:"",component:S}])]]}),P)}}]);