{"version":3,"sources":["webpack:///src/app/login-clave-unica/login-clave-unica.page.html","webpack:///src/app/login-clave-unica/login-clave-unica.module.ts","webpack:///src/app/login-clave-unica/login-clave-unica.page.scss","webpack:///src/app/login-clave-unica/login-clave-unica.page.ts"],"names":["LoginClaveUnicaPageModule","imports","forChild","path","component","declarations","LoginClaveUnicaPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","claveUnica","alertController","sanitizer","urlClaveUnica","queryParams","subscribe","params","state","stateClaveUnica","obtenerDatosConfiguracion","produccion","production","create","message","duration","loader","present","then","isAppOnDevice","postConfiguracionClaveUnica","data","configClaveUnica","console","log","construyeUrl","dismiss","postConfiguracionClaveUnicaNative","response","JSON","parse","Id","url","Url","ClientId","RedirectUri","encodeURI","localStorage","removeItem","navigateRoot","selector","template"],"mappings":"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","file":"login-clave-unica-login-clave-unica-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\">\\n    <ion-row class=\\\"mt-24\\\">\\n      <button mat-icon-button aria-label=\\\"Example icon-button with a heart icon\\\" (click)=\\\"volver()\\\">\\n        <mat-icon>arrow_back_ios</mat-icon>\\n      </button>\\n    </ion-row>\\n    <ion-row class=\\\"mt-24\\\">\\n      <h2>Autenticación con clave única</h2>\\n    </ion-row>\\n    <ion-row class=\\\"texto-1 mt-24\\\">\\n      <p>\\n        Para acceder a tu información de salud, debemos confirmar tu identidad, esto lo puedes hacer muy fácil ingresando tu clave única.\\n      </p>\\n    </ion-row>\\n    <div class=\\\"mt-52\\\">\\n      <div class=\\\"my-5\\\">\\n        <!-- Código para visualizar botón oficial iniciar sesión con ClaveÚnica-->\\n        <a class=\\\"btn-cu btn-l btn-fw btn-color-estandar\\\" [attr.href]=\\\"urlClaveUnica\\\" title=\\\"Este es el botón Iniciar sesión de ClaveÚnica\\\">\\n          <span class=\\\"cl-claveunica\\\"></span>\\n          <span class=\\\"texto\\\">Iniciar sesión</span>\\n        </a>\\n        <!--./ fin botón-->\\n      </div>\\n    </div>\\n    <ion-row class=\\\"mt-62 texto-2\\\">\\n      <p>Al registrarte con clave única, aceptas nuestras Condiciones, la Política de datos y la Política de cookies.</p>\\n    </ion-row>\\n  </ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\n\nimport { LoginClaveUnicaPage } from './login-clave-unica.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: LoginClaveUnicaPage\n      }\n    ])\n  ],\n  declarations: [LoginClaveUnicaPage]\n})\nexport class LoginClaveUnicaPageModule {}\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n\\tBTN Clave Única.\\n\\tEstilos gráficos para el botón de clave única.\\n\\tV 1.1.0\\n\\tpor @pyanez\\n\\t24/11/2020\\n*/\\n/* Boton estilo de base */\\n.btn-cu {\\n  /*display: inline-block;*/\\n  display: flex;\\n  justify-content: center;\\n  font-family: Roboto, sans-serif;\\n  font-weight: 400;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  border-radius: 0;\\n}\\n/*Icono ClaveÚnica*/\\n.btn-cu .cl-claveunica {\\n  display: inline;\\n  float: left;\\n  text-indent: -9999px;\\n}\\n/*Texto ClaveÚnica*/\\n.btn-cu .texto {\\n  padding-left: 3px;\\n  text-decoration: underline;\\n}\\n/* Tamaño S */\\n.btn-cu.btn-s {\\n  width: 130px;\\n  min-width: 130px;\\n  height: 36px;\\n  padding: 8px 10px !important;\\n  font-size: 14px;\\n}\\n.btn-cu.btn-s .cl-claveunica {\\n  width: 20px;\\n  height: 20px;\\n  background-size: 20px 20px;\\n}\\n/* Tamaño M */\\n.btn-cu.btn-m {\\n  width: 160px;\\n  min-width: 160px;\\n  height: 42px;\\n  padding: 8px 18px 8px 15px !important;\\n  font-size: 16px;\\n  line-height: 1.6em;\\n}\\n.btn-cu.btn-m .cl-claveunica {\\n  display: inline-block;\\n  width: 24px;\\n  height: 24px;\\n  background-size: 24px 24px;\\n}\\n/* Tamaño L */\\n.btn-cu.btn-l {\\n  width: 180px;\\n  min-width: 180px;\\n  height: 48px;\\n  padding: 11px 18px !important;\\n  font-size: 18px;\\n}\\n.btn-cu.btn-l .cl-claveunica {\\n  width: 26px;\\n  height: 26px;\\n  background-size: 26px 26px;\\n}\\n/* Tamaño fluid-width */\\n.btn-cu.btn-fw {\\n  max-width: 550px;\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n}\\n/* Color Estandar */\\n.btn-cu.btn-color-estandar {\\n  background-color: #0F69C4;\\n  color: #FFF;\\n}\\n.btn-cu.btn-color-estandar .cl-claveunica {\\n  background: url('cu-blanco.svg');\\n  /* Esta URL debe ser modificada segun donde \\n      quede alojado el documento */\\n}\\n.btn-cu.btn-color-estandar:hover {\\n  background-color: #0C549C;\\n  color: #FFF;\\n}\\n.btn-cu.btn-color-estandar:active {\\n  background-color: #093F75;\\n  color: #FFF;\\n}\\n.btn-cu.btn-color-estandar:focus {\\n  background-color: #0C549C;\\n  color: #FFF;\\n  outline: 1px dashed #000;\\n}\\n.mt-32 {\\n  margin-top: 32px;\\n}\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n.mt-52 {\\n  margin-top: 3.25em;\\n}\\n.mt-62 {\\n  margin-top: 4em;\\n}\\n.texto-1 {\\n  font-size: 1.3em;\\n  color: #000000DE;\\n}\\n.texto-2 {\\n  font-size: 1.1em;\\n  color: #575657;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4tY2xhdmUtdW5pY2EvbG9naW4tY2xhdmUtdW5pY2EucGFnZS5zY3NzIiwic3JjL2FwcC9sb2dpbi1jbGF2ZS11bmljYS9DOlxcRGlzY28gRlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXGxvZ2luLWNsYXZlLXVuaWNhXFxsb2dpbi1jbGF2ZS11bmljYS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCOzs7Ozs7Q0FBQTtBQVNBLHlCQUFBO0FBQ0E7RUFDQyx5QkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLCtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0VBQ0EseUJBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBREFEO0FDR0EsbUJBQUE7QUFDQTtFQUNDLGVBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7QURBRDtBQ0VBLG1CQUFBO0FBQ0E7RUFDQyxpQkFBQTtFQUNBLDBCQUFBO0FEQ0Q7QUNFQSxhQUFBO0FBQ0E7RUFDQyxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsNEJBQUE7RUFDQSxlQUFBO0FEQ0Q7QUNFQTtFQUNDLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7QURDRDtBQ0VBLGFBQUE7QUFDQTtFQUNDLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxxQ0FBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBRENEO0FDRUE7RUFDQyxxQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsMEJBQUE7QURDRDtBQ0VBLGFBQUE7QUFDQTtFQUNDLFlBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLGVBQUE7QURDRDtBQ0VBO0VBQ0MsV0FBQTtFQUNBLFlBQUE7RUFDQSwwQkFBQTtBRENEO0FDRUEsdUJBQUE7QUFDQTtFQUNDLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtBRENEO0FDQ0EsbUJBQUE7QUFDQTtFQUNDLHlCQUFBO0VBQ0EsV0FBQTtBREVEO0FDQUE7RUFDQyxnQ0FBQTtFQUNBO2tDQUFBO0FESUQ7QUNEQTtFQUNDLHlCQUFBO0VBQ0EsV0FBQTtBRElEO0FDREE7RUFDQyx5QkFBQTtFQUNBLFdBQUE7QURJRDtBQ0RBO0VBQ0MseUJBQUE7RUFDQSxXQUFBO0VBQ0Esd0JBQUE7QURJRDtBQ0ZBO0VBQ0ksZ0JBQUE7QURLSjtBQ0hBO0VBQ0ksZ0JBQUE7QURNSjtBQ0pBO0VBQ0ksZUFBQTtBRE9KO0FDTEE7RUFDSSxpQkFBQTtBRFFKO0FDTkE7RUFDSSxrQkFBQTtBRFNKO0FDUEE7RUFDSSxrQkFBQTtBRFVKO0FDUkE7RUFDSSxlQUFBO0FEV0o7QUNUQTtFQUNJLGdCQUFBO0VBQ0EsZ0JBQUE7QURZSjtBQ1RBO0VBQ0ksZ0JBQUE7RUFDQSxjQUFBO0FEWUoiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi1jbGF2ZS11bmljYS9sb2dpbi1jbGF2ZS11bmljYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4vKlxuXHRCVE4gQ2xhdmUgw5puaWNhLlxuXHRFc3RpbG9zIGdyw6FmaWNvcyBwYXJhIGVsIGJvdMOzbiBkZSBjbGF2ZSDDum5pY2EuXG5cdFYgMS4xLjBcblx0cG9yIEBweWFuZXpcblx0MjQvMTEvMjAyMFxuKi9cbi8qIEJvdG9uIGVzdGlsbyBkZSBiYXNlICovXG4uYnRuLWN1IHtcbiAgLypkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ki9cbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgYm9yZGVyLXJhZGl1czogMDtcbn1cblxuLypJY29ubyBDbGF2ZcOabmljYSovXG4uYnRuLWN1IC5jbC1jbGF2ZXVuaWNhIHtcbiAgZGlzcGxheTogaW5saW5lO1xuICBmbG9hdDogbGVmdDtcbiAgdGV4dC1pbmRlbnQ6IC05OTk5cHg7XG59XG5cbi8qVGV4dG8gQ2xhdmXDmm5pY2EqL1xuLmJ0bi1jdSAudGV4dG8ge1xuICBwYWRkaW5nLWxlZnQ6IDNweDtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi8qIFRhbWHDsW8gUyAqL1xuLmJ0bi1jdS5idG4tcyB7XG4gIHdpZHRoOiAxMzBweDtcbiAgbWluLXdpZHRoOiAxMzBweDtcbiAgaGVpZ2h0OiAzNnB4O1xuICBwYWRkaW5nOiA4cHggMTBweCAhaW1wb3J0YW50O1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5idG4tY3UuYnRuLXMgLmNsLWNsYXZldW5pY2Ege1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcbn1cblxuLyogVGFtYcOxbyBNICovXG4uYnRuLWN1LmJ0bi1tIHtcbiAgd2lkdGg6IDE2MHB4O1xuICBtaW4td2lkdGg6IDE2MHB4O1xuICBoZWlnaHQ6IDQycHg7XG4gIHBhZGRpbmc6IDhweCAxOHB4IDhweCAxNXB4ICFpbXBvcnRhbnQ7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDEuNmVtO1xufVxuXG4uYnRuLWN1LmJ0bi1tIC5jbC1jbGF2ZXVuaWNhIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMjRweDtcbiAgaGVpZ2h0OiAyNHB4O1xuICBiYWNrZ3JvdW5kLXNpemU6IDI0cHggMjRweDtcbn1cblxuLyogVGFtYcOxbyBMICovXG4uYnRuLWN1LmJ0bi1sIHtcbiAgd2lkdGg6IDE4MHB4O1xuICBtaW4td2lkdGg6IDE4MHB4O1xuICBoZWlnaHQ6IDQ4cHg7XG4gIHBhZGRpbmc6IDExcHggMThweCAhaW1wb3J0YW50O1xuICBmb250LXNpemU6IDE4cHg7XG59XG5cbi5idG4tY3UuYnRuLWwgLmNsLWNsYXZldW5pY2Ege1xuICB3aWR0aDogMjZweDtcbiAgaGVpZ2h0OiAyNnB4O1xuICBiYWNrZ3JvdW5kLXNpemU6IDI2cHggMjZweDtcbn1cblxuLyogVGFtYcOxbyBmbHVpZC13aWR0aCAqL1xuLmJ0bi1jdS5idG4tZncge1xuICBtYXgtd2lkdGg6IDU1MHB4O1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi8qIENvbG9yIEVzdGFuZGFyICovXG4uYnRuLWN1LmJ0bi1jb2xvci1lc3RhbmRhciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjY5QzQ7XG4gIGNvbG9yOiAjRkZGO1xufVxuXG4uYnRuLWN1LmJ0bi1jb2xvci1lc3RhbmRhciAuY2wtY2xhdmV1bmljYSB7XG4gIGJhY2tncm91bmQ6IHVybChcIi4uLy4uL2Fzc2V0cy9pY29uL2N1LWJsYW5jby5zdmdcIik7XG4gIC8qIEVzdGEgVVJMIGRlYmUgc2VyIG1vZGlmaWNhZGEgc2VndW4gZG9uZGUgXG4gICAgICBxdWVkZSBhbG9qYWRvIGVsIGRvY3VtZW50byAqL1xufVxuXG4uYnRuLWN1LmJ0bi1jb2xvci1lc3RhbmRhcjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwQzU0OUM7XG4gIGNvbG9yOiAjRkZGO1xufVxuXG4uYnRuLWN1LmJ0bi1jb2xvci1lc3RhbmRhcjphY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDkzRjc1O1xuICBjb2xvcjogI0ZGRjtcbn1cblxuLmJ0bi1jdS5idG4tY29sb3ItZXN0YW5kYXI6Zm9jdXMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMEM1NDlDO1xuICBjb2xvcjogI0ZGRjtcbiAgb3V0bGluZTogMXB4IGRhc2hlZCAjMDAwO1xufVxuXG4ubXQtMzIge1xuICBtYXJnaW4tdG9wOiAzMnB4O1xufVxuXG4ubXQtMjQge1xuICBtYXJnaW4tdG9wOiAyNHB4O1xufVxuXG4ubXQtODAge1xuICBtYXJnaW4tdG9wOiA1ZW07XG59XG5cbi5tdC00MCB7XG4gIG1hcmdpbi10b3A6IDIuNWVtO1xufVxuXG4ubXQtMzYge1xuICBtYXJnaW4tdG9wOiAyLjI1ZW07XG59XG5cbi5tdC01MiB7XG4gIG1hcmdpbi10b3A6IDMuMjVlbTtcbn1cblxuLm10LTYyIHtcbiAgbWFyZ2luLXRvcDogNGVtO1xufVxuXG4udGV4dG8tMSB7XG4gIGZvbnQtc2l6ZTogMS4zZW07XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59XG5cbi50ZXh0by0yIHtcbiAgZm9udC1zaXplOiAxLjFlbTtcbiAgY29sb3I6ICM1NzU2NTc7XG59IiwiLypcclxuXHRCVE4gQ2xhdmUgw5puaWNhLlxyXG5cdEVzdGlsb3MgZ3LDoWZpY29zIHBhcmEgZWwgYm90w7NuIGRlIGNsYXZlIMO6bmljYS5cclxuXHRWIDEuMS4wXHJcblx0cG9yIEBweWFuZXpcclxuXHQyNC8xMS8yMDIwXHJcbiovXHJcblxyXG5cclxuLyogQm90b24gZXN0aWxvIGRlIGJhc2UgKi9cclxuLmJ0bi1jdSB7XHJcblx0LypkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ki9cclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG5cdGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XHJcblx0Zm9udC13ZWlnaHQ6IDQwMDtcclxuXHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuXHQtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xyXG5cdC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XHJcblx0LW1zLXVzZXItc2VsZWN0OiBub25lO1xyXG5cdHVzZXItc2VsZWN0OiBub25lO1xyXG5cdGJvcmRlci1yYWRpdXM6IDA7XHJcbn1cclxuXHJcbi8qSWNvbm8gQ2xhdmXDmm5pY2EqL1xyXG4uYnRuLWN1IC5jbC1jbGF2ZXVuaWNhIHtcclxuXHRkaXNwbGF5OiBpbmxpbmU7XHJcblx0ZmxvYXQ6IGxlZnQ7XHJcblx0dGV4dC1pbmRlbnQ6IC05OTk5cHg7XHJcbn1cclxuLypUZXh0byBDbGF2ZcOabmljYSovXHJcbi5idG4tY3UgLnRleHRvIHtcclxuXHRwYWRkaW5nLWxlZnQ6IDNweDtcclxuXHR0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuLyogVGFtYcOxbyBTICovXHJcbi5idG4tY3UuYnRuLXMge1xyXG5cdHdpZHRoOiAxMzBweDtcclxuXHRtaW4td2lkdGg6IDEzMHB4O1xyXG5cdGhlaWdodDogMzZweDtcclxuXHRwYWRkaW5nOiA4cHggMTBweCAhaW1wb3J0YW50O1xyXG5cdGZvbnQtc2l6ZTogMTRweDtcclxufVxyXG5cclxuLmJ0bi1jdS5idG4tcyAuY2wtY2xhdmV1bmljYSB7XHJcblx0d2lkdGg6IDIwcHg7XHJcblx0aGVpZ2h0OiAyMHB4O1xyXG5cdGJhY2tncm91bmQtc2l6ZTogMjBweCAyMHB4O1xyXG59XHJcblxyXG4vKiBUYW1hw7FvIE0gKi9cclxuLmJ0bi1jdS5idG4tbSB7XHJcblx0d2lkdGg6IDE2MHB4O1xyXG5cdG1pbi13aWR0aDogMTYwcHg7XHJcblx0aGVpZ2h0OiA0MnB4O1xyXG5cdHBhZGRpbmc6IDhweCAxOHB4IDhweCAxNXB4ICFpbXBvcnRhbnQ7XHJcblx0Zm9udC1zaXplOiAxNnB4O1xyXG5cdGxpbmUtaGVpZ2h0OiAxLjZlbTtcclxufVxyXG5cclxuLmJ0bi1jdS5idG4tbSAuY2wtY2xhdmV1bmljYSB7XHJcblx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG5cdHdpZHRoOiAyNHB4O1xyXG5cdGhlaWdodDogMjRweDtcclxuXHRiYWNrZ3JvdW5kLXNpemU6IDI0cHggMjRweDtcclxufVxyXG5cclxuLyogVGFtYcOxbyBMICovXHJcbi5idG4tY3UuYnRuLWwge1xyXG5cdHdpZHRoOiAxODBweDtcclxuXHRtaW4td2lkdGg6IDE4MHB4O1xyXG5cdGhlaWdodDogNDhweDtcclxuXHRwYWRkaW5nOiAxMXB4IDE4cHggIWltcG9ydGFudDtcclxuXHRmb250LXNpemU6IDE4cHg7XHJcbn1cclxuXHJcbi5idG4tY3UuYnRuLWwgLmNsLWNsYXZldW5pY2Ege1xyXG5cdHdpZHRoOiAyNnB4O1xyXG5cdGhlaWdodDogMjZweDtcclxuXHRiYWNrZ3JvdW5kLXNpemU6IDI2cHggMjZweDtcclxufVxyXG5cclxuLyogVGFtYcOxbyBmbHVpZC13aWR0aCAqL1xyXG4uYnRuLWN1LmJ0bi1mdyB7XHJcblx0bWF4LXdpZHRoOiA1NTBweDtcclxuXHR3aWR0aDogMTAwJTtcclxuXHRkaXNwbGF5OiBmbGV4O1xyXG5cdGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcbi8qIENvbG9yIEVzdGFuZGFyICovXHJcbi5idG4tY3UuYnRuLWNvbG9yLWVzdGFuZGFyIHtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMEY2OUM0O1xyXG5cdGNvbG9yOiAjRkZGO1xyXG59XHJcbi5idG4tY3UuYnRuLWNvbG9yLWVzdGFuZGFyIC5jbC1jbGF2ZXVuaWNhIHtcclxuXHRiYWNrZ3JvdW5kOiB1cmwoXCIuLi8uLi9hc3NldHMvaWNvbi9jdS1ibGFuY28uc3ZnXCIpO1xyXG5cdC8qIEVzdGEgVVJMIGRlYmUgc2VyIG1vZGlmaWNhZGEgc2VndW4gZG9uZGUgXHJcblx0ICAgIHF1ZWRlIGFsb2phZG8gZWwgZG9jdW1lbnRvICovXHJcbn1cclxuLmJ0bi1jdS5idG4tY29sb3ItZXN0YW5kYXI6aG92ZXIge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMwQzU0OUM7XHJcblx0Y29sb3I6ICNGRkY7XHJcbn1cclxuXHJcbi5idG4tY3UuYnRuLWNvbG9yLWVzdGFuZGFyOmFjdGl2ZSB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzA5M0Y3NTtcclxuXHRjb2xvcjogI0ZGRjtcclxufVxyXG5cclxuLmJ0bi1jdS5idG4tY29sb3ItZXN0YW5kYXI6Zm9jdXMge1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMwQzU0OUM7XHJcblx0Y29sb3I6ICNGRkY7XHJcblx0b3V0bGluZTogMXB4IGRhc2hlZCAjMDAwO1xyXG59XHJcbi5tdC0zMntcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcbn1cclxuLm10LTI0e1xyXG4gICAgbWFyZ2luLXRvcDogMjRweDtcclxufVxyXG4ubXQtODB7XHJcbiAgICBtYXJnaW4tdG9wOiA1ZW07XHJcbn1cclxuLm10LTQwe1xyXG4gICAgbWFyZ2luLXRvcDogMi41ZW07XHJcbn1cclxuLm10LTM2e1xyXG4gICAgbWFyZ2luLXRvcDogMi4yNWVtO1xyXG59XHJcbi5tdC01MntcclxuICAgIG1hcmdpbi10b3A6IDMuMjVlbTtcclxufVxyXG4ubXQtNjJ7XHJcbiAgICBtYXJnaW4tdG9wOiA0ZW07XHJcbn1cclxuLnRleHRvLTF7XHJcbiAgICBmb250LXNpemU6IDEuM2VtO1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxuICAgIFxyXG59XHJcbi50ZXh0by0ye1xyXG4gICAgZm9udC1zaXplOiAxLjFlbTtcclxuICAgIGNvbG9yOiAjNTc1NjU3O1xyXG4gICAgXHJcbn0iXX0= */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem, AlertController } from '@ionic/angular';\nimport { DomSanitizer } from '@angular/platform-browser';\n//parametros\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioClaveUnica } from '../../app/services/ServicioClaveUnica';\n//environment\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-login-clave-unica',\n  templateUrl: './login-clave-unica.page.html',\n  styleUrls: ['./login-clave-unica.page.scss'],\n})\nexport class LoginClaveUnicaPage implements OnInit {\n\n  htmlClaveUnica: any;\n  stateClaveUnica: any;\n  configClaveUnica: any;\n  urlClaveUnica = '';\n  \n  constructor(\n    public navCtrl: NavController,\n    public toast: ToastController,     \n    public modalCtrl: ModalController,\n    public platform: Platform,\n    public menu:MenuController,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n    public utiles: ServicioUtiles,\n    public loading: LoadingController,\n    public claveUnica: ServicioClaveUnica,\n    private alertController: AlertController,\n    private sanitizer: DomSanitizer,\n  ) { }\n\n  ngOnInit() {\n    this.activatedRoute.queryParams.subscribe(params => {\n      if (params && params.state) {\n        //store the temp in data        \n        this.stateClaveUnica = params.state;\n        //ahora hacemos la llamada para obtener la configuración de clave unica\n        this.obtenerDatosConfiguracion();\n      }\n    });\n  }\n  async obtenerDatosConfiguracion(){\n    let produccion = '0';\n    if (environment.production){\n      produccion = '1';\n    }\n\n    let loader = await this.loading.create({\n      message: 'Buscando...<br>configuración',\n      duration: 3000\n    });\n\n    await loader.present().then(async () => {\n        if (!this.utiles.isAppOnDevice()) {\n          //llamada web\n          this.claveUnica.postConfiguracionClaveUnica(produccion).subscribe((data:any)=>{\n            this.configClaveUnica = data;\n            console.log(this.configClaveUnica);\n            this.construyeUrl();\n            loader.dismiss();\n          });\n        }\n        else{\n          //llamada nativa\n          this.claveUnica.postConfiguracionClaveUnicaNative(produccion).then((response:any)=>{\n            this.configClaveUnica = JSON.parse(response.data);\n            console.log(this.configClaveUnica);\n            this.construyeUrl();\n            loader.dismiss();\n          })\n        }\n    });\n  }\n  construyeUrl(){\n    if (this.configClaveUnica && this.configClaveUnica.Id > 0){\n      //\"https://accounts.claveunica.gob.cl/openid/authorize/?client_id=08e31dfd6f4d475d9947b70f59755dc8&response_type=code&scope=openid run name&redirect_uri=https%3a%2f%2fapp.mifamilia.com%2fApi%2fClaveUnica&state=68dmfgOr0tSGASttTn1aMml8xLzeL983\"\n      let url = this.configClaveUnica.Url+'authorize/?client_id=' + this.configClaveUnica.ClientId + \n            '&response_type=code&scope=openid run name&redirect_uri=' + this.configClaveUnica.RedirectUri +\n            '&state=' + this.stateClaveUnica;\n      this.urlClaveUnica = encodeURI(url);\n/*       console.log(this.urlClaveUnica);\n      console.log(encodeURI(this.urlClaveUnica)); */\n    }\n  }\n  volver(){\n    localStorage.removeItem('STATE_CLAVE_UNICA');\n    this.navCtrl.navigateRoot('pre-registro-uno');\n  }\n\n}"]}