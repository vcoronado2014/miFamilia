(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"1VCC":function(o,t,i){"use strict";i.d(t,"a",(function(){return n}));var e=i("fXoL"),r=i("TEn/");let n=(()=>{class o{constructor(){this.mostrar=!1}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Kb({type:o,selectors:[["app-progress"]],inputs:{mostrar:"mostrar",titulo:"titulo"},decls:4,vars:2,consts:[[1,"centrado",3,"hidden"],[1,"titulo-item-2"],["type","indeterminate",1,"ion-margin-top"]],template:function(o,t){1&o&&(e.Vb(0,"div",0),e.Vb(1,"ion-label",1),e.zc(2),e.Ub(),e.Rb(3,"ion-progress-bar",2),e.Ub()),2&o&&(e.jc("hidden",!t.mostrar),e.Cb(2),e.Ac(t.titulo))},directives:[r.A,r.G],styles:[".centrado[_ngcontent-%COMP%]{text-align:center;width:100%;height:10%;position:absolute;top:45%;padding-left:60px;padding-right:60px}.titulo-item-2[_ngcontent-%COMP%]{font-size:16px;color:rgba(0,0,0,.87)}"]}),o})()},"5bb6":function(o,t,i){"use strict";i.r(t),i.d(t,"ValidacionFactorPageModule",(function(){return E}));var e=i("ofXK"),r=i("3Pt+"),n=i("TEn/"),s=i("tyNb"),a=i("kmnG"),c=i("d3UM"),d=i("qFsG"),u=i("bTqV"),g=i("NFeN"),l=i("mrSG"),m=i("fXoL"),b=i("ymXj"),h=i("w9zE"),p=i("1VCC"),f=i("70lJ");const C=["codigo1"],v=["codigo2"],j=["codigo3"],I=["codigo4"],M=["codigo5"],U=["codigo6"];function R(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function V(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function T(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function y(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function O(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}function w(o,t){1&o&&(m.Vb(0,"mat-error"),m.zc(1,"*"),m.Ub())}let S=(()=>{class o{constructor(o,t,i,e,r,n,s,a,c,d){this.navCtrl=o,this.toast=t,this.modalCtrl=i,this.platform=e,this.menu=r,this.activatedRoute=n,this.router=s,this.utiles=a,this.loading=c,this.servicioGeo=d,this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!1,this.tituloMensaje="",this.contenidoMensaje="",this.irA="inicio"}ngOnInit(){0==this.validaPreRegistro()&&(this.utiles.presentToast("No cuentas con registro pendiente","bottom",3e3),this.navCtrl.navigateRoot("inicio")),this.cargarForma()}ngAfterViewInit(){setTimeout(()=>{this.codigoUnoInput.focus()},1e3)}onKeypressEvent(o){o.currentTarget&&("codigoUno"==o.currentTarget.name&&setTimeout(()=>{this.codigoDosInput.focus()},100),"codigoDos"==o.currentTarget.name&&setTimeout(()=>{this.codigoTresInput.focus()},100),"codigoTres"==o.currentTarget.name&&setTimeout(()=>{this.codigoCuatroInput.focus()},100),"codigoCuatro"==o.currentTarget.name&&setTimeout(()=>{this.codigoCincoInput.focus()},100),"codigoCinco"==o.currentTarget.name&&setTimeout(()=>{this.codigoSeisInput.focus()},100))}cargarForma(){this.forma=new r.e({codigoUno:new r.c("",[r.q.required]),codigoDos:new r.c("",[r.q.required]),codigoTres:new r.c("",[r.q.required]),codigoCuatro:new r.c("",[r.q.required]),codigoCinco:new r.c("",[r.q.required]),codigoSeis:new r.c("",[r.q.required])})}validaPreRegistro(){var o=!1;return localStorage.getItem("PRE-REGISTRO")&&(this.preRegistro=JSON.parse(localStorage.getItem("PRE-REGISTRO")),this.preRegistro.Id>0&&(o=!0)),o}onSubmit(){return Object(l.b)(this,void 0,void 0,(function*(){if(this.forma.invalid)return;let o=this.forma.controls.codigoUno.value+this.forma.controls.codigoDos.value+this.forma.controls.codigoTres.value+this.forma.controls.codigoCuatro.value+this.forma.controls.codigoCinco.value+this.forma.controls.codigoSeis.value,t="";this.preRegistro&&this.preRegistro.Id>0&&(t=this.preRegistro.Id),this.estaCargando=!0,this.tituloLoading="Verificando solicitud de registro";let i=yield this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null});yield i.present().then(()=>Object(l.b)(this,void 0,void 0,(function*(){this.utiles.isAppOnDevice()?this.servicioGeo.validaCodigoNative(t,o,"confirmar").then(o=>{var t=JSON.parse(o.data);t?0==t.CodigoMensaje?(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.irARegistro()):(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Mensaje",this.contenidoMensaje=t.TextoMensaje):(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Error de comunicaci\xf3n",this.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")}).catch(o=>{console.log(o),i.dismiss(),this.estaCargando=!1,this.tituloLoading=""}):this.servicioGeo.validaCodigo(t,o,"confirmar").subscribe(o=>{var t=o;t?0==t.CodigoMensaje?(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.irARegistro()):(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Mensaje",this.contenidoMensaje=t.TextoMensaje):(i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Error de comunicaci\xf3n",this.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")},o=>{console.log(o),i.dismiss(),this.estaCargando=!1,this.tituloLoading=""})})))}))}cancelarRegistro(){return Object(l.b)(this,void 0,void 0,(function*(){let o="";this.preRegistro&&this.preRegistro.Id>0&&(o=this.preRegistro.Id),this.estaCargando=!0,this.tituloLoading="Verificando solicitud de registro";let t=yield this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null});yield t.present().then(()=>Object(l.b)(this,void 0,void 0,(function*(){this.utiles.isAppOnDevice()?this.servicioGeo.validaCodigoNative(o,"123456","cancelar").then(o=>{var i=JSON.parse(o.data);i?0==i.CodigoMensaje?(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",localStorage.removeItem("PRE-REGISTRO"),this.utiles.presentToast("Tu solicitud registro ha sido cancelado con \xe9xito","bottom",3e3),this.navCtrl.navigateRoot("inicio")):(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Mensaje",this.contenidoMensaje=i.TextoMensaje):(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Error de comunicaci\xf3n",this.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")}).catch(o=>{console.log(o),t.dismiss(),this.estaCargando=!1,this.tituloLoading=""}):this.servicioGeo.validaCodigo(o,"123456","cancelar").subscribe(o=>{var i=o;i?0==i.CodigoMensaje?(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",localStorage.removeItem("PRE-REGISTRO"),this.utiles.presentToast("Tu solicitud registro ha sido cancelado con \xe9xito","bottom",3e3),this.navCtrl.navigateRoot("inicio")):(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Mensaje",this.contenidoMensaje=i.TextoMensaje):(t.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.muestraMensaje=!0,this.tituloMensaje="Error de comunicaci\xf3n",this.contenidoMensaje="Hubo un error de comunicaci\xf3n, contacte al administrador.")},o=>{console.log(o),t.dismiss(),this.estaCargando=!1,this.tituloLoading=""})})))}))}irARegistro(){let o={Activo:1,Apellidos:"",Apodo:"",Avatar:"",Comuna:localStorage.getItem("comuna"),CorreoElectronico:"",Eliminado:0,FechaBaja:"0001-01-01T00:00:00",FechaNacimiento:"0001-01-01T00:00:00",FechaRegistro:"0001-01-01T00:00:00",Id:0,IdDispositivo:localStorage.getItem("token_dispositivo"),Latitud:sessionStorage.getItem("latitud"),Longitud:sessionStorage.getItem("longitud"),ModoRegistro:2,NombreUsuario:"",Nombres:"",Pais:localStorage.getItem("pais"),Password:"",Plataforma:localStorage.getItem("plataforma"),Provincia:localStorage.getItem("provincia"),Run:"",TelefonoContacto:""};this.preRegistro&&this.preRegistro.Id>0&&(o.CorreoElectronico=this.preRegistro.Correo,o.Run=this.preRegistro.Run);let t={usuario:JSON.stringify(o),estaAgregandoFamilia:null};this.navCtrl.navigateRoot(["registro-usuario"],{queryParams:t})}get f(){return this.forma.controls}}return o.\u0275fac=function(t){return new(t||o)(m.Qb(n.Z),m.Qb(n.gb),m.Qb(n.Y),m.Qb(n.bb),m.Qb(n.X),m.Qb(s.a),m.Qb(s.g),m.Qb(b.a),m.Qb(n.W),m.Qb(h.a))},o.\u0275cmp=m.Kb({type:o,selectors:[["app-validacion-factor"]],viewQuery:function(o,t){var i;1&o&&(m.vc(C,!0),m.vc(v,!0),m.vc(j,!0),m.vc(I,!0),m.vc(M,!0),m.vc(U,!0)),2&o&&(m.pc(i=m.ec())&&(t.codigoUnoInput=i.first),m.pc(i=m.ec())&&(t.codigoDosInput=i.first),m.pc(i=m.ec())&&(t.codigoTresInput=i.first),m.pc(i=m.ec())&&(t.codigoCuatroInput=i.first),m.pc(i=m.ec())&&(t.codigoCincoInput=i.first),m.pc(i=m.ec())&&(t.codigoSeisInput=i.first))},decls:53,vars:15,consts:[[1,"back-app"],["color","primary","mode","md"],["slot","start"],["defaultHref","/inicio",1,"fcw"],[1,"fcw"],[3,"hidden"],[1,"mt-16","ion-padding"],["novalidate","",3,"formGroup"],["size","2"],["appearance","outline",2,"width","100%","font-size","2em"],["matInput","","placeholder","0","formControlName","codigoUno","name","codigoUno","required","",3,"keypress"],["codigo1","matInput"],[4,"ngIf"],["matInput","","placeholder","0","formControlName","codigoDos","name","codigoDos","required","",3,"keypress"],["codigo2","matInput"],["matInput","","placeholder","0","formControlName","codigoTres","name","codigoTres","required","",3,"keypress"],["codigo3","matInput"],["matInput","","placeholder","0","formControlName","codigoCuatro","name","codigoCuatro","required","",3,"keypress"],["codigo4","matInput"],["matInput","","placeholder","0","formControlName","codigoCinco","name","codigoCinco","required","",3,"keypress"],["codigo5","matInput"],["matInput","","placeholder","0","formControlName","codigoSeis","name","codigoSeis","required",""],["codigo6","matInput"],[1,"mt-32"],["size","6"],["mat-stroked-button","","color","primary",2,"width","100%",3,"click"],["mat-flat-button","","color","primary",2,"width","98%","margin-left","2%",3,"disabled","click"],[3,"mostrar","titulo"],[3,"titulo","contenido","irA"]],template:function(o,t){1&o&&(m.Vb(0,"ion-header",0),m.Vb(1,"ion-toolbar",1),m.Vb(2,"ion-buttons",2),m.Rb(3,"ion-back-button",3),m.Ub(),m.Vb(4,"ion-title",4),m.zc(5,"Validaci\xf3n de registro"),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"ion-content"),m.Vb(7,"div",5),m.Vb(8,"p",6),m.zc(9,"Ingresa tu c\xf3digo de seguridad enviado a tu correo electr\xf3nico para continuar con tu registro."),m.Ub(),m.Vb(10,"form",7),m.Vb(11,"ion-grid"),m.Vb(12,"ion-row"),m.Vb(13,"ion-col",8),m.Vb(14,"mat-form-field",9),m.Vb(15,"input",10,11),m.dc("keypress",(function(o){return t.onKeypressEvent(o)})),m.Ub(),m.yc(17,R,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(18,"ion-col",8),m.Vb(19,"mat-form-field",9),m.Vb(20,"input",13,14),m.dc("keypress",(function(o){return t.onKeypressEvent(o)})),m.Ub(),m.yc(22,V,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(23,"ion-col",8),m.Vb(24,"mat-form-field",9),m.Vb(25,"input",15,16),m.dc("keypress",(function(o){return t.onKeypressEvent(o)})),m.Ub(),m.yc(27,T,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(28,"ion-col",8),m.Vb(29,"mat-form-field",9),m.Vb(30,"input",17,18),m.dc("keypress",(function(o){return t.onKeypressEvent(o)})),m.Ub(),m.yc(32,y,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(33,"ion-col",8),m.Vb(34,"mat-form-field",9),m.Vb(35,"input",19,20),m.dc("keypress",(function(o){return t.onKeypressEvent(o)})),m.Ub(),m.yc(37,O,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Vb(38,"ion-col",8),m.Vb(39,"mat-form-field",9),m.Rb(40,"input",21,22),m.yc(42,w,2,0,"mat-error",12),m.Ub(),m.Ub(),m.Ub(),m.Vb(43,"ion-row",23),m.Vb(44,"ion-col",24),m.Vb(45,"button",25),m.dc("click",(function(){return t.cancelarRegistro()})),m.zc(46,"CANCELAR MI REGISTRO"),m.Ub(),m.Ub(),m.Vb(47,"ion-col",24),m.Vb(48,"button",26),m.dc("click",(function(){return t.onSubmit()})),m.zc(49,"CONTINUAR"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Rb(50,"app-progress",27),m.Vb(51,"div",5),m.Rb(52,"app-pagina-mensajes",28),m.Ub(),m.Ub()),2&o&&(m.Cb(7),m.jc("hidden",t.estaCargando||t.muestraMensaje),m.Cb(3),m.jc("formGroup",t.forma),m.Cb(7),m.jc("ngIf",t.f.codigoUno.errors&&t.f.codigoUno.errors.required),m.Cb(5),m.jc("ngIf",t.f.codigoDos.errors&&t.f.codigoDos.errors.required),m.Cb(5),m.jc("ngIf",t.f.codigoTres.errors&&t.f.codigoTres.errors.required),m.Cb(5),m.jc("ngIf",t.f.codigoCuatro.errors&&t.f.codigoCuatro.errors.required),m.Cb(5),m.jc("ngIf",t.f.codigoCinco.errors&&t.f.codigoCinco.errors.required),m.Cb(5),m.jc("ngIf",t.f.codigoSeis.errors&&t.f.codigoSeis.errors.required),m.Cb(6),m.jc("disabled",t.forma.invalid),m.Cb(2),m.jc("mostrar",t.estaCargando)("titulo",t.tituloLoading),m.Cb(1),m.jc("hidden",!t.muestraMensaje),m.Cb(1),m.jc("titulo",t.tituloMensaje)("contenido",t.contenidoMensaje)("irA",t.irA))},directives:[n.u,n.T,n.i,n.e,n.f,n.R,n.p,r.r,r.l,r.f,n.t,n.K,n.o,a.c,d.b,r.a,r.k,r.d,r.p,e.k,u.b,p.a,f.a,a.b],styles:[".mt-24[_ngcontent-%COMP%]{margin-top:24px}.mt-16[_ngcontent-%COMP%]{margin-top:16px}.mt-40[_ngcontent-%COMP%]{margin-top:40px;font:normal normal normal 24px Roboto;letter-spacing:0;color:rgba(0,0,0,.87)}.mt-32[_ngcontent-%COMP%]{margin-top:32px}.mt-62[_ngcontent-%COMP%]{margin-top:62px}p[_ngcontent-%COMP%]{font:normal normal normal 16px Roboto;letter-spacing:0;color:rgba(0,0,0,.54)}ion-slides[_ngcontent-%COMP%]{height:100%}.ml-48[_ngcontent-%COMP%]{margin-left:48px}.mr-48[_ngcontent-%COMP%]{margin-right:48px}.img-slide-1[_ngcontent-%COMP%]{width:60%}.boton[_ngcontent-%COMP%]{width:55%}.font-title[_ngcontent-%COMP%]{font-size:1em}"]}),o})();var q=i("07l/"),P=i("j1ZV");let E=(()=>{class o{}return o.\u0275mod=m.Ob({type:o}),o.\u0275inj=m.Nb({factory:function(t){return new(t||o)},imports:[[e.c,r.g,r.o,a.e,c.b,d.c,u.c,g.b,n.U,q.a,P.a,s.j.forChild([{path:"",component:S}])]]}),o})()}}]);