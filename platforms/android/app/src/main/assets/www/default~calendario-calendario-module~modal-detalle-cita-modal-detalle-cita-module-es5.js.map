{"version":3,"sources":["webpack:///src/app/modal-detalle-cita/modal-detalle-cita.page.html","webpack:///src/app/modal-detalle-cita/modal-detalle-cita.page.scss","webpack:///src/app/modal-detalle-cita/modal-detalle-cita.page.ts"],"names":["ModalDetalleCitaPage","modalCtrl","navParams","utiles","navCtrl","toast","platform","menu","loading","lab","alertController","agendar","miColor","cita","IdCita","IdPaciente","Estado","botonReservar","Titulo","Visible","Operacion","Color","Alert","botonConfirmar","botonCancelar","loadInicio","data","JSON","parse","get","console","log","farmacos","ListaFarmacos","dosis","usuarioAps","entregaColor","nombreCompletoUsuario","Nombres","ApellidoPaterno","ApellidoMaterno","DetalleEventoMes","NombrePaciente","miNombre","miImagen","UrlImagen","miParentezco","sessionStorage","getItem","usuariosFamilia","length","forEach","usu","entregaImagen","prev","DescripcionPrincipal","split","posologia","tituloSuperior","Subtitulo","Imagen","profesional","DescripcionSecundaria","FechaHora","fecha","format","NombreSecundario","title","IdElemento","Rut","titulo","iconCita","dismiss","input","sep","inx","pi","transform","boton","create","header","message","buttons","text","role","cssClass","handler","blah","accionCita","alert","present","idPaciente","idCita","accion","duration","loader","then","retorno","isAppOnDevice","getOperacionCita","subscribe","response","procesarRespuesta","getOperacionCitaNative","responseData","Mensaje","Codigo","presentToast","Detalle","Texto","selector","template"],"mappings":"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","file":"default~calendario-calendario-module~modal-detalle-cita-modal-detalle-cita-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <!-- <ion-toolbar [style.--background]=\\\"miColor\\\"> -->\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title class=\\\"home\\\">{{data.DetalleEventoMes.Titulo}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" class=\\\"pdr10\\\" (click)=\\\"dismiss()\\\">\\r\\n      <ion-icon class=\\\"home\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <div>\\r\\n\\t\\t<img src=\\\"./assets/img/{{data.Imagen}}\\\" style=\\\"width:100%\\\">\\r\\n  </div>\\r\\n  <!-- aca debe ir el avatar -->\\r\\n  <ion-list>\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n      <ion-label class=\\\"ion-text-wrap titulo-evento\\\">{{data.DetalleEventoMes.DescripcionPrincipal}}&nbsp;{{dosis}}</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img *ngIf=\\\"miImagen != ''\\\" src={{miImagen}}>\\r\\n        <img *ngIf=\\\"miImagen == ''\\\" src=\\\"../assets/img/no-imagen.jpg\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-row style=\\\"display: block;\\\">\\r\\n        <h3 class=\\\"text-avatar\\\">{{miNombre}}</h3>\\r\\n        <p class=\\\"subtext-avatar\\\">{{miParentezco}}</p>\\r\\n      </ion-row>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <ion-list>\\r\\n    <ion-item>\\r\\n      <ion-label>Fecha</ion-label>\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">{{data.DetalleEventoMes.FechaHora}}</ion-label>\\r\\n    </ion-item>\\r\\n    <!-- proxima cita -->\\r\\n    <ion-item *ngIf=\\\"data.DetalleEventoMes.Subtitulo == 'Próxima Cita' || data.DetalleEventoMes.Subtitulo == 'Próxima Cita Web'\\\">\\r\\n      <ion-label>Profesional</ion-label>\\r\\n      <ion-label class=\\\"ion-text-capitalize ion-text-wrap\\\">{{profesional.toLowerCase()}}</ion-label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Establecimiento</ion-label>\\r\\n      <ion-label class=\\\"ion-text-capitalize ion-text-wrap\\\">{{data.DetalleEventoMes.Lugar.toLowerCase()}}  </ion-label>\\r\\n    </ion-item>\\r\\n    <!-- tiene farmacos -->\\r\\n    <div *ngIf=\\\"farmacos\\\">\\r\\n\\t\\t\\t<h3 id =\\\"tituloPrescripcion\\\" *ngIf=\\\"farmacos.length == 0\\\" margin text-center style=\\\"font-size: 1.9rem; padding:7px;\\\"></h3>\\r\\n\\t\\t\\t<h3 id =\\\"tituloPrescripcion\\\" *ngIf=\\\"farmacos.length > 0\\\" margin text-center [ngStyle]=\\\"{'background-color': data.Color}\\\" style=\\\"color:#fff; font-size: 1.9rem; padding:7px;\\\">{{title}}</h3>\\r\\n    </div>\\r\\n\\t\\t\\t<ion-item *ngFor='let item of farmacos' class=\\\"ion-no-padding ion-no-margin\\\">\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<ion-icon item-start><i class=\\\"care-pill pill\\\"></i></ion-icon>\\r\\n\\t\\t\\t\\t<p text-wrap class=\\\"medic\\\">{{ split(item.DescripcionPrincipal,\\\":\\\",0) }}</p>\\r\\n\\t\\t\\t\\t<p text-wrap class=\\\"medic down\\\">{{ split(item.DescripcionPrincipal,\\\":\\\",1) }}</p>\\t\\t\\r\\n\\t\\t\\t</ion-item>\\r\\n\\t\\t<!-- </ion-list> -->\\r\\n  </ion-list>\\r\\n  <ion-row class=\\\"ion-padding-top ion-padding-start\\\" *ngIf=\\\"data.DetalleEventoMes.Subtitulo == 'Próxima Cita Web' && data.DetalleEventoMes.Estado != ''\\\">\\r\\n      <button *ngIf=\\\"botonConfirmar.Visible\\\" (click)=\\\"presentAlertConfirm(botonConfirmar)\\\" mat-raised-button color=\\\"primary\\\" style=\\\"margin-right: 16px;\\\">{{botonConfirmar.Titulo}}</button>\\r\\n      <button  *ngIf=\\\"botonReservar.Visible\\\" (click)=\\\"presentAlertConfirm(botonReservar)\\\" mat-raised-button color=\\\"primary\\\" style=\\\"margin-right: 16px;\\\">{{botonReservar.Titulo}}</button>\\r\\n      <button *ngIf=\\\"botonCancelar.Visible\\\" (click)=\\\"presentAlertConfirm(botonCancelar)\\\" mat-stroked-button color=\\\"primary\\\">{{botonCancelar.Titulo}}</button>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","export default \".text-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.15px;\\n  color: #000000DE;\\n  font-size: 1.25em;\\n  margin-bottom: 0;\\n}\\n\\n.subtext-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.25px;\\n  color: #00000099;\\n  font-size: 0.875em;\\n  margin-bottom: 0;\\n}\\n\\n.titulo-evento {\\n  font-family: \\\"Roboto\\\";\\n  font-size: 1.25em;\\n  color: #000000DE;\\n  letter-spacing: 0.15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWwtZGV0YWxsZS1jaXRhL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGFwcFxcbW9kYWwtZGV0YWxsZS1jaXRhXFxtb2RhbC1kZXRhbGxlLWNpdGEucGFnZS5zY3NzIiwic3JjL2FwcC9tb2RhbC1kZXRhbGxlLWNpdGEvbW9kYWwtZGV0YWxsZS1jaXRhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURDRTtFQUNFLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNFSjs7QURBRTtFQUNJLHFCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNGLHNCQUFBO0FDR0oiLCJmaWxlIjoic3JjL2FwcC9tb2RhbC1kZXRhbGxlLWNpdGEvbW9kYWwtZGV0YWxsZS1jaXRhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZXh0LWF2YXRhcntcclxuICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvJztcclxuICAgIGxldHRlci1zcGFjaW5nOiAwLjE1cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG4gICAgZm9udC1zaXplOiAxLjI1ZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gIH1cclxuICAuc3VidGV4dC1hdmF0YXJ7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90byc7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC4yNXB4O1xyXG4gICAgY29sb3I6ICMwMDAwMDA5OTtcclxuICAgIGZvbnQtc2l6ZTogMC44NzVlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgfVxyXG4gIC50aXR1bG8tZXZlbnRve1xyXG4gICAgICBmb250LWZhbWlseTogJ1JvYm90byc7XHJcbiAgICAgIGZvbnQtc2l6ZTogMS4yNWVtO1xyXG4gICAgICBjb2xvcjogIzAwMDAwMERFO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuMTVweDtcclxuICB9IiwiLnRleHQtYXZhdGFyIHtcbiAgZm9udC1mYW1pbHk6IFwiUm9ib3RvXCI7XG4gIGxldHRlci1zcGFjaW5nOiAwLjE1cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG4gIGZvbnQtc2l6ZTogMS4yNWVtO1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4uc3VidGV4dC1hdmF0YXIge1xuICBmb250LWZhbWlseTogXCJSb2JvdG9cIjtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMjVweDtcbiAgY29sb3I6ICMwMDAwMDA5OTtcbiAgZm9udC1zaXplOiAwLjg3NWVtO1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4udGl0dWxvLWV2ZW50byB7XG4gIGZvbnQtZmFtaWx5OiBcIlJvYm90b1wiO1xuICBmb250LXNpemU6IDEuMjVlbTtcbiAgY29sb3I6ICMwMDAwMDBERTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMTVweDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams, NavController, ToastController, Platform,  LoadingController, MenuController, AlertController } from '@ionic/angular';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioLaboratorio } from '../../app/services/ServicioLaboratorio';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport { environment } from 'src/environments/environment';\r\n//moment\r\nimport * as moment from 'moment';\r\n//pipe\r\nimport { SplitPipe } from '../../app/pipes/split.pipe';\r\n\r\n@Component({\r\n  selector: 'app-modal-detalle-cita',\r\n  templateUrl: './modal-detalle-cita.page.html',\r\n  styleUrls: ['./modal-detalle-cita.page.scss'],\r\n})\r\nexport class ModalDetalleCitaPage implements OnInit {\r\n  //color\r\n  miColor = '#FF4081';\r\n  public data;\r\n  public tituloSuperior;\r\n  public iconCita;\r\n  public usuarioAps;\r\n  public farmacos:any[];\r\n  public medic;\r\n  public dosis;\r\n  public far;\r\n  public title;\r\n  public profesional;\r\n  public prescripcion;\r\n  redClassBool:boolean;\r\n  public cita = {\r\n    IdCita: 0,\r\n    IdPaciente: '',\r\n    Estado:''\r\n  };\r\n  botonReservar = {\r\n    Titulo: 'RESERVAR',\r\n    Visible: false,\r\n    Operacion: 'booked',\r\n    Color: 'primary',\r\n    Alert: '¿Está seguro de reservar la cita?'\r\n  }\r\n  botonConfirmar = {\r\n    Titulo: 'CONFIRMAR',\r\n    Visible: false,\r\n    Operacion: 'confirmed',\r\n    Color: 'primary',\r\n    Alert: '¿Está seguro de confirmar la cita?'\r\n  }\r\n  botonCancelar = {\r\n    Titulo: 'ANULAR',\r\n    Visible: false,\r\n    Operacion: 'cancelled',\r\n    Color: 'danger',\r\n    Alert: '¿Está seguro de anular la cita?'\r\n  }\r\n  titulo;\r\n  //para mostrar el avatar\r\n  miImagen;\r\n  miNombre;\r\n  miParentezco;\r\n\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public navParams: NavParams,\r\n    public utiles: ServicioUtiles,\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public loading: LoadingController,\r\n    private lab: ServicioLaboratorio,\r\n    private alertController: AlertController,\r\n    private agendar:ServicioCitas,\r\n  ) { }\r\n\r\n  //QUEDE ACA POR MIENTRARS, ESTOY TRABAJANDO EN LOS ESTILOS\r\n  ngOnInit() {\r\n    moment.locale('es');\r\n    this.loadInicio();\r\n  }\r\n  loadInicio() {\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n\r\n    this.data = JSON.parse(this.navParams.get('evento'));\r\n    console.log(this.data);\r\n\r\n    this.farmacos = this.data.ListaFarmacos;\r\n    console.log(this.farmacos);\r\n\r\n    this.dosis = \"\";\r\n    this.usuarioAps = JSON.parse(this.navParams.get('usuario'));\r\n    this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n    //parametros para avatar\r\n    //primero determinamoos si es el mismo usuario o no\r\n    //usuarioAps es el logueado\r\n    var nombreCompletoUsuario = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno + ' ' + this.usuarioAps.ApellidoMaterno;\r\n    \r\n    if (nombreCompletoUsuario == this.data.DetalleEventoMes.NombrePaciente){\r\n      //el el mismo\r\n      this.miNombre = nombreCompletoUsuario;\r\n      this.miImagen = this.usuarioAps.UrlImagen;\r\n      this.miParentezco = \"Yo\";\r\n    }\r\n    else{\r\n      this.miNombre = this.data.DetalleEventoMes.NombrePaciente;\r\n      //this.miImagen = this.utiles.entregaImagen(this.usuarioAps);\r\n      if (sessionStorage.getItem('UsuariosFamilia')){\r\n        var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n        if (usuariosFamilia && usuariosFamilia.length > 0){\r\n          usuariosFamilia.forEach(usu => {\r\n            if (usu.Nombres + ' ' + usu.ApellidoPaterno + ' ' + usu.ApellidoMaterno == this.data.DetalleEventoMes.NombrePaciente){\r\n              this.miImagen = this.utiles.entregaImagen(usu);\r\n            }\r\n          });\r\n        }\r\n      }\r\n      \r\n      this.miParentezco = \"No informado\";\r\n    } \r\n\r\n    var prev = (this.data.DetalleEventoMes.DescripcionPrincipal).split('-');\r\n    var posologia = prev[1];\r\n    if (this.data) {\r\n      if (this.data.DetalleEventoMes) {\r\n        this.tituloSuperior = this.data.DetalleEventoMes.Titulo;\r\n      }\r\n    }\r\n    if (this.data) {\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Próxima Cita' || this.data.DetalleEventoMes.Subtitulo == 'Próxima Cita Web') {\r\n        this.data.Imagen = \"cita.png\";\r\n        this.profesional = this.data.DetalleEventoMes.DescripcionSecundaria;\r\n      }\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Atencion Realizada') {\r\n        this.data.Imagen = \"diagnostico.png\";\r\n      }\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n        this.data.Imagen = \"farmaco_uso.png\";\r\n      }\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n        this.data.Imagen = \"farmaco_pendiente.png\";\r\n      }\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Alimento Entregado') {\r\n        this.data.Imagen = \"alimento.png\";\r\n      }\r\n      if (this.data.DetalleEventoMes.Subtitulo == 'Vacuna Administrada') {\r\n        this.data.Imagen = \"inmunizacion.png\";\r\n      }\r\n      //convertimos la fecha a formato correcto\r\n      if (this.data.DetalleEventoMes.FechaHora){\r\n        var fecha = moment(this.data.DetalleEventoMes.FechaHora).format(\"dddd DD MMMM YYYY, HH:mm\");\r\n        //console.log(fecha);\r\n        this.data.DetalleEventoMes.FechaHora = fecha;\r\n      }\r\n    }\r\n    if (this.data.DetalleEventoMes.Titulo == 'Entrega de fármaco') {\r\n      this.data.DetalleEventoMes.DescripcionPrincipal = prev[1];\r\n    }\r\n    if (this.data.DetalleEventoMes.Titulo == 'Inmunización') {\r\n      if (this.data.DetalleEventoMes.DescripcionSecundaria) {\r\n        this.dosis = this.data.DetalleEventoMes.DescripcionSecundaria;\r\n      }\r\n    }\r\n    if (this.data.DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n      this.data.DetalleEventoMes.DescripcionPrincipal = this.data.DetalleEventoMes.DescripcionPrincipal\r\n    }\r\n    if (this.data.DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n      this.data.DetalleEventoMes.DescripcionPrincipal = this.data.NombreSecundario;\r\n    }\r\n\r\n    if (this.farmacos) {\r\n      if (this.farmacos.length == 1) {\r\n        this.title = \"Prescripción\";\r\n      } else {\r\n\r\n        this.title = \"Prescripciones\";\r\n      }\r\n    }\r\n    //esto hacemos para obtener los datos de la cita y del paciente\r\n    if (this.data.DetalleEventoMes.Subtitulo == 'Próxima Cita Web' && this.data.DetalleEventoMes.Estado != ''){\r\n      this.cita.IdCita = this.data.DetalleEventoMes.IdElemento;\r\n      this.cita.IdPaciente = this.usuarioAps.Rut;\r\n      this.cita.Estado = this.data.DetalleEventoMes.Estado;\r\n      if (this.cita.Estado == 'proposed'){\r\n        this.titulo = 'Reserva de horas';\r\n        this.botonReservar.Visible = true;\r\n        this.botonCancelar.Visible = false;\r\n        this.botonConfirmar.Visible = false;\r\n      }\r\n      else if (this.cita.Estado == 'booked'){\r\n        //si esta booked se puede confirmar\r\n        this.titulo = 'Confirmar/Anular hora';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = true;\r\n        this.botonConfirmar.Visible = true;\r\n      }\r\n      else if (this.cita.Estado == 'confirmed'){\r\n        //si esta booked se puede confirmar\r\n        this.titulo = 'Anular hora';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = true;\r\n        this.botonConfirmar.Visible = false;\r\n      }\r\n      else{\r\n        this.titulo = 'No Cita';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = false;\r\n        this.botonConfirmar.Visible = false;\r\n        \r\n      }\r\n      console.log(this.cita);\r\n      console.log(this.cita);\r\n    }\r\n    //proceso de los iconos\r\n    switch (this.data.DetalleEventoMes.Titulo) {\r\n      case \"Entrega de fármaco\":\r\n        return this.iconCita = \"care-pill\"\r\n      case \"Fármaco en uso\":\r\n        return this.iconCita = \"care-pill\"\r\n      case \"Fármaco entregado\":\r\n        return this.iconCita = \"care-pill\"\r\n      case \"Cita programada\":\r\n        return this.iconCita = \"care-heartbeat\"\r\n      case \"Cita programada web\":\r\n        return this.iconCita = \"care-heartbeat\"\r\n      case \"Atención Realizada\":\r\n        return this.iconCita = \"care-heartbeat\"\r\n      case \"Inmunización\":\r\n        return this.iconCita = \"care-vaccine\"\r\n      case \"Vacuna\":\r\n        return this.iconCita = \"care-vaccine\"\r\n      case \"Vacuna administrada\":\r\n        return this.iconCita = \"care-vaccine\"\r\n      case \"Alimento entregado\":\r\n        return this.iconCita = \"care-coffee\"\r\n      case \"Entrega de alimento\":\r\n        return this.iconCita = \"care-coffee\"\r\n      default:\r\n        this.iconCita;\r\n        break;\r\n    } \r\n  }\r\n  dismiss() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  split(input: string, sep: string, inx: number){\r\n    var pi = new SplitPipe();\r\n    return pi.transform(input, sep, inx);\r\n  }\r\n  async presentAlertConfirm(boton) {\r\n    var titulo = '';\r\n\r\n    const alert = await this.alertController.create({\r\n      header: boton.Titulo,\r\n      message: boton.Alert,\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'danger',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Si',\r\n          cssClass: 'success',\r\n          handler: () => {\r\n            //aca debemos realizar la operación\r\n            this.accionCita(boton);\r\n            //console.log('Confirm Okay');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  async accionCita(boton){\r\n    var idPaciente = this.cita.IdPaciente;\r\n    var idCita = this.cita.IdCita;\r\n    var accion = boton.Operacion;\r\n\r\n    let loader = await this.loading.create({\r\n      message: 'Procesado...<br>Información',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      var retorno = null;\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.agendar.getOperacionCita(idCita, idPaciente, accion).subscribe((response: any)=>{\r\n          this.procesarRespuesta(response, loader, accion);\r\n        })\r\n      }\r\n      else{\r\n        //llamada nativa\r\n        //this.cargarDatosNative(mesConsultar, annoConsultar, loader);\r\n        this.agendar.getOperacionCitaNative(idCita, idPaciente, accion).then((responseData: any)=>{\r\n          var response = JSON.parse(responseData.data);\r\n          this.procesarRespuesta(response, loader, accion);\r\n        })\r\n      }\r\n    });\r\n  }\r\n  procesarRespuesta(data, loader, accion){\r\n    var retorno = null;\r\n    if (data && data.Mensaje){\r\n      if (data.Mensaje.Codigo == 'correcto'){\r\n        //todo bien\r\n        //this.utiles.presentToast('Operación realizada con éxito', 'middle', 2000);\r\n        retorno = data;\r\n      }\r\n      else{\r\n        this.utiles.presentToast(data.Mensaje.Detalle.Texto, 'middle', 2000);\r\n      }\r\n    }\r\n    else{\r\n      //error en la operacion\r\n      this.utiles.presentToast('Error en la operación', 'middle', 2000);\r\n    }\r\n    loader.dismiss();\r\n    //ACA SE DEBE ACTUALIZAR LA PAGINA DE AGENDA DISPONIBLE.\r\n    this.modalCtrl.dismiss(\r\n      {\r\n        retorno: retorno,\r\n        accion: accion\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n"]}