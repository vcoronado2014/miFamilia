{"version":3,"sources":["./src/app/modal-operacion-cita/modal-operacion-cita.page.html","./src/app/modal-operacion-cita/modal-operacion-cita.page.scss","./src/app/modal-operacion-cita/modal-operacion-cita.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,kNAAmJ,QAAQ,ipBAAipB,KAAK,6CAA6C,YAAY,0CAA0C,sBAAsB,6CAA6C,GAAG,6CAA6C,wNAAwN,wCAAwC,iNAAiN,oBAAoB,IAAI,sBAAsB,8RAA8R,sBAAsB,gMAAgM,sBAAsB,+MAA+M,uBAAuB,kEAAkE,E;;;;;;;;;;;;ACAv0E;AAAe,6EAAc,oBAAoB,qBAAqB,GAAG,yBAAyB,oBAAoB,qBAAqB,GAAG,6CAA6C,m5BAAm5B,E;;;;;;;;;;;;;;;;;;;;;;;;ACAjhC;AACsG;AACnK,WAAW;AACwD;AACU;AACZ;AAET;AACxD,QAAQ;AACyB;AAOjC,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAkCjC,YACS,SAA0B,EAC1B,SAAoB,EACpB,MAAsB,EACtB,OAAsB,EACtB,KAAsB,EACtB,QAAkB,EAClB,IAAoB,EACpB,OAA0B,EACzB,GAAwB,EACxB,OAAsB,EACtB,eAAgC;QAVjC,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAgB;QACtB,YAAO,GAAP,OAAO,CAAe;QACtB,UAAK,GAAL,KAAK,CAAiB;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAgB;QACpB,YAAO,GAAP,OAAO,CAAmB;QACzB,QAAG,GAAH,GAAG,CAAqB;QACxB,YAAO,GAAP,OAAO,CAAe;QACtB,oBAAe,GAAf,eAAe,CAAiB;QA5C1C,YAAO,GAAG,SAAS,CAAC;QACpB,qBAAqB;QACrB,cAAS,GAAG,SAAS,CAAC;QAMtB,kBAAa,GAAG;YACd,MAAM,EAAE,UAAU;YAClB,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,QAAQ;YACnB,KAAK,EAAE,SAAS;YAChB,KAAK,EAAE,mCAAmC;SAC3C;QACD,mBAAc,GAAG;YACf,MAAM,EAAE,WAAW;YACnB,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,WAAW;YACtB,KAAK,EAAE,SAAS;YAChB,KAAK,EAAE,oCAAoC;SAC5C;QACD,kBAAa,GAAG;YACd,MAAM,EAAE,QAAQ;YAChB,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,WAAW;YACtB,KAAK,EAAE,QAAQ;YACf,KAAK,EAAE,iCAAiC;SACzC;QAED,eAAe;QACf,iBAAY,GAAG,KAAK,CAAC;QACrB,kBAAa,GAAG,EAAE,CAAC;IAaf,CAAC;IAEL,QAAQ;QACN,6CAAa,CAAC,IAAI,CAAC,CAAC;QACpB,8CAA8C;QAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACnD,mDAAmD;QACnD,sDAAsD;QACtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnD,IAAI,IAAI,CAAC,IAAI,EAAE;YACb;;cAEE;YACF,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,UAAU,EAAE;gBAClC,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;gBACjC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;aACrC;iBACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,QAAQ,EAAE;gBACrC,mCAAmC;gBACnC,IAAI,CAAC,MAAM,GAAG,uBAAuB,CAAC;gBACtC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC;aACpC;iBACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,WAAW,EAAE;gBACxC,mCAAmC;gBACnC,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC;gBAC5B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;gBAClC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;aACrC;iBACI;gBACH,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;gBACxB,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,KAAK,CAAC;aAErC;YACD,yBAAyB;YACzB,8BAA8B;SAE/B;IACH,CAAC;IACD,OAAO;QACL,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IACD,aAAa,CAAC,KAAK,EAAE,MAAM;QACzB,IAAI,EAAE,GAAG,IAAI,gEAAU,EAAE,CAAC;QAC1B,OAAO,EAAE,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACrC,CAAC;IAEK,UAAU,CAAC,KAAK;;YACpB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACtC,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAC9B,IAAI,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC;YAC7B,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,QAAQ,EAAE,eAAe;gBACzB,YAAY,EAAE,KAAK;gBACnB,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YACH,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC;YAEvC,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,GAAS,EAAE,CAAC;gBACtC,IAAI,OAAO,GAAG,IAAI,CAAC;gBACnB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,EAAE;oBAChC,aAAa;oBACb,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;wBACpF,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;oBACnD,CAAC,CAAC;iBACH;qBACI;oBACH,gBAAgB;oBAChB,8DAA8D;oBAC9D,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,YAAiB,EAAE,EAAE;wBACzF,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;wBAC7C,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;oBACnD,CAAC,CAAC;iBACH;YACH,CAAC,EAAC,CAAC;QAGL,CAAC;KAAA;IACD,iBAAiB,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM;QACpC,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE;YACxB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,UAAU,EAAE;gBACrC,8BAA8B;gBAC9B,WAAW;gBACX,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBAExB,IAAI,MAAM,KAAK,QAAQ,EAAE;oBACvB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,4BAA4B,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACxE;qBACI,IAAI,MAAM,KAAK,WAAW,EAAE;oBAC/B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,6BAA6B,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACzE;qBACI,IAAI,MAAM,KAAK,WAAW,EAAE;oBAC/B,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,0BAA0B,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACtE;gBACD,OAAO,GAAG,IAAI,CAAC;aAChB;iBACI;gBACH,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aACtE;SACF;aACI;YACH,uBAAuB;YACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,uBAAuB,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;SACnE;QACD,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,wDAAwD;QACxD,IAAI,CAAC,SAAS,CAAC,OAAO,CACpB;YACE,OAAO,EAAE,OAAO;YAChB,MAAM,EAAE,MAAM;SACf,CACF,CAAC;IACJ,CAAC;IACD,aAAa,CAAC,KAAK;QACjB,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;IAEK,mBAAmB,CAAC,KAAK;;YAC7B,IAAI,MAAM,GAAG,EAAE,CAAC;YAEhB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,KAAK,CAAC,MAAM;gBACpB,OAAO,EAAE,KAAK,CAAC,KAAK;gBACpB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,QAAQ;wBAClB,OAAO,EAAE,CAAC,IAAI,EAAE,EAAE;4BAChB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wBACtC,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,IAAI;wBACV,QAAQ,EAAE,SAAS;wBACnB,OAAO,EAAE,GAAG,EAAE;4BACZ,mCAAmC;4BACnC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;4BACvB,8BAA8B;wBAChC,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,gBAAgB,CAAC,UAAU;QACzB,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,IAAI,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;YAChC,IAAI,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAClC,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC/B,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;aACvC;SACF;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;CACF;;YArLqB,8DAAe;YACf,wDAAS;YACZ,2EAAc;YACb,4DAAa;YACf,8DAAe;YACZ,uDAAQ;YACZ,6DAAc;YACX,gEAAiB;YACpB,qFAAmB;YACf,yEAAa;YACL,8DAAe;;AA7C/B,sBAAsB;IALlC,+DAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;QACpC,8PAA+C;;KAEhD,CAAC;GACW,sBAAsB,CAwNlC;AAxNkC","file":"default~busqueda-avanzada-busqueda-avanzada-module~cupos-disponibles-cupos-disponibles-module~modal-~8414b8c5-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <!-- <ion-toolbar [style.--background]=\\\"miColor\\\"> -->\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title class=\\\"home\\\">{{titulo}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" class=\\\"pdr10\\\" (click)=\\\"dismiss()\\\">\\r\\n      <ion-icon class=\\\"home\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding back-app\\\">\\r\\n  <app-progress [mostrar]=\\\"estaCargando\\\" [titulo]=\\\"tituloLoading\\\"></app-progress>\\r\\n  <div [hidden]=\\\"estaCargando\\\">\\r\\n    <ion-list class=\\\"ion-padding-bottom\\\">\\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          <h5 class=\\\"label-info\\\">FECHA</h5>\\r\\n          <p class=\\\"ion-text-wrap detalle-label-info\\\">\\r\\n            <span style=\\\"text-transform: capitalize;\\\">{{transformDate(cita.FechaHoraInicio, 'dddd')}}</span>,  {{transformDate(cita.FechaHoraInicio, 'D')}} de \\r\\n            {{transformDate(cita.FechaHoraInicio, 'MMMM')}} {{transformDate(cita.FechaHoraInicio, 'YYYY')}}\\r\\n          </p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          <h5 class=\\\"label-info\\\">HORA</h5>\\r\\n          <p class=\\\"ion-text-wrap detalle-label-info\\\">{{transformDateIso(cita.FechaHoraInicio)}}</p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          <h5 class=\\\"label-info\\\">PROFESIONAL</h5>\\r\\n          <p class=\\\"ion-text-wrap detalle-label-info\\\">{{cita.NombresMedico}}  {{cita.ApellidosMedico}}</p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n    <div class=\\\"ion-padding-top\\\">\\r\\n      <!--boton cancelar -->\\r\\n      <ion-button *ngIf=\\\"botonCancelar.Visible\\\" (click)=\\\"presentAlertConfirm(botonCancelar)\\\" [color]=\\\"botonCancelar.Color\\\">\\r\\n        {{botonCancelar.Titulo}}</ion-button>\\r\\n      <!--boton reservar -->\\r\\n      <ion-button *ngIf=\\\"botonReservar.Visible\\\" (click)=\\\"presentAlertConfirm(botonReservar)\\\" [color]=\\\"botonReservar.Color\\\">\\r\\n        {{botonReservar.Titulo}}</ion-button>\\r\\n      <!--boton confirmar -->\\r\\n      <ion-button *ngIf=\\\"botonConfirmar.Visible\\\" (click)=\\\"presentAlertConfirm(botonConfirmar)\\\"\\r\\n        [color]=\\\"botonConfirmar.Color\\\">\\r\\n        {{botonConfirmar.Titulo}}</ion-button>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \".label-info {\\n  font-size: 10px;\\n  color: #00000099;\\n}\\n\\n.detalle-label-info {\\n  font-size: 16px;\\n  color: #000000DE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWwtb3BlcmFjaW9uLWNpdGEvQzpcXERpc2NvIEZcXGFwcF9taWZhbWlsaWFfZ2l0XFxtaUZhbWlsaWFfcHJlL3NyY1xcYXBwXFxtb2RhbC1vcGVyYWNpb24tY2l0YVxcbW9kYWwtb3BlcmFjaW9uLWNpdGEucGFnZS5zY3NzIiwic3JjL2FwcC9tb2RhbC1vcGVyYWNpb24tY2l0YS9tb2RhbC1vcGVyYWNpb24tY2l0YS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURDQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvbW9kYWwtb3BlcmFjaW9uLWNpdGEvbW9kYWwtb3BlcmFjaW9uLWNpdGEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxhYmVsLWluZm97XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICBjb2xvcjojMDAwMDAwOTk7XHJcbn1cclxuLmRldGFsbGUtbGFiZWwtaW5mb3tcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGNvbG9yOiMwMDAwMDBERTtcclxufSIsIi5sYWJlbC1pbmZvIHtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBjb2xvcjogIzAwMDAwMDk5O1xufVxuXG4uZGV0YWxsZS1sYWJlbC1pbmZvIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzAwMDAwMERFO1xufSJdfQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModalController, NavParams, NavController, ToastController, Platform, LoadingController, MenuController, IonList, AlertController } from '@ionic/angular';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioLaboratorio } from '../../app/services/ServicioLaboratorio';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\n//moment\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-modal-operacion-cita',\r\n  templateUrl: './modal-operacion-cita.page.html',\r\n  styleUrls: ['./modal-operacion-cita.page.scss'],\r\n})\r\nexport class ModalOperacionCitaPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  //textColor Directive\r\n  textColor = '#FFFFFF';\r\n  public nombreUsuario;\r\n  public usuarioAps;\r\n  public user;\r\n  public userColor;\r\n  public cita;\r\n  botonReservar = {\r\n    Titulo: 'RESERVAR',\r\n    Visible: false,\r\n    Operacion: 'booked',\r\n    Color: 'primary',\r\n    Alert: '¿Está seguro de reservar la cita?'\r\n  }\r\n  botonConfirmar = {\r\n    Titulo: 'CONFIRMAR',\r\n    Visible: false,\r\n    Operacion: 'confirmed',\r\n    Color: 'primary',\r\n    Alert: '¿Está seguro de confirmar la cita?'\r\n  }\r\n  botonCancelar = {\r\n    Titulo: 'ANULAR',\r\n    Visible: false,\r\n    Operacion: 'cancelled',\r\n    Color: 'danger',\r\n    Alert: '¿Está seguro de anular la cita?'\r\n  }\r\n  public titulo;\r\n  //para procesar\r\n  estaCargando = false;\r\n  tituloLoading = '';\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public navParams: NavParams,\r\n    public utiles: ServicioUtiles,\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public platform: Platform,\r\n    public menu: MenuController,\r\n    public loading: LoadingController,\r\n    private lab: ServicioLaboratorio,\r\n    private agendar: ServicioCitas,\r\n    private alertController: AlertController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    moment.locale('es');\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    this.cita = JSON.parse(this.navParams.get('cita'));\r\n    //this.operacion = this.navParams.get('operacion');\r\n    //this.nombreUsuario = navParams.get('NombreUsuario');\r\n    this.user = JSON.parse(sessionStorage.UsuarioAps);\r\n    this.userColor = this.user.Color;\r\n    this.miColor = this.utiles.entregaColor(this.user);\r\n    if (this.cita) {\r\n      /*\r\n      proposed | pending | booked | confirmed | fulfilled | cancelled | noshow\r\n      */\r\n      if (this.cita.Estado == 'proposed') {\r\n        this.titulo = 'Reserva de horas';\r\n        this.botonReservar.Visible = true;\r\n        this.botonCancelar.Visible = false;\r\n        this.botonConfirmar.Visible = false;\r\n      }\r\n      else if (this.cita.Estado == 'booked') {\r\n        //si esta booked se puede confirmar\r\n        this.titulo = 'Confirmar/Anular hora';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = true;\r\n        this.botonConfirmar.Visible = true;\r\n      }\r\n      else if (this.cita.Estado == 'confirmed') {\r\n        //si esta booked se puede confirmar\r\n        this.titulo = 'Anular hora';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = true;\r\n        this.botonConfirmar.Visible = false;\r\n      }\r\n      else {\r\n        this.titulo = 'No Cita';\r\n        this.botonReservar.Visible = false;\r\n        this.botonCancelar.Visible = false;\r\n        this.botonConfirmar.Visible = false;\r\n\r\n      }\r\n      //console.log(this.cita);\r\n      //console.log(this.operacion);\r\n\r\n    }\r\n  }\r\n  dismiss() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  transformDate(value, format) {\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n\r\n  async accionCita(boton) {\r\n    var idPaciente = this.cita.IdPaciente;\r\n    var idCita = this.cita.IdCita;\r\n    var accion = boton.Operacion;\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner: null,\r\n    });\r\n    this.estaCargando = true;\r\n    this.tituloLoading = 'Procesando cita';\r\n\r\n    await loader.present().then(async () => {\r\n      var retorno = null;\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.agendar.getOperacionCita(idCita, idPaciente, accion).subscribe((response: any) => {\r\n          this.procesarRespuesta(response, loader, accion);\r\n        })\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        //this.cargarDatosNative(mesConsultar, annoConsultar, loader);\r\n        this.agendar.getOperacionCitaNative(idCita, idPaciente, accion).then((responseData: any) => {\r\n          var response = JSON.parse(responseData.data);\r\n          this.procesarRespuesta(response, loader, accion);\r\n        })\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n  procesarRespuesta(data, loader, accion) {\r\n    var retorno = null;\r\n    if (data && data.Mensaje) {\r\n      if (data.Mensaje.Codigo == 'correcto') {\r\n        //booked, confirmed, cancelled\r\n        //todo bien\r\n        this.estaCargando = false;\r\n        this.tituloLoading = '';\r\n\r\n        if (accion === 'booked') {\r\n          this.utiles.presentToast('Cita reservada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'confirmed') {\r\n          this.utiles.presentToast('Cita confirmada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'cancelled') {\r\n          this.utiles.presentToast('Cita anulada con éxito!!', 'bottom', 3000);\r\n        }\r\n        retorno = data;\r\n      }\r\n      else {\r\n        this.utiles.presentToast(data.Mensaje.Detalle.Texto, 'middle', 2000);\r\n      }\r\n    }\r\n    else {\r\n      //error en la operacion\r\n      this.estaCargando = false;\r\n      this.tituloLoading = '';\r\n      this.utiles.presentToast('Error en la operación', 'middle', 2000);\r\n    }\r\n    loader.dismiss();\r\n    //ACA SE DEBE ACTUALIZAR LA PAGINA DE AGENDA DISPONIBLE.\r\n    this.modalCtrl.dismiss(\r\n      {\r\n        retorno: retorno,\r\n        accion: accion\r\n      }\r\n    );\r\n  }\r\n  traduceString(texto) {\r\n    return this.utiles.traduceString(texto);\r\n  }\r\n\r\n  async presentAlertConfirm(boton) {\r\n    var titulo = '';\r\n\r\n    const alert = await this.alertController.create({\r\n      header: boton.Titulo,\r\n      message: boton.Alert,\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'danger',\r\n          handler: (blah) => {\r\n            console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Si',\r\n          cssClass: 'success',\r\n          handler: () => {\r\n            //aca debemos realizar la operación\r\n            this.accionCita(boton);\r\n            //console.log('Confirm Okay');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  transformDateIso(dateString) {\r\n    var retorno = \"\";\r\n    var parteT = dateString.split(\"T\");\r\n    if (parteT && parteT.length == 2) {\r\n      var partes = parteT[1].split(\":\");\r\n      if (partes && partes.length > 1) {\r\n        retorno = partes[0] + \":\" + partes[1];\r\n      }\r\n    }\r\n    return retorno;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}