{"version":3,"sources":["webpack:///src/app/modal-ajustes/modal-ajustes.page.html","webpack:///src/app/modal-ajustes/modal-ajustes.page.scss","webpack:///src/app/modal-ajustes/modal-ajustes.page.ts"],"names":["ModalAjustesPage","modalCtrl","navParams","utiles","navCtrl","toast","platform","menu","loading","img","image","lastImage","nombrePaciente","color","miColor","usuarioAps","JSON","parse","get","UrlImagen","entregaColor","Nombres","ApellidoPaterno","ApellidoMaterno","console","log","dismiss","$event","fileP","target","files","size","putImagen","presentToast","uspId","Id","toString","create","message","duration","loader","present","then","isAppOnDevice","subscribe","data","URL_FOTOS","sessionStorage","UsuarioAps","nuevoUsuarioAps","setItem","stringify","usuariosFamilia","getItem","length","forEach","usuario","putImagenNative","colorGuardar","putColor","Color","localStorage","putColorNative","cambiaColorLocalStorage","error","registro","navigationExtras","queryParams","EstaEditando","navigateRoot","selector","template"],"mappings":"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","file":"default~familia-familia-module~modal-ajustes-modal-ajustes-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title class=\\\"home\\\">Ajustes {{nombrePaciente}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" class=\\\"pdr10\\\" (click)=\\\"dismiss()\\\">\\r\\n      <ion-icon class=\\\"home\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <!-- la imagen -->\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n     <!--  <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->\\r\\n      <ion-card-title>Mi imagen</ion-card-title>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <div>\\r\\n        <img [src]=\\\"image\\\" *ngIf=\\\"image\\\" />\\r\\n      </div>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  <!-- control abrir archivos -->\\r\\n  <ion-list lines=\\\"none\\\">\\r\\n    <ion-item>\\r\\n      <ion-note id=\\\"profile_image\\\" color=\\\"primary\\\">Seleccione el archivo</ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-input  type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"changeListener($event)\\\"></ion-input>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <ion-row class=\\\"ion-padding\\\">\\r\\n    \\r\\n<!--     <button  class=\\\"button-registrarse\\\" mat-button\\r\\n          color=\\\"primary\\\">Cambiar mis datos y/o clave</button> -->\\r\\n          <button mat-raised-button color=\\\"primary\\\" (click)=\\\"abrirEditar()\\\" style=\\\"width: 90%; margin-left: 5%; height:36px;background: #3880ff;color:white;\\\" >Cambiar mis datos y/o clave</button>\\r\\n  </ion-row>\\r\\n  <!-- los colores -->\\r\\n  <!-- la paleta de colores la comentamos ya que desde aca debería modificar su perfil -->\\r\\n<!--   <ion-card>\\r\\n    <ion-grid>\\r\\n      <ion-card-content>\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"5\\\">\\r\\n              <ion-label stacked class=\\\"label-seleccione\\\">Color Seleccionado:</ion-label>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\">\\r\\n            <div class=\\\"col-color\\\" [ngStyle]=\\\"{'background-color': color}\\\" style=\\\"height: 100%; width: 100%;\\\"></div>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"4\\\" class=\\\"ion-text-right\\\">\\r\\n            <ion-button size=\\\"small\\\" (click)=\\\"putColor()\\\">Guardar</ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card-content>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#330000\\\" (click)=\\\"setColor('#330000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#331900\\\" (click)=\\\"setColor('#331900')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#333300\\\" (click)=\\\"setColor('#333300')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#193300\\\" (click)=\\\"setColor('#193300')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#003300\\\" (click)=\\\"setColor('#003300')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#003319\\\" (click)=\\\"setColor('#003319')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#003333\\\" (click)=\\\"setColor('#003333')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#001933\\\" (click)=\\\"setColor('#001933')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#000033\\\" (click)=\\\"setColor('#000033')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#190033\\\" (click)=\\\"setColor('#190033')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#330033\\\" (click)=\\\"setColor('#330033')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#330019\\\" (click)=\\\"setColor('#330019')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#000000\\\" (click)=\\\"setColor('#000000')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#660000\\\" (click)=\\\"setColor('#660000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#663300\\\" (click)=\\\"setColor('#663300')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#666600\\\" (click)=\\\"setColor('#666600')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#336600\\\" (click)=\\\"setColor('#336600')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#006600\\\" (click)=\\\"setColor('#006600')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#006633\\\" (click)=\\\"setColor('#006633')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#006666\\\" (click)=\\\"setColor('#006666')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#003366\\\" (click)=\\\"setColor('#003366')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#000066\\\" (click)=\\\"setColor('#000066')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#330066\\\" (click)=\\\"setColor('#330066')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#660066\\\" (click)=\\\"setColor('#660066')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#660033\\\" (click)=\\\"setColor('#660033')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#202020\\\" (click)=\\\"setColor('#202020')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#990000\\\" (click)=\\\"setColor('#990000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#994C00\\\" (click)=\\\"setColor('#994C00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#999900\\\" (click)=\\\"setColor('#999900')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#4C9900\\\" (click)=\\\"setColor('#4C9900')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#009900\\\" (click)=\\\"setColor('#009900')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00994C\\\" (click)=\\\"setColor('#00994C')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#009999\\\" (click)=\\\"setColor('#009999')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#004C99\\\" (click)=\\\"setColor('#004C99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#000099\\\" (click)=\\\"setColor('#000099')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#4C0099\\\" (click)=\\\"setColor('#4C0099')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#990099\\\" (click)=\\\"setColor('#990099')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99004C\\\" (click)=\\\"setColor('#99004C')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#404040\\\" (click)=\\\"setColor('#404040')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#CC0000\\\" (click)=\\\"setColor('#CC0000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CC6600\\\" (click)=\\\"setColor('#CC6600')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCCC00\\\" (click)=\\\"setColor('#CCCC00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#66CC00\\\" (click)=\\\"setColor('#66CC00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00CC00\\\" (click)=\\\"setColor('#00CC00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00CC66\\\" (click)=\\\"setColor('#00CC66')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00CCCC\\\" (click)=\\\"setColor('#00CCCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#0066CC\\\" (click)=\\\"setColor('#0066CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#0000CC\\\" (click)=\\\"setColor('#0000CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#6600CC\\\" (click)=\\\"setColor('#6600CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CC00CC\\\" (click)=\\\"setColor('#CC00CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CC0066\\\" (click)=\\\"setColor('#CC0066')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#606060\\\" (click)=\\\"setColor('#606060')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#FF0000\\\" (click)=\\\"setColor('#FF0000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF8000\\\" (click)=\\\"setColor('#FF8000')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFF00\\\" (click)=\\\"setColor('#FFFF00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#80FF00\\\" (click)=\\\"setColor('#80FF00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00FF00\\\" (click)=\\\"setColor('#00FF00')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00FF80\\\" (click)=\\\"setColor('#00FF80')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#00FFFF\\\" (click)=\\\"setColor('#00FFFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#0080FF\\\" (click)=\\\"setColor('#0080FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#0000FF\\\" (click)=\\\"setColor('#0000FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#7F00FF\\\" (click)=\\\"setColor('#7F00FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF00FF\\\" (click)=\\\"setColor('#FF00FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF007F\\\" (click)=\\\"setColor('#FF007F')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#808080\\\" (click)=\\\"setColor('#808080')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#FF3333\\\" (click)=\\\"setColor('#FF3333')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF9933\\\" (click)=\\\"setColor('#FF9933')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFF33\\\" (click)=\\\"setColor('#FFFF33')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99FF33\\\" (click)=\\\"setColor('#99FF33')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#33FF33\\\" (click)=\\\"setColor('#33FF33')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#33FF99\\\" (click)=\\\"setColor('#33FF99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#33FFFF\\\" (click)=\\\"setColor('#33FFFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#3399FF\\\" (click)=\\\"setColor('#3399FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#3333FF\\\" (click)=\\\"setColor('#3333FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#9933FF\\\" (click)=\\\"setColor('#9933FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF33FF\\\" (click)=\\\"setColor('#FF33FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF3399\\\" (click)=\\\"setColor('#FF3399')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#A0A0A0\\\" (click)=\\\"setColor('#A0A0A0')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#FF6666\\\" (click)=\\\"setColor('#FF6666')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFB266\\\" (click)=\\\"setColor('#FFB266')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFF66\\\" (click)=\\\"setColor('#FFFF66')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#B2FF66\\\" (click)=\\\"setColor('#B2FF66')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#66FF66\\\" (click)=\\\"setColor('#66FF66')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#66FFB2\\\" (click)=\\\"setColor('#66FFB2')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#66FFFF\\\" (click)=\\\"setColor('#66FFFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#66B2FF\\\" (click)=\\\"setColor('#66B2FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#6666FF\\\" (click)=\\\"setColor('#6666FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#B266FF\\\" (click)=\\\"setColor('#B266FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF66FF\\\" (click)=\\\"setColor('#FF66FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF66B2\\\" (click)=\\\"setColor('#FF66B2')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#C0C0C0\\\" (click)=\\\"setColor('#C0C0C0')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#FF9999\\\" (click)=\\\"setColor('#FF9999')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFCC99\\\" (click)=\\\"setColor('#FFCC99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFF99\\\" (click)=\\\"setColor('#FFFF99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCFF99\\\" (click)=\\\"setColor('#CCFF99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99FF99\\\" (click)=\\\"setColor('#99FF99')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99FFCC\\\" (click)=\\\"setColor('#99FFCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99FFFF\\\" (click)=\\\"setColor('#99FFFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#99CCFF\\\" (click)=\\\"setColor('#99CCFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#9999FF\\\" (click)=\\\"setColor('#9999FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CC99FF\\\" (click)=\\\"setColor('#CC99FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF99FF\\\" (click)=\\\"setColor('#FF99FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FF99CC\\\" (click)=\\\"setColor('#FF99CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#E0E0E0\\\" (click)=\\\"setColor('#E0E0E0')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col style=\\\"background:#FFCCCC\\\" (click)=\\\"setColor('#FFCCCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFE5CC\\\" (click)=\\\"setColor('#FFE5CC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFFCC\\\" (click)=\\\"setColor('#FFFFCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#E5FFCC\\\" (click)=\\\"setColor('#E5FFCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCFFCC\\\" (click)=\\\"setColor('#CCFFCC')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCFFE5\\\" (click)=\\\"setColor('#CCFFE5')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCFFFF\\\" (click)=\\\"setColor('#CCFFFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCE5FF\\\" (click)=\\\"setColor('#CCE5FF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#CCCCFF\\\" (click)=\\\"setColor('#CCCCFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#E5CCFF\\\" (click)=\\\"setColor('#E5CCFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFCCFF\\\" (click)=\\\"setColor('#FFCCFF')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFCCE5\\\" (click)=\\\"setColor('#FFCCE5')\\\">&nbsp;</ion-col>\\r\\n        <ion-col style=\\\"background:#FFFFFF\\\" (click)=\\\"setColor('#FFFFFF')\\\">&nbsp;</ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </ion-card> -->\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \".label-seleccione {\\n  font-size: 0.8em;\\n}\\n\\n.button-registrarse {\\n  width: 80%;\\n  margin-left: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWwtYWp1c3Rlcy9GOlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXG1vZGFsLWFqdXN0ZXNcXG1vZGFsLWFqdXN0ZXMucGFnZS5zY3NzIiwic3JjL2FwcC9tb2RhbC1hanVzdGVzL21vZGFsLWFqdXN0ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7QUNDSjs7QURDQTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvbW9kYWwtYWp1c3Rlcy9tb2RhbC1hanVzdGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbC1zZWxlY2Npb25le1xyXG4gICAgZm9udC1zaXplOiAwLjhlbTtcclxufVxyXG4uYnV0dG9uLXJlZ2lzdHJhcnNle1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbn0iLCIubGFiZWwtc2VsZWNjaW9uZSB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5cbi5idXR0b24tcmVnaXN0cmFyc2Uge1xuICB3aWR0aDogODAlO1xuICBtYXJnaW4tbGVmdDogMTAlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams, NavController, ToastController, Platform,  LoadingController, MenuController } from '@ionic/angular';\r\nimport { NavigationExtras } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { environment } from 'src/environments/environment';\r\n//plugins\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { ServicioImagen } from '../services/ServicioImagen';\r\n\r\n@Component({\r\n  selector: 'app-modal-ajustes',\r\n  templateUrl: './modal-ajustes.page.html',\r\n  styleUrls: ['./modal-ajustes.page.scss'],\r\n})\r\nexport class ModalAjustesPage implements OnInit {\r\n  public userData;\r\n  public usuarioAps;\r\n  public uspId;\r\n  image: string = null;\r\n  lastImage: string = null;\r\n  nombrePaciente = '';\r\n\r\n  imagenBD;\r\n  public color: string = \"#127bdc\";\r\n  fileP: File;\r\n  //ACA QUEDE, ESTOY ARMANDO LA PANTALLA DE AJUSTES\r\n  //color\r\n  miColor = '#FF4081';\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public navParams: NavParams,\r\n    public utiles: ServicioUtiles,\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public loading: LoadingController,\r\n    private img: ServicioImagen\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    this.usuarioAps= JSON.parse(this.navParams.get('usuario'));\r\n    this.image = this.usuarioAps.UrlImagen;\r\n    this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n    this.color = this.miColor;//this.usuarioAps.Color;\r\n    this.nombrePaciente = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno + ' ' + this.usuarioAps.ApellidoMaterno;\r\n    console.log(this.usuarioAps);\r\n  }\r\n  dismiss(){\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  setColor(color){\r\n    this.color = color;\r\n  }\r\n  changeListener($event): void {\r\n    //lo comentamos por mientras\r\n\r\n    /*     if (!this.utiles.isAppOnDevice()){\r\n          this.utiles.presentToast('Esta operación no esta permitida', 'center', 3000);\r\n          return;\r\n        }\r\n        else { */\r\n    this.fileP = $event.target.files[0];\r\n\r\n    if (this.fileP) {\r\n      if (this.fileP.size <= 2048000) {\r\n        this.putImagen(this.fileP);    \r\n      } else {\r\n        //this.presentToast('El tamaño de la imágen excede el máximo permitido.'); \r\n        this.utiles.presentToast('El tamaño de la imágen excede el máximo permitido.', 'center', 3000);\r\n      }\r\n    } else {\r\n      //this.presentToast('No ha seleccionado ninguna imágen válida.'); \r\n      this.utiles.presentToast('No ha seleccionado ninguna imágen válida.', 'center', 3000);\r\n    }\r\n    /*  } */\r\n\r\n  }\r\n\r\n  async putImagen(files){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n      console.log(files.size);\r\n      let loader = await this.loading.create({\r\n        message: 'Guardando...<br>Imagen del usuario.',\r\n        duration: 20000\r\n      });\r\n  \r\n      await loader.present().then(async () => {\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.img.putImagen(uspId, files).subscribe((data:any)=>{\r\n            if (data){\r\n              this.image = environment.URL_FOTOS + data;\r\n              //cambiar la imagen del usuario aps\r\n              //o de la familia\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.UrlImagen){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.UrlImagen = environment.URL_FOTOS + data;\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  //nuevoUsuarioAps.UrlImagen = environment.URL_FOTOS + data;\r\n                  nuevoUsuarioAps.UrlImagen = data;\r\n                  //debemos guardar el objeto serializado\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        //usuario.UrlImagen = environment.URL_FOTOS + data;\r\n                        usuario.UrlImagen =  data;                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n    \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n        }\r\n        else{\r\n          //lamada nativa\r\n          this.img.putImagenNative(uspId, files).then((data:any)=>{\r\n            if (data){\r\n              this.image = environment.URL_FOTOS + JSON.parse(data.data);\r\n              //cambiar la imagen del usuario aps\r\n              //o de la familia\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.UrlImagen){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.UrlImagen = environment.URL_FOTOS + JSON.parse(data.data);\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  nuevoUsuarioAps.UrlImagen = JSON.parse(data.data);\r\n                  //debemos guardar el objeto serializado\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.UrlImagen = JSON.parse(data.data);\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }                  \r\n    \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n\r\n        }\r\n      });\r\n  }\r\n  async putColor(){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n    var colorGuardar = this.color;\r\n\r\n      let loader = await this.loading.create({\r\n        message: 'Guardando...<br>Color del usuario.',\r\n        duration: 20000\r\n      });\r\n  \r\n      await loader.present().then(async () => {\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.img.putColor(uspId, colorGuardar).subscribe((data:any)=>{\r\n            if (data){\r\n              //hay que setear el color del localstorage\r\n              //this.utiles.cambiaColorLocalStorage(data);\r\n              this.color = data;\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.Color){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.Color = data;\r\n                  //sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId) {\r\n                  nuevoUsuarioAps.Color = data;\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.Color = data;\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n    \r\n              }\r\n              localStorage.setItem('MI_COLOR', data);\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n        }\r\n        else{\r\n          //lamada nativa\r\n          this.img.putColorNative(uspId, colorGuardar).then((data:any)=>{\r\n            if (data){\r\n              this.utiles.cambiaColorLocalStorage(JSON.parse(data.data));\r\n              this.color = JSON.parse(data.data);\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.Color){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.Color = JSON.parse(data.data);\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  nuevoUsuarioAps.Color = JSON.parse(data.data);\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.Color = JSON.parse(data.data);\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          },\r\n          (error)=>{\r\n            loader.dismiss();\r\n            this.utiles.presentToast(error, 'bottom', 4000);\r\n          }\r\n          )\r\n\r\n        }\r\n      });\r\n  }\r\n  abrirEditar(){\r\n    let registro = null;\r\n    if (localStorage.getItem('REGISTRO')){\r\n      registro = JSON.parse(localStorage.getItem('REGISTRO'));\r\n      const navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          usuario: JSON.stringify(registro),\r\n          EstaEditando: true\r\n        }\r\n      };\r\n      this.dismiss();\r\n      this.navCtrl.navigateRoot(['registro-usuario'], navigationExtras);\r\n    }\r\n  }\r\n\r\n/*   putColor(){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n    var colorGuardar = this.color;\r\n    this.loading = true;\r\n    this.img.putColor(uspId, colorGuardar).subscribe(\r\n      data => {\r\n        if (data){\r\n          this.color = data.json();\r\n          if (this.usuarioAps) {\r\n            if (this.usuarioAps.Color){\r\n              //dejamos al usuario con la nueva imagen\r\n              this.usuarioAps.Color = data.json();\r\n            }\r\n          }\r\n          if (sessionStorage.UsuarioAps) {\r\n            var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n            //cambiamos este elemento solo si el usuario existe\r\n            if (nuevoUsuarioAps.Id == uspId)\r\n              nuevoUsuarioAps.Color = data.json();\r\n\r\n          }\r\n        }\r\n      },\r\n      err => { \r\n        this.loading = false; \r\n        console.error(err);\r\n        this.presentToast('Se ha presentado un error al guardar el color seleccionado, contacte al administrador.'); \r\n      },\r\n      () => {\r\n        this.loading = false; \r\n        console.log('get img ok');\r\n        this.presentToast('El color de su perfil ha sido cambiado con éxito. Recuerda reiniciar tu app para visualizar el cambio');\r\n      }\r\n    );\r\n  } */\r\n\r\n\r\n}"]}