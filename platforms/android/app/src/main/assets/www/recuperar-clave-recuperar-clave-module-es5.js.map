{"version":3,"sources":["webpack:///src/app/recuperar-clave/recuperar-clave.page.html","webpack:///src/app/recuperar-clave/recuperar-clave.module.ts","webpack:///src/app/recuperar-clave/recuperar-clave.page.scss","webpack:///src/app/recuperar-clave/recuperar-clave.page.ts"],"names":["RecuperarClavePageModule","imports","forChild","path","component","declarations","RecuperarClavePage","navCtrl","utiles","servicioGeo","loading","formBuilder","expEmail","cargarForma","forma","required","pattern","navigateRoot","correo","controls","value","presentToast","create","message","duration","loader","present","then","isAppOnDevice","postRecuperarClave","subscribe","response","CodigoMensaje","Mensaje","dismiss","abrirLogin","postRecuperarClaveNative","respuesta","JSON","parse","data","error","selector","template"],"mappings":"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","file":"recuperar-clave-recuperar-clave-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <!-- esto lo comentamos ya que se decidió no usar color de header personalizado -->\\n  <!-- <ion-toolbar [style.--background]=\\\"miColor\\\" mode=\\\"md\\\"> -->\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/nuevo-login\\\" class=\\\"fcw\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"fcw\\\">Recuperar contraseña</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-row class=\\\"texto-1 mt-32\\\">\\n    Ingresa tu correo electrónico, te enviaremos un correo con tu contraseña, recuerda revisar de igual manera los spam o correo no deseado.\\n  </ion-row>\\n  <form [formGroup]=\\\"forma\\\" novalidate>\\n      <ion-row class=\\\"mt-32\\\">\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Correo electrónico</mat-label>\\n          <input matInput placeholder=\\\"Correo electrónico\\\" formControlName=\\\"correo\\\" name=\\\"correo\\\" required>\\n          <mat-error *ngIf=\\\"f.correo.errors && f.correo.errors.required\\\">Correo requerido</mat-error>\\n          <mat-error [hidden]=\\\"!(f.correo.errors && f.correo.errors.pattern)\\\">Correo inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n      <ion-row class=\\\"mt-32\\\">\\n        <button [disabled]=\\\"forma.invalid\\\" mat-flat-button color=\\\"primary\\\" style=\\\"width: 90%; margin-left: 5%;\\\"\\n          (click)=\\\"submit()\\\">CONTINUAR</button>\\n      </ion-row>\\n  </form>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\n\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { RecuperarClavePage } from './recuperar-clave.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: RecuperarClavePage\n      }\n    ])\n  ],\n  declarations: [RecuperarClavePage]\n})\nexport class RecuperarClavePageModule {}\n","export default \".mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n\\n.mt-52 {\\n  margin-top: 3.25em;\\n}\\n\\n.texto-1 {\\n  font-size: 1em;\\n  color: #000000DE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVjdXBlcmFyLWNsYXZlL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGFwcFxccmVjdXBlcmFyLWNsYXZlXFxyZWN1cGVyYXItY2xhdmUucGFnZS5zY3NzIiwic3JjL2FwcC9yZWN1cGVyYXItY2xhdmUvcmVjdXBlcmFyLWNsYXZlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FDQ0o7O0FEQ0E7RUFDSSxnQkFBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtBQ0dKOztBRERBO0VBQ0ksaUJBQUE7QUNJSjs7QURGQTtFQUNJLGtCQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtBQ01KOztBREpBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FDT0oiLCJmaWxlIjoic3JjL2FwcC9yZWN1cGVyYXItY2xhdmUvcmVjdXBlcmFyLWNsYXZlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tdC0zMntcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcbn1cclxuLm10LTI0e1xyXG4gICAgbWFyZ2luLXRvcDogMjRweDtcclxufVxyXG4ubXQtODB7XHJcbiAgICBtYXJnaW4tdG9wOiA1ZW07XHJcbn1cclxuLm10LTQwe1xyXG4gICAgbWFyZ2luLXRvcDogMi41ZW07XHJcbn1cclxuLm10LTM2e1xyXG4gICAgbWFyZ2luLXRvcDogMi4yNWVtO1xyXG59XHJcbi5tdC01MntcclxuICAgIG1hcmdpbi10b3A6IDMuMjVlbTtcclxufVxyXG4udGV4dG8tMXtcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxuICAgIFxyXG59IiwiLm10LTMyIHtcbiAgbWFyZ2luLXRvcDogMzJweDtcbn1cblxuLm10LTI0IHtcbiAgbWFyZ2luLXRvcDogMjRweDtcbn1cblxuLm10LTgwIHtcbiAgbWFyZ2luLXRvcDogNWVtO1xufVxuXG4ubXQtNDAge1xuICBtYXJnaW4tdG9wOiAyLjVlbTtcbn1cblxuLm10LTM2IHtcbiAgbWFyZ2luLXRvcDogMi4yNWVtO1xufVxuXG4ubXQtNTIge1xuICBtYXJnaW4tdG9wOiAzLjI1ZW07XG59XG5cbi50ZXh0by0xIHtcbiAgZm9udC1zaXplOiAxZW07XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder, FormControl, ValidatorFn } from '@angular/forms';\n//servicios\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioGeo } from '../../app/services/ServicioGeo';\nimport { NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-recuperar-clave',\n  templateUrl: './recuperar-clave.page.html',\n  styleUrls: ['./recuperar-clave.page.scss'],\n})\nexport class RecuperarClavePage implements OnInit {\n  forma: FormGroup;\n  expEmail = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/gm;\n  constructor(\n    private navCtrl: NavController,\n    public utiles: ServicioUtiles,\n    public servicioGeo: ServicioGeo,\n    public loading: LoadingController,\n    private formBuilder: FormBuilder\n  ) { }\n\n  ngOnInit() {\n    this.cargarForma();\n  }\n  cargarForma(){\n    this.forma = new FormGroup({\n      'correo': new FormControl('', [Validators.required, Validators.pattern(this.expEmail)])      \n    });\n  }\n  abrirLogin(){\n    this.navCtrl.navigateRoot('nuevo-login');\n  }\n\n  async submit(){\n    let correo = this.forma.controls.correo ? this.forma.controls.correo.value : '';\n    if (correo == ''){\n      this.utiles.presentToast('Debe ingresar un correo', 'middle', 2000);\n      return;\n    }\n    \n    let loader = await this.loading.create({\n      message: 'Verificando...<br>correo',\n      duration: 10000\n    });\n\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.postRecuperarClave(correo).subscribe((response: any)=>{\n          if (response.CodigoMensaje == 0){\n            //aca todo ok\n            this.utiles.presentToast(response.Mensaje, 'middle', 3000);\n            loader.dismiss();\n            //llevar a login\n            this.abrirLogin();\n          }\n          else{\n            this.utiles.presentToast(response.Mensaje, 'middle', 3000);\n            loader.dismiss();\n          }\n        });\n      }\n      else{\n        //llamada nativa\n        this.servicioGeo.postRecuperarClaveNative(correo).then((response: any)=>{\n          let respuesta = JSON.parse(response.data);\n          if (respuesta.CodigoMensaje == 0){\n            //aca todo ok\n            this.utiles.presentToast(respuesta.Mensaje, 'middle', 3000);\n            loader.dismiss();\n            //llevar a login\n            this.abrirLogin();\n          }\n          else{\n            this.utiles.presentToast(respuesta.Mensaje, 'middle', 3000);\n            loader.dismiss();\n          }\n        },\n        (error)=>{\n          loader.dismiss();\n          this.utiles.presentToast('Ocurrió un error de verificación', 'bottom', 4000);\n        }\n        );\n      }\n    })\n\n  }\n\n    //para validar\n    get f() { return this.forma.controls; }\n\n\n\n}"]}