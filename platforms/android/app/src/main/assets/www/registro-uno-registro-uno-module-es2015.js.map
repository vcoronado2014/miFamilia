{"version":3,"sources":["./src/app/registro-uno/registro-uno.page.html","./src/app/registro-uno/registro-uno.module.ts","./src/app/registro-uno/registro-uno.page.scss","./src/app/registro-uno/registro-uno.page.ts"],"names":[],"mappings":"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","file":"registro-uno-registro-uno-module-es2015.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\">\\n  <ion-row class=\\\"mt-24\\\">\\n    <button mat-icon-button aria-label=\\\"Example icon-button with a heart icon\\\" (click)=\\\"volver()\\\">\\n      <mat-icon>arrow_back_ios</mat-icon>\\n    </button>\\n  </ion-row>\\n  <ion-row class=\\\"texto-1 mt-52\\\">\\n    ¡Ayudados a conocerte!, danos tu Run.\\n  </ion-row>\\n  <form [formGroup]=\\\"forma\\\" novalidate>\\n      <ion-row class=\\\"mt-32\\\">\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Run (Sin puntos y con guión)</mat-label>\\n          <input matInput placeholder=\\\"12535301-1\\\" formControlName=\\\"run\\\" name=\\\"run\\\" required>\\n          <mat-error *ngIf=\\\"f.run.errors && f.run.errors.required\\\">Run requerido</mat-error>\\n          <mat-error *ngIf=\\\"f.run.errors && f.run.errors.runInvalido == false\\\">Rut inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n      <ion-row class=\\\"mt-32\\\">\\n        <button [disabled]=\\\"forma.invalid\\\" mat-flat-button color=\\\"primary\\\" style=\\\"width: 90%; margin-left: 5%;\\\"\\n          (click)=\\\"verificaRegistro()\\\">CONTINUAR</button>\\n      </ion-row>\\n  </form>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\n\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { RegistroUnoPage } from './registro-uno.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: RegistroUnoPage\n      }\n    ])\n  ],\n  declarations: [RegistroUnoPage]\n})\nexport class RegistroUnoPageModule {}","export default \".mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n\\n.mt-52 {\\n  margin-top: 3.25em;\\n}\\n\\n.texto-1 {\\n  font-size: 1em;\\n  color: #000000DE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVnaXN0cm8tdW5vL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGFwcFxccmVnaXN0cm8tdW5vXFxyZWdpc3Ryby11bm8ucGFnZS5zY3NzIiwic3JjL2FwcC9yZWdpc3Ryby11bm8vcmVnaXN0cm8tdW5vLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FDQ0o7O0FEQ0E7RUFDSSxnQkFBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtBQ0dKOztBRERBO0VBQ0ksaUJBQUE7QUNJSjs7QURGQTtFQUNJLGtCQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtBQ01KOztBREpBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FDT0oiLCJmaWxlIjoic3JjL2FwcC9yZWdpc3Ryby11bm8vcmVnaXN0cm8tdW5vLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tdC0zMntcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcbn1cclxuLm10LTI0e1xyXG4gICAgbWFyZ2luLXRvcDogMjRweDtcclxufVxyXG4ubXQtODB7XHJcbiAgICBtYXJnaW4tdG9wOiA1ZW07XHJcbn1cclxuLm10LTQwe1xyXG4gICAgbWFyZ2luLXRvcDogMi41ZW07XHJcbn1cclxuLm10LTM2e1xyXG4gICAgbWFyZ2luLXRvcDogMi4yNWVtO1xyXG59XHJcbi5tdC01MntcclxuICAgIG1hcmdpbi10b3A6IDMuMjVlbTtcclxufVxyXG4udGV4dG8tMXtcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxuICAgIFxyXG59IiwiLm10LTMyIHtcbiAgbWFyZ2luLXRvcDogMzJweDtcbn1cblxuLm10LTI0IHtcbiAgbWFyZ2luLXRvcDogMjRweDtcbn1cblxuLm10LTgwIHtcbiAgbWFyZ2luLXRvcDogNWVtO1xufVxuXG4ubXQtNDAge1xuICBtYXJnaW4tdG9wOiAyLjVlbTtcbn1cblxuLm10LTM2IHtcbiAgbWFyZ2luLXRvcDogMi4yNWVtO1xufVxuXG4ubXQtNTIge1xuICBtYXJnaW4tdG9wOiAzLjI1ZW07XG59XG5cbi50ZXh0by0xIHtcbiAgZm9udC1zaXplOiAxZW07XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder, FormControl, ValidatorFn } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n//servicios\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioGeo } from '../../app/services/ServicioGeo';\nimport { NavigationExtras } from '@angular/router';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-registro-uno',\n  templateUrl: './registro-uno.page.html',\n  styleUrls: ['./registro-uno.page.scss'],\n})\nexport class RegistroUnoPage implements OnInit {\n  rut;\n  cargando = false;\n  registroIncompleto: any;\n  //formulario\n  forma: FormGroup;\n  //rut = new FormControl('', [Validators.required, this.runValidator]);\n  //por defecto dejamos el tipo movimiento en 1 solicitud de login\n  //despues lo podemos recibir como parametro para cambiarlo\n  tipoMovimiento = '1';\n  estaAgregandoFamilia = false;\n  constructor(\n    private navCtrl: NavController,\n    public utiles: ServicioUtiles,\n    public servicioGeo: ServicioGeo,\n    public loading: LoadingController,\n    private formBuilder: FormBuilder,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n  ) { \n\n  }\n\n  ngOnInit() {\n    moment.locale('es');\n    this.activatedRoute.queryParams.subscribe(params => {\n      if (params && params.estaAgregandoFamilia) {\n        this.estaAgregandoFamilia = true;\n      }\n    });\n    this.cargarForma();\n  }\n  cargarForma(){\n    this.forma = new FormGroup({\n      'run': new FormControl('', [Validators.required])      \n    },{ validators: this.RunValidator });\n  }\n\n  volver(){\n    this.navCtrl.navigateRoot('nuevo-login');\n  }\n  //para validar\n  get f() { return this.forma.controls; }\n  async verificaRegistro(){\n    let run = this.forma.controls.run;\n    let idDispositivo = this.utiles.entregaIdDispositivo();\n\n    this.cargando = true;\n    let loader = await this.loading.create({\n      message: 'Verificando...<br>Registro',\n      duration: 3000\n    });\n\n    //primero validamos nuevamente si cuenta con registro dentro de la app por run\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.getRegistroAppRun(run.value, idDispositivo).subscribe((response:any)=>{\n          //procesar\n          //this.procesarInfo(response, loader);\n          this.procesarRespuestaRegistro(response, loader);\n        })\n      }\n      else{\n        //llamada nativa\n        this.servicioGeo.getRegistroAppNativeRun(run.value, idDispositivo).then((response:any)=>{\n          var data = JSON.parse(response.data);\n          this.procesarRespuestaRegistro(data, loader);\n        },\n        (error)=>{\n          this.utiles.presentToast('Ocurrió un error de obtención identificador', 'bottom', 4000);\n          loader.dismiss();\n        }\n        );\n      }\n    });\n\n  }\n  abrirLogin(){\n    this.navCtrl.navigateRoot('nuevo-login');\n  }\n  procesarRespuestaRegistro(registro, loader){\n    if (registro && registro != null){\n      //verificamos si tiene su registro completo\n      var tieneCorreo = !(registro.CorreoElectronico == null || registro.CorreoElectronico == \"\" || registro.CorreoElectronico == undefined);\n      var tienePassword = !(registro.Password == null || registro.Password == \"\" || registro.Password == undefined);\n      var tieneRun = !(registro.Run == null || registro.Run == \"\" || registro.Run == undefined);\n      var tieneUsuario = !(registro.NombreUsuario == null || registro.NombreUsuario == \"\" || registro.NombreUsuario == undefined);\n      if (tieneCorreo && tienePassword && tieneRun && tieneUsuario){\n        //tiene registro completo, enviarlo a la pagina de login\n        this.utiles.presentToast('Usted ya tiene registro', 'middle', 5000);\n        loader.dismiss();\n        if (this.estaAgregandoFamilia == false){\n          this.abrirLogin();\n        }\n        else{\n          //si esta agregando familia hay que crear lo que corresponde y avisar al\n          //usuario que fue creado o no exito\n          console.log('ESTA AGREGANDO FAMILIA');\n        }\n        \n      }\n      else{\n        //su registro esta incompleto, derivarlo a la pagina de registro de la app\n        this.registroIncompleto = registro;\n        //pasar como parametro el registro incompleto a la otra pantalla para que pueda completarlo\n        //******* LLAMAR A LA PAGINA DE REGISTRO  *************/\n        this.utiles.presentToast('Su registro está incompleto', 'middle', 5000);\n        loader.dismiss();\n        this.irARegistro(this.estaAgregandoFamilia);\n      }\n    }\n    else{\n      //no tiene registro, llamar a la api para buscarlo en rayen\n      loader.dismiss();\n      //llamamos a enrolamiento\n      this.verficarEnrolamientoRayen();\n      //console.log('Buscarlo en rayen');\n\n    }\n  }\n  irARegistro(agregaFamilia){\n    //enviar registroIncompleto\n    if (this.registroIncompleto){\n      let query = {\n        usuario: null,\n        estaAgregandoFamilia: null\n      };\n      query = { usuario: JSON.stringify(this.registroIncompleto), estaAgregandoFamilia : agregaFamilia }\n      const navigationExtras: NavigationExtras = {\n        queryParams: query\n      }; \n      this.navCtrl.navigateRoot(['registro-usuario'], navigationExtras);\n    }\n\n  }\n  irAClaveUnica(){\n    //debemos generar un hash de al menos 30 caracteres para enviar a clave unica (state)\n    let runUsuario = this.forma.controls.run.value;\n    let fecha = moment().format('DD-MM-YYYY HH:mm');\n    let enviar = runUsuario +'|'+fecha + '|' + this.tipoMovimiento;\n    let state = this.utiles.encriptar(enviar);\n    //guardamos en el local storage el state\n    localStorage.setItem(\"STATE_CLAVE_UNICA\", state);\n    const navigationExtras: NavigationExtras = {\n      queryParams: {\n        state: state\n      }\n    };\n    //this.navCtrl.navigateRoot('login-clave-unica');\n    this.navCtrl.navigateRoot(['login-clave-unica'], navigationExtras);\n  }\n\n  async verficarEnrolamientoRayen(){\n    let run = this.forma.controls.run;\n\n    this.cargando = true;\n    let loader = await this.loading.create({\n      message: 'Verificando...<br>Registro',\n      duration: 3000\n    });\n\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.verificaEnrolamiento(run.value).subscribe((response:any)=>{\n          //procesar\n          console.log(response);\n          this.procesaRespuestaEnrolamiento(response, loader);\n        })\n      }\n      else{\n        //llamada nativa\n        this.servicioGeo.verificaEnrolamientoNative(run.value).then((response:any)=>{\n          var data = JSON.parse(response.data);\n          console.log(data);\n          this.procesaRespuestaEnrolamiento(data, loader);\n        },\n        (error)=>{\n          this.utiles.presentToast('Ocurrió un error de obtención identificador', 'bottom', 4000);\n          loader.dismiss();\n        }\n        );\n      }\n    })\n\n  }\n  procesaRespuestaEnrolamiento(usuarioAps, loader){\n    if (usuarioAps.RespuestaBase.CodigoMensaje == 0){\n      let usuario = usuarioAps.UsuarioAps;\n      this.registroIncompleto = {\n        Activo: 1,\n        Apellidos: usuario.ApellidoPaterno == null ? '' : usuario.ApellidoPaterno + ' ' + usuario.ApellidoMaterno == null ? '': usuario.ApellidoMaterno,\n        Apodo: \"\",\n        Avatar: \"\",\n        Comuna: localStorage.getItem(\"comuna\"),\n        CorreoElectronico: \"\",\n        Eliminado: 0,\n        FechaBaja: \"0001-01-01T00:00:00\",\n        FechaNacimiento: \"0001-01-01T00:00:00\",\n        FechaRegistro: \"0001-01-01T00:00:00\",\n        Id: 0,\n        IdDispositivo: localStorage.getItem(\"token_dispositivo\"),\n        Latitud: sessionStorage.getItem(\"latitud\"),\n        Longitud: sessionStorage.getItem(\"longitud\"),\n        //registro mediante el enrolamiento\n        ModoRegistro: 2,\n        NombreUsuario: \"\",\n        Nombres: usuario.Nombres,\n        Pais: localStorage.getItem(\"pais\"),\n        Password: \"\",\n        Plataforma: localStorage.getItem(\"plataforma\"),\n        Provincia: localStorage.getItem(\"provincia\"),\n        Run: this.utiles.insertarGuion(usuario.Rut),\n        TelefonoContacto: ''\n      }\n      loader.dismiss();\n      //acá estamos ok deberíamos mandarlo a que complete su fomrulario\n      this.irARegistro(this.estaAgregandoFamilia);\n    }\n    else {\n      //aca definitivamente debemos enviarlo a clave única\n      loader.dismiss();\n      console.log('clave unica');\n      this.irAClaveUnica();\n    }\n  }\n\n\n  RunValidator: ValidatorFn = (fg: FormGroup) => {\n    const run = fg.get('run').value;\n    if (run !== null && run !== \"\") {\n      if (this.utiles.Rut(run) == false) {\n        this.forma.controls.run.setErrors({ runInvalido: false });\n      }\n    }\n\n    return run !== null ? null : null;\n  };\n\n}"],"sourceRoot":"webpack:///"}