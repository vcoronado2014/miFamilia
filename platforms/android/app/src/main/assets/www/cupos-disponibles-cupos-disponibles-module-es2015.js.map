{"version":3,"sources":["./src/app/cupos-disponibles/cupos-disponibles.page.html","./src/app/cupos-disponibles/cupos-disponibles.module.ts","./src/app/cupos-disponibles/cupos-disponibles.page.scss","./src/app/cupos-disponibles/cupos-disponibles.page.ts"],"names":[],"mappings":"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","file":"cupos-disponibles-cupos-disponibles-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar [style.--background]=\\\"miColor\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Cupos disponibles</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label>Tipos de atención</ion-label>\\r\\n    <ion-select interface=\\\"popover\\\" (ionChange)=\\\"tipoSeleccionado($event)\\\" multiple=\\\"false\\\" value=\\\"{{comboSeleccionado}}\\\">\\r\\n      <ion-select-option *ngFor=\\\"let tipo of tiposAtencion\\\" [value]=\\\"tipo.Texto\\\">{{tipo.Texto}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"1\\\" class=\\\"ion-no-margin ion-no-padding\\\" [style.background]=\\\"miColor\\\" [style.color]=\\\"textColor\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 2em;padding-top: 10px;\\\" *ngIf=\\\"indiceActual > 0\\\" (click)=\\\"onClickCambiarSemana('ant')\\\"></ion-icon>\\r\\n      </ion-col>\\r\\n      <ion-col class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n        <ion-item [style.--background]=\\\"miColor\\\" [style.--color]=\\\"textColor\\\">\\r\\n          <ion-label class=\\\"ion-text-wrap ion-text-center titulo-semanas\\\">\\r\\n            {{semana.texto}}\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n        <ion-grid class=\\\"ion-no-margin ion-no-padding\\\">\\r\\n          <ion-row>\\r\\n            <ion-col *ngFor=\\\"let item of semana.semanas\\\" class=\\\"ion-text-center ion-padding-bottom label-fecha\\\" \\r\\n              [style.background]=\\\"item.selected ? '#3880ff' : '#3dc2ff'\\\" \\r\\n              (click)=\\\"seleccionarCuposAgrupados(item)\\\"\\r\\n              [style.color]=\\\"textColor\\\">\\r\\n              <ion-label class=\\\"ion-text-center ion-text-capitalize\\\">\\r\\n                <strong>{{item.diaStr}}</strong> \\r\\n                <!-- {{item.texto}} -->\\r\\n              </ion-label>\\r\\n              <p class=\\\"ion-text-center ion-text-capitalize\\\">\\r\\n                {{item.texto}}\\r\\n              </p>\\r\\n              <!-- <ion-badge *ngIf=\\\"item.total > 0\\\" class=\\\"badge-cita\\\" color=\\\"primary\\\">{{item.total}}</ion-badge> -->\\r\\n              <ion-badge *ngIf=\\\"item.total > 0\\\" class=\\\"badge-cita\\\" color=\\\"success\\\"><ion-icon name=\\\"checkmark\\\"></ion-icon></ion-badge>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"1\\\" class=\\\"ion-no-margin ion-no-padding\\\" [style.background]=\\\"miColor\\\" [style.color]=\\\"textColor\\\">\\r\\n        <ion-icon name=\\\"chevron-forward-outline\\\" style=\\\"font-size: 2em;padding-top: 10px;\\\" *ngIf=\\\"indiceActual < cantidadSemanas\\\" (click)=\\\"onClickCambiarSemana('sig')\\\"></ion-icon>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <div>\\r\\n   \\r\\n      <ion-list *ngFor=\\\"let cita of cuposAgrupadosSelected\\\" class=\\\"ion-padding-left\\\">\\r\\n        \\r\\n        <ion-list-header lines=\\\"inset\\\" [hidden]=\\\"contadorHorasDisponibles(cita[1].HorasDisponibles) == 0\\\">\\r\\n          <ion-label><h1>{{cita[1].MedicoPrestador.NombreCompletoMedico}}</h1></ion-label>\\r\\n          <ion-label>{{cita[0]}}</ion-label>\\r\\n        </ion-list-header>\\r\\n        <div *ngFor=\\\"let cupo of cita[1].HorasDisponibles\\\">\\r\\n          <ion-item lines=\\\"none\\\" [hidden]=\\\"!cupo.Visible\\\">\\r\\n            <ion-label class=\\\"ion-text-wrap\\\" [ngClass]=\\\"{'danger':cupo.Estado === 'cancelled'}\\\">\\r\\n              <h5><ion-icon name=\\\"navigate\\\" slot=\\\"start\\\"></ion-icon>&nbsp;{{cupo.Servicio.Nombre}}</h5>\\r\\n              <h6><ion-icon name=\\\"bandage\\\" slot=\\\"start\\\"></ion-icon>&nbsp;{{cupo.TipoAtencion}}</h6>\\r\\n              <h6 class=\\\"ion-text-capitalize\\\"><ion-icon name=\\\"alarm\\\" slot=\\\"start\\\"></ion-icon>&nbsp;{{transformDate(cupo.FechaHoraInicio, 'dddd DD MMMM YYYY')}}</h6>\\r\\n              <h6 class=\\\"ion-text-capitalize\\\">Estado: <strong>{{traduceString(cupo.Estado)}}</strong></h6>\\r\\n            </ion-label>\\r\\n            <ion-button \\r\\n              [ngClass]=\\\"{'danger-boton':cupo.Estado === 'cancelled', 'success-boton':cupo.Estado === 'booked' || cupo.Estado === 'confirmed'}\\\" \\r\\n              (click)=\\\"citaSelected(cupo)\\\">{{cupo.HoraInicio}} - {{cupo.HoraTermino}}\\r\\n              <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-item>\\r\\n        </div>\\r\\n\\r\\n      </ion-list>\\r\\n   \\r\\n      <!-- no hay datos -->\\r\\n    <ion-row *ngIf=\\\"cuposAgrupadosSelected.length == 0\\\">\\r\\n      <div style=\\\"position: absolute; display: table; height: 80%; font-size: 30px; color:#BDBDBD; text-align: center;\\\" class=\\\"ion-padding\\\">\\r\\n        <p style=\\\"display: table-cell; vertical-align: middle\\\">No hay citas para el día seleccionado  <br>\\r\\n        <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 50px;\\\"></ion-icon></p>\\r\\n      </div>\\r\\n    </ion-row>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n  <ion-fab-button (click)=\\\"logout()\\\" [style.--background]=\\\"miColor\\\">\\r\\n    <ion-icon name=\\\"close\\\"></ion-icon>\\r\\n  </ion-fab-button>\\r\\n</ion-fab>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CuposDisponiblesPage } from './cupos-disponibles.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: CuposDisponiblesPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [CuposDisponiblesPage]\r\n})\r\nexport class CuposDisponiblesPageModule {}\r\n","export default \".titulo-semanas {\\n  font-size: 0.8em;\\n}\\n\\n.badge-cita {\\n  position: absolute;\\n  top: 2px;\\n  right: 1px;\\n  border-radius: 100%;\\n}\\n\\n.danger {\\n  color: var(--ion-color-danger);\\n}\\n\\n.danger-boton {\\n  --background: var(--ion-color-danger);\\n}\\n\\n.success-boton {\\n  --background: var(--ion-color-success);\\n}\\n\\n.label-fecha {\\n  padding-top: 28px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY3Vwb3MtZGlzcG9uaWJsZXMvRjpcXGFwcF9taWZhbWlsaWFfZ2l0XFxtaUZhbWlsaWFfcHJlL3NyY1xcYXBwXFxjdXBvcy1kaXNwb25pYmxlc1xcY3Vwb3MtZGlzcG9uaWJsZXMucGFnZS5zY3NzIiwic3JjL2FwcC9jdXBvcy1kaXNwb25pYmxlcy9jdXBvcy1kaXNwb25pYmxlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxnQkFBQTtBQ0NKOztBRENBO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0FDRUo7O0FEQUE7RUFDSSw4QkFBQTtBQ0dKOztBRERBO0VBQ0kscUNBQUE7QUNJSjs7QURGQTtFQUNJLHNDQUFBO0FDS0o7O0FESEE7RUFDSSxpQkFBQTtBQ01KIiwiZmlsZSI6InNyYy9hcHAvY3Vwb3MtZGlzcG9uaWJsZXMvY3Vwb3MtZGlzcG9uaWJsZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdHVsby1zZW1hbmFze1xyXG4gICAgZm9udC1zaXplOiAwLjhlbTtcclxufVxyXG4uYmFkZ2UtY2l0YXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDoycHg7XHJcbiAgICByaWdodDogMXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTAwJTtcclxufVxyXG4uZGFuZ2Vye1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG59XHJcbi5kYW5nZXItYm90b257XHJcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG59XHJcbi5zdWNjZXNzLWJvdG9ue1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XHJcbn1cclxuLmxhYmVsLWZlY2hhe1xyXG4gICAgcGFkZGluZy10b3A6IDI4cHg7O1xyXG59IiwiLnRpdHVsby1zZW1hbmFzIHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbn1cblxuLmJhZGdlLWNpdGEge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMnB4O1xuICByaWdodDogMXB4O1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xufVxuXG4uZGFuZ2VyIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xufVxuXG4uZGFuZ2VyLWJvdG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbn1cblxuLnN1Y2Nlc3MtYm90b24ge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcbn1cblxuLmxhYmVsLWZlY2hhIHtcbiAgcGFkZGluZy10b3A6IDI4cHg7XG59Il19 */\";","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem } from '@ionic/angular';\r\n\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport * as moment from 'moment';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\n//pipe\r\nimport { FilterPipe } from '../../app/pipes/filter.pipe';\r\n//modal\r\nimport { ModalOperacionCitaPage } from '../modal-operacion-cita/modal-operacion-cita.page';\r\n\r\n@Component({\r\n  selector: 'app-cupos-disponibles',\r\n  templateUrl: './cupos-disponibles.page.html',\r\n  styleUrls: ['./cupos-disponibles.page.scss'],\r\n})\r\nexport class CuposDisponiblesPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  public usuarioAps;\r\n  semanas: any = [];\r\n  semana: any;\r\n  textColor = '#FFFFFF';\r\n  citas = [];\r\n  citasAgrupadas = [];\r\n  cuposAgrupadosSelected = [];\r\n  objetoCita: any;\r\n  //datos para consultar citas\r\n  runPaciente = '';\r\n  codigoDeis = '';\r\n  serviceType = '349';\r\n  //manejo de movimiento de semanas\r\n  indiceAnterior = 0;\r\n  indiceSiguiente = 1;\r\n  indiceActual = 0;\r\n  anteriorEnabled = false;\r\n  siguienteEnabled = true;\r\n  cantidadSemanas = 3;\r\n  //tipo operacion\r\n  tipoOperacion = 'disponibilidad';\r\n  itemSelected;\r\n  nodId;\r\n  //tipos de atencion\r\n  tiposAtencion = [];\r\n  comboSeleccionado = \"\";\r\n    //******************** */\r\n  @ViewChild('myList', {read: IonItem}) list: IonItem;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public loading: LoadingController,\r\n    public menu:MenuController,\r\n    public utiles: ServicioUtiles,\r\n    public acceso: ServicioAcceso,\r\n    public cita: ServicioCitas,\r\n  ) { }\r\n  \r\n  //AHORA DEBO REVISAR EL WEBSERVICE DE PERSONA\r\n  //PARA OBTENER LA INFORMACION DEL PACIENTE Y usarlo en las consultas\r\n  \r\n  ngOnInit() {\r\n    moment.locale('es');\r\n    if (sessionStorage.UsuarioAps) {\r\n      this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (this.usuarioAps) {\r\n        //this.usuarioAps.UrlImagen = this.utiles.entregaMiImagen();\r\n        this.usuarioAps.UrlImagen = this.utiles.entregaImagen(this.usuarioAps);\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n        this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n        this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n      }\r\n    }\r\n    //realizamos la llamada\r\n    this.construyeSemanaBuscar(0, 'sig');\r\n  }\r\n\r\n  //llamada al servidor\r\n  construyeSemanaBuscar(pagina, operacion){\r\n    //si la pagina es 0 se debe construir la semana a contar de la fecha actual\r\n    var factorDias = 0;\r\n    var fecha = new Date();\r\n    //en el caso que venga la misma pagina que se envio y la operacion nula, debemos tomar los datos de la semana\r\n    //seleccionada actual\r\n\r\n    if (operacion == null){\r\n      if (this.semana){\r\n        var fechaIni = moment();\r\n        var date = new Date();\r\n        if (operacion == 'ant'){\r\n          //si es anterior hay que ver que pasa\r\n          //deberiamos retroceder desde la fecha de inicio\r\n          fechaIni = moment(this.semana.start).add(-8, 'day');\r\n          date = new Date(fechaIni.year(), fechaIni.month(), fechaIni.date(), 0,0,0,0);\r\n        }\r\n        else{\r\n          fechaIni = moment(this.semana.end);\r\n          date = new Date(fechaIni.year(), fechaIni.month(), fechaIni.date(), 0,0,0,0);\r\n\r\n        }\r\n        this.utiles.construyeSemana(this.runPaciente, this.codigoDeis, date);\r\n\r\n        this.semana = this.utiles.semana;\r\n        this.semanas = this.utiles.semanas;\r\n        //lo comentamos para consultar una semana completa\r\n        //var ini = this.semana.semanas[0].start;\r\n        //var ter = this.semana.semanas[0].end;\r\n        var ini = this.semana.start;\r\n        var ter = this.semana.end;\r\n        sessionStorage.setItem(\"PAGINA_ACTUAL\", pagina);\r\n        this.buscarDisponibilidad(ini, ter, this.codigoDeis, this.runPaciente, this.serviceType, this.tipoOperacion);\r\n      }\r\n    }\r\n    if (pagina == 0){\r\n      this.utiles.construyeSemana(this.runPaciente, this.codigoDeis, fecha);\r\n      this.semana = this.utiles.semana;\r\n      this.semanas = this.utiles.semanas;\r\n      \r\n      //esto lo cambiamos para que obtenga la semana completa\r\n      //var ini = this.semana.semanas[0].start;\r\n      var ini = this.semana.start;\r\n      //var ter = this.semana.semanas[0].end;\r\n      var ter = this.semana.end;\r\n      console.log(this.semana);\r\n      //carga inicial\r\n      sessionStorage.setItem(\"PAGINA_ACTUAL\", pagina);\r\n      this.buscarDisponibilidad(ini, ter, this.codigoDeis, this.runPaciente, this.serviceType, this.tipoOperacion);\r\n    }\r\n    else{\r\n      //aca debemos sacar fecha inicio y termino\r\n      if (this.semana){\r\n        var fechaIni = moment();\r\n        var date = new Date();\r\n        if (operacion == 'ant'){\r\n          //si es anterior hay que ver que pasa\r\n          //deberiamos retroceder desde la fecha de inicio\r\n          fechaIni = moment(this.semana.start).add(-8, 'day');\r\n          date = new Date(fechaIni.year(), fechaIni.month(), fechaIni.date(), 0,0,0,0);\r\n        }\r\n        else{\r\n          fechaIni = moment(this.semana.end);\r\n          date = new Date(fechaIni.year(), fechaIni.month(), fechaIni.date(), 0,0,0,0);\r\n\r\n        }\r\n        this.utiles.construyeSemana(this.runPaciente, this.codigoDeis, date);\r\n\r\n        this.semana = this.utiles.semana;\r\n        this.semanas = this.utiles.semanas;\r\n        //lo comentamos para consultar una semana completa\r\n        //var ini = this.semana.semanas[0].start;\r\n        //var ter = this.semana.semanas[0].end;\r\n        var ini = this.semana.start;\r\n        var ter = this.semana.end;\r\n        sessionStorage.setItem(\"PAGINA_ACTUAL\", pagina);\r\n        this.buscarDisponibilidad(ini, ter, this.codigoDeis, this.runPaciente, this.serviceType, this.tipoOperacion);\r\n      }\r\n    }\r\n  }\r\n\r\n  async buscarDisponibilidad(start, end, organization, patient, serviceType, tipoOperacion){\r\n    //ACA ME FALTA CONTROLAR LOS MENSAJES\r\n    let loader = await this.loading.create({\r\n      message: 'Cargando...<br>disponibilidad',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      this.citas = [];\r\n      this.citasAgrupadas = [];\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.getDisponibilidad(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).subscribe((response: any)=>{\r\n          this.procesarRespuestaTotal(response, loader);\r\n        });\r\n/*         this.cita.getDisponibilidadApi(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).subscribe((response: any)=>{\r\n          this.procesarRespuestaTotal(response, loader);\r\n        }); */\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.getDisponibilidadNative(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).then((response: any)=>{\r\n          var respuesta = JSON.parse(response.data);\r\n          this.procesarRespuestaTotal(respuesta, loader);\r\n        });\r\n/*         this.cita.getDisponibilidadApiNative(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).then((response: any)=>{\r\n          var respuesta = JSON.parse(response.data);\r\n          this.procesarRespuestaTotal(respuesta, loader);\r\n        }); */\r\n      }\r\n    });\r\n  }\r\n  procesarRespuestaTotal(data, loader){\r\n    //vienen las citas sin fecha\r\n    this.cuposAgrupadosSelected = [];\r\n    this.tiposAtencion = [];\r\n    console.log(this.semana);\r\n    if (data && data.Mensaje){\r\n      //correcto\r\n      if (data.Mensaje.Codigo == 'correcto'){\r\n        //todo bien procesar las citas\r\n        var contador = 0;\r\n        if (data.CitasDisponibles && data.CitasDisponibles.length > 0){\r\n          data.CitasDisponibles.forEach(cit => {\r\n            cit.horaInicio = moment(cit.FechaHoraInicio).format('HH:mm');\r\n            cit.horaTermino = moment(cit.FechaHoraTermino).format('HH:mm');\r\n            //pruebas\r\n            contador++;\r\n          });\r\n        }\r\n        if (data.TiposAtencion){\r\n          this.tiposAtencion = this.crearTiposAtencion(data.TiposAtencion);\r\n          if (this.tiposAtencion && this.tiposAtencion.length > 0){\r\n            this.comboSeleccionado = this.tiposAtencion[0].Texto;\r\n          }\r\n        }\r\n        //aca asignamos las citas\r\n        this.citas = data.CitasDisponibles;\r\n        //hacemos foreach a las semanas\r\n        if (this.semana.semanas && this.semana.semanas.length > 0){\r\n          this.semana.semanas.forEach(sem => {\r\n            var cupos = 0;\r\n            console.log(sem);\r\n            if (this.citas && this.citas.length > 0){\r\n              sem.Cupos = [];\r\n              this.citas.forEach(cupo => {\r\n                //cupos = 0;\r\n                var fechaComparar = moment(cupo.FechaHoraInicio).format('YYYY-MM-DD');\r\n                if (moment(sem.start).format('YYYY-MM-DD') == fechaComparar){\r\n                  sem.Cupos.push(cupo);\r\n                  cupos++;\r\n                }\r\n              });\r\n            }\r\n            console.log(cupos);\r\n            sem.total = cupos;\r\n            sem.CuposAgrupados = this.agruparCitasTodas(sem.Cupos);\r\n          });\r\n        }\r\n        //console.log(this.citas);\r\n        console.log(this.semana);\r\n        //aca guardamos la semana en una variable de session\r\n        sessionStorage.setItem('CUPOS_SEMANA', JSON.stringify(this.semana));\r\n        //this.agruparCitas();\r\n        //dejamos por defecto el primer item seleccionado\r\n        this.cuposAgrupadosSelected = this.semana.semanas[0].CuposAgrupados;\r\n        //this.cuposAgrupadosSelected = this.filter(this.semana.semanas[0].CuposAgrupados);\r\n        //filtramos\r\n        this.filtrarTiposAtencion();\r\n        loader.dismiss();\r\n      }\r\n      else{\r\n        this.cuposAgrupadosSelected = [];\r\n        loader.dismiss();\r\n      }\r\n      //error\r\n    }\r\n  }\r\n\r\n  agruparCitasTodas(arrCupos){\r\n    //aca vienen los cupos\r\n    var cuposAgrupados = [];\r\n    //this.citasAgrupadas = [];\r\n    let nuevoObjeto = {}\r\n    //primero sacamos los medicos distintos\r\n    var medicos = [];\r\n    if (arrCupos && arrCupos.length > 0) {\r\n      arrCupos.forEach(x => {\r\n        if (!nuevoObjeto.hasOwnProperty(x.RunMedico)) {\r\n          nuevoObjeto[x.RunMedico] = {\r\n            MedicoPrestador: {\r\n              NombreCompletoMedico: x.NombresMedico + ' ' + x.ApellidosMedico,\r\n              RunMedico: x.RunMedico\r\n            },\r\n            HorasDisponibles: []\r\n          }\r\n        }\r\n        //Agregamos los datos de profesionales. \r\n        nuevoObjeto[x.RunMedico].HorasDisponibles.push({\r\n          ApellidosMedico: x.ApellidosMedico,\r\n          Estado: x.Estado,\r\n          FechaHoraCreacion: x.FechaHoraCreacion,\r\n          FechaHoraInicio: x.FechaHoraInicio,\r\n          FechaHoraTermino: x.FechaHoraTermino,\r\n          Id: x.Id,\r\n          IdCita: x.IdCita,\r\n          IdPaciente: x.IdPaciente,\r\n          NombresMedico: x.NombresMedico,\r\n          RunMedico: x.RunMedico,\r\n          RunPaciente: x.RunPaciente,\r\n          Servicio: {\r\n            CodigoDeis: x.Servicio.CodigoDeis,\r\n            IdServicio: x.Servicio.IdServicio,\r\n            Nombre: x.Servicio.Nombre,\r\n            NombreServicio: x.Servicio.NombreServicio\r\n          },\r\n          Tipo: x.Tipo,\r\n          TipoAtencion: x.TipoAtencion,\r\n          TipoServicio: {\r\n            Codigo: x.TipoServicio.Codigo,\r\n            Nombre: x.TipoServicio.Nombre\r\n          },\r\n          HoraInicio: this.transformDateIso(new Date(x.FechaHoraInicio).toISOString()),\r\n          HoraTermino: this.transformDateIso(new Date(x.FechaHoraTermino).toISOString()),\r\n          Visible: true\r\n        });\r\n      });\r\n    }\r\n    //this.objetoCita = nuevoObjeto;\r\n    //this.citasAgrupadas = Object.entries(this.objetoCita);\r\n    cuposAgrupados = Object.entries(nuevoObjeto);\r\n    //console.log(this.objetoCita);\r\n    //console.log(this.citasAgrupadas);\r\n    return cuposAgrupados;\r\n  }\r\n  crearTiposAtencion(tiposAtencion){\r\n    var arr = [];\r\n/*     var entidadInicial = {\r\n      Texto: 'Todos',\r\n      Valor: 0,\r\n      Selected: true\r\n    }\r\n    arr.push(entidadInicial); */\r\n    if (tiposAtencion && tiposAtencion.length > 0){\r\n      tiposAtencion.forEach(tipo => {\r\n        var contador = 1;\r\n        var entidadTipo = {\r\n          Texto: tipo,\r\n          Valor: contador,\r\n          Selected: false\r\n        };\r\n        arr.push(entidadTipo);\r\n        contador++;\r\n      });\r\n    }\r\n\r\n    return arr;\r\n  }\r\n  transformDate(value, format){\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n  traduceString(texto){\r\n    return this.utiles.traduceString(texto);\r\n  }\r\n  logout(){\r\n    this.acceso.logout();\r\n    this.navCtrl.navigateRoot('login');\r\n  }\r\n  onClickCambiarSemana(operacion){\r\n    if (operacion == 'ant'){\r\n      //console.log('anterior');\r\n      if (this.indiceActual == 0){\r\n        return;\r\n      }\r\n      this.indiceActual--;\r\n    }\r\n    else{\r\n      if (this.indiceActual < this.cantidadSemanas){\r\n        //correcto\r\n        this.indiceActual++;\r\n      }\r\n      else{\r\n        return;\r\n      }\r\n    }\r\n    this.construyeSemanaBuscar(this.indiceActual, operacion);\r\n\r\n  }\r\n  filtrarSemana(semana){\r\n    if (semana){\r\n      //primero contamos\r\n      if (semana.Cupos > 0){\r\n        var contador = 0;\r\n        semana.Cupos.forEach(cupo => {\r\n          if (cupo.TipoAtencion == this.comboSeleccionado){\r\n            contador++;\r\n          }\r\n        });\r\n        //total de horas por tipo atencion\r\n        semana.total = contador;\r\n        //ahora se deben reprocesar las citas\r\n        if (semana.CuposAgrupados && semana.CuposAgrupados.length > 0){\r\n          semana.CuposAgrupados.forEach(cupo => {\r\n            if (cupo[1].HorasDisponibles && cupo[1].HorasDisponibles.length > 0){\r\n              cupo[1].HorasDisponibles.forEach(element => {\r\n                if (element.TipoAtencion != this.comboSeleccionado){\r\n                  element.Visible = false;\r\n                }\r\n                else{\r\n                  element.Visible = true;\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n  }\r\n  seleccionarCuposAgrupados(item){\r\n    console.log(item);\r\n    this.itemSelected = item;\r\n    this.cuposAgrupadosSelected = [];\r\n    if (item != null){\r\n      if (this.semana.semanas && this.semana.semanas.length > 0){\r\n        this.semana.semanas.forEach(sem => {\r\n          if (sem.end == item.end){\r\n            sem.selected = true;\r\n            this.cuposAgrupadosSelected = sem.CuposAgrupados;\r\n            console.log(sem);\r\n            //this.cuposAgrupadosSelected = this.filter(sem.CuposAgrupados);\r\n            //filtramos\r\n            this.filtrarTiposAtencion();\r\n            console.log(this.cuposAgrupadosSelected);\r\n          }\r\n          else{\r\n            sem.selected = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  tipoSeleccionado(event){\r\n    if (event.detail.value){\r\n      this.comboSeleccionado = event.detail.value;\r\n      console.log(this.comboSeleccionado);\r\n      //this.seleccionarCuposAgrupados(this.itemSelected);\r\n      this.filtrarTiposAtencion();\r\n    }\r\n  }\r\n  filtrarTiposAtencion(){\r\n    //arr cuposAgrupadosSelected\r\n    var total = 0;\r\n    if (this.cuposAgrupadosSelected && this.cuposAgrupadosSelected.length > 0){\r\n      this.cuposAgrupadosSelected.forEach(cupo => {\r\n        if (cupo[1].HorasDisponibles && cupo[1].HorasDisponibles.length > 0){\r\n          cupo[1].HorasDisponibles.forEach(element => {\r\n            if (element.TipoAtencion != this.comboSeleccionado){\r\n              element.Visible = false;\r\n            }\r\n            else{\r\n              element.Visible = true;\r\n              total++;\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    //volvemos a recontar los totales de la semana\r\n    if (this.semana) {\r\n      if (this.semana && this.semana.semanas) {\r\n        this.semana.semanas.forEach(sem => {\r\n          var tot = 0;\r\n          if (sem.Cupos && sem.Cupos.length > 0) {\r\n            sem.Cupos.forEach(cupo => {\r\n              if (cupo.TipoAtencion == this.comboSeleccionado) {\r\n                tot++;\r\n              }\r\n            });\r\n          }\r\n          sem.total = tot;\r\n        });\r\n      }\r\n      sessionStorage.setItem('CUPOS_SEMANA', JSON.stringify(this.semana));\r\n    }\r\n    console.log(this.cuposAgrupadosSelected);\r\n\r\n  }\r\n  contadorHorasDisponibles(cupos){\r\n    var total = 0;\r\n    if (cupos && cupos.length > 0){\r\n      cupos.forEach(element => {\r\n        if (element.TipoAtencion == this.comboSeleccionado){\r\n          total++;\r\n        }\r\n      });\r\n    }\r\n    return total;\r\n  }\r\n  /*\r\n  async mesSelected(item){\r\n    //realizar la llamada para cargar los eventos del mes\r\n    console.log(item.detail.value);\r\n    var arr = item.detail.value.split(',');\r\n    if (arr){\r\n      if (arr.length == 2){\r\n        var mes = arr[0];\r\n        var anno = arr[1];\r\n        // setear this.mesActualSeleccionado al mes seleccionado de lo contrario simpre sera el mes actual\r\n        //this.mesActualSeleccionado = mes;\r\n        this.mesActualSeleccionado = item.detail.value;\r\n        let loader = await this.loading.create({\r\n          message: 'Obteniendo...<br>Información del usuario',\r\n          duration: 20000\r\n        });\r\n    \r\n        await loader.present().then(async () => {\r\n          if(!this.utiles.isAppOnDevice()){\r\n            //llamada web\r\n            //this.cargarDatosWeb(mes, anno, loader);\r\n            this.cargarDatosWebN(mes, anno, loader);\r\n          }\r\n          else {\r\n            //llamada nativa\r\n            this.cargarDatosNativeN(mes, anno, loader);\r\n          }\r\n        });\r\n\r\n      }\r\n    }\r\n         \r\n  }\r\n  */\r\n filter(cuposDisponibles){\r\n   var fi = new FilterPipe();\r\n   var arr=[];\r\n  if (cuposDisponibles && cuposDisponibles.length > 0){\r\n    cuposDisponibles.forEach(cupo => {\r\n      if (cupo[1].HorasDisponibles && cupo[1].HorasDisponibles.length > 0){\r\n        arr = fi.transform(cupo[1].HorasDisponibles, this.comboSeleccionado);\r\n      }\r\n    })\r\n  }\r\n  return arr;\r\n }\r\n/*  split(input: string, sep: string, inx: number){\r\n  var pi = new SplitPipe();\r\n  return pi.transform(input, sep, inx);\r\n} */\r\nasync citaSelected(item){\r\n  if (item){\r\n    this.itemSelected = item;\r\n  }\r\n  const modal = await this.modalCtrl.create(\r\n    {\r\n      component: ModalOperacionCitaPage,\r\n      componentProps: {\r\n        'cita': JSON.stringify(item),\r\n        'operacion': 'reservar'\r\n      }\r\n    }\r\n  );\r\n  modal.onDidDismiss().then((data) => {\r\n    if(data.data && data.data.accion){\r\n      var accion = data.data.accion;\r\n      //obtenemos la pagina actual\r\n      var pag = 0;\r\n      if (sessionStorage.getItem('NUMERO_PAGINA')){\r\n        pag = parseInt(sessionStorage.getItem('NUMERO_PAGINA'));\r\n      }\r\n      this.construyeSemanaBuscar(pag, null);\r\n      //revisar esto NO FUNCIONA\r\n      //this.seleccionarCuposAgrupados(this.itemSelected);\r\n      \r\n    }\r\n  });\r\n  return await modal.present();\r\n}\r\ntransformDateIso(dateString){\r\n  var retorno = \"\";\r\n  var parteT = dateString.split(\"T\");\r\n  if (parteT && parteT.length == 2){\r\n    var partes = parteT[1].split(\":\");\r\n    if (partes && partes.length > 1){\r\n      retorno = partes[0] + \":\" + partes[1];\r\n    }\r\n  }\r\n  return retorno;\r\n}\r\n}\r\n"],"sourceRoot":"webpack:///"}