{"version":3,"sources":["webpack:///src/app/contactabilidad/contactabilidad.page.html","webpack:///src/app/contactabilidad/contactabilidad.module.ts","webpack:///src/app/contactabilidad/contactabilidad.page.scss","webpack:///src/app/contactabilidad/contactabilidad.page.ts"],"names":["ContactabilidadPageModule","imports","forChild","path","component","declarations","ContactabilidadPage","navCtrl","utiles","servicioGeo","loading","formBuilder","activatedRoute","router","acceso","parametrosApp","alertController","patternOnlyLetter","expCelular","expPassword","expEmail","registro","estaCargando","tituloProgress","localStorage","getItem","JSON","parse","cargarForma","forma","required","pattern","setValue","nombreSocial","Apodo","email","CorreoElectronico","telefono","TelefonoContacto","create","cssClass","showBackdrop","spinner","duration","loader","controls","value","run","Run","replace","present","then","isAppOnDevice","postInformarPersona","subscribe","response","datos","procesarRespuesta","postInformarPersonaNative","data","InformarPersonaResponse","RespuestaBase","correctoRayen","correctoRyf","Rayen","Descripcion","toUpperCase","console","log","Ryf","dismiss","fechaNac","FechaNacimiento","Id","toString","Activo","DiaNacimiento","date","MesNacimiento","month","AnioNacimiento","year","Eliminado","ModoRegistro","FechaBaja","postRegistroFamilia","respuesta","setItem","stringify","presentToast","error","postRegistroFamiliaNative","selector","template"],"mappings":"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","file":"contactabilidad-contactabilidad-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"back-app\\\">\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/familia\\\" class=\\\"fcw\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"fcw\\\">Contactabilidad</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <app-progress [mostrar]=\\\"estaCargando\\\" [titulo]=\\\"tituloProgress\\\"></app-progress>\\n  <div [hidden]=\\\"estaCargando\\\" class=\\\"ion-padding\\\" style=\\\"margin-top: 20px;\\\">\\n    <form [formGroup]=\\\"forma\\\" novalidate>\\n      <ion-row>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Nombre social</mat-label>\\n          <input matInput placeholder=\\\"Nombre social\\\" formControlName=\\\"nombreSocial\\\" name=\\\"nombreSocial\\\" required>\\n          <mat-error [hidden]=\\\"!(f.nombreSocial.errors && f.nombreSocial.errors.required)\\\">Nombre social requerido</mat-error>\\n          <mat-hint align=\\\"start\\\"><strong>Nombre por el cual te sientes identificado</strong> </mat-hint>\\n        </mat-form-field>\\n      </ion-row>\\n      <h3 class=\\\"mt-40\\\">Datos de contacto</h3>\\n      <ion-row>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Correo electrónico</mat-label>\\n          <input matInput placeholder=\\\"ejemplo@gmail.com\\\" formControlName=\\\"email\\\" name=\\\"email\\\" required>\\n          <mat-error [hidden]=\\\"!(f.email.errors && f.email.errors.required)\\\">Correo requerido</mat-error>\\n          <mat-error [hidden]=\\\"!(f.email.errors && f.email.errors.pattern)\\\">Correo inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n\\n      <ion-row>\\n        <mat-form-field appearance=\\\"outline\\\" style=\\\"width: 100%;\\\">\\n          <mat-label>Teléfono</mat-label>\\n          <input matInput placeholder=\\\"+569XXXXXXXX\\\" formControlName=\\\"telefono\\\" name=\\\"telefono\\\">\\n          <mat-error [hidden]=\\\"!(f.telefono.errors && f.telefono.errors.pattern)\\\">Teléfono inválido</mat-error>\\n        </mat-form-field>\\n      </ion-row>\\n      <!-- boton de registrarse -->\\n      <ion-row>\\n        <button  [disabled]=\\\"forma.invalid\\\" class=\\\"button-registrarse\\\" (click)=\\\"onSumbit()\\\" mat-raised-button\\n          color=\\\"accent\\\">TERMINAR</button>\\n      </ion-row>\\n    </form>\\n  \\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RouterModule } from '@angular/router';\n\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { ContactabilidadPage } from './contactabilidad.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    ComponentsModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ContactabilidadPage\n      }\n    ])\n  ],\n  declarations: [ContactabilidadPage]\n})\nexport class ContactabilidadPageModule {}\n","export default \".mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.mt-24 {\\n  margin-top: 24px;\\n}\\n\\n.mt-80 {\\n  margin-top: 5em;\\n}\\n\\n.mt-40 {\\n  margin-top: 2.5em;\\n}\\n\\n.mt-36 {\\n  margin-top: 2.25em;\\n}\\n\\n.mt-52 {\\n  margin-top: 3.25em;\\n}\\n\\n.texto-1 {\\n  font-size: 1em;\\n  color: #000000DE;\\n}\\n\\n.button-registrarse {\\n  width: 80%;\\n  margin-left: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29udGFjdGFiaWxpZGFkL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGFwcFxcY29udGFjdGFiaWxpZGFkXFxjb250YWN0YWJpbGlkYWQucGFnZS5zY3NzIiwic3JjL2FwcC9jb250YWN0YWJpbGlkYWQvY29udGFjdGFiaWxpZGFkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FDQ0o7O0FEQ0E7RUFDSSxnQkFBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtBQ0dKOztBRERBO0VBQ0ksaUJBQUE7QUNJSjs7QURGQTtFQUNJLGtCQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtBQ01KOztBREpBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FDT0o7O0FESkE7RUFDSSxVQUFBO0VBQ0EsZ0JBQUE7QUNPSiIsImZpbGUiOiJzcmMvYXBwL2NvbnRhY3RhYmlsaWRhZC9jb250YWN0YWJpbGlkYWQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm10LTMye1xyXG4gICAgbWFyZ2luLXRvcDogMzJweDtcclxufVxyXG4ubXQtMjR7XHJcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xyXG59XHJcbi5tdC04MHtcclxuICAgIG1hcmdpbi10b3A6IDVlbTtcclxufVxyXG4ubXQtNDB7XHJcbiAgICBtYXJnaW4tdG9wOiAyLjVlbTtcclxufVxyXG4ubXQtMzZ7XHJcbiAgICBtYXJnaW4tdG9wOiAyLjI1ZW07XHJcbn1cclxuLm10LTUye1xyXG4gICAgbWFyZ2luLXRvcDogMy4yNWVtO1xyXG59XHJcbi50ZXh0by0xe1xyXG4gICAgZm9udC1zaXplOiAxZW07XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG4gICAgXHJcbn1cclxuLmJ1dHRvbi1yZWdpc3RyYXJzZXtcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBtYXJnaW4tbGVmdDogMTAlO1xyXG59IiwiLm10LTMyIHtcbiAgbWFyZ2luLXRvcDogMzJweDtcbn1cblxuLm10LTI0IHtcbiAgbWFyZ2luLXRvcDogMjRweDtcbn1cblxuLm10LTgwIHtcbiAgbWFyZ2luLXRvcDogNWVtO1xufVxuXG4ubXQtNDAge1xuICBtYXJnaW4tdG9wOiAyLjVlbTtcbn1cblxuLm10LTM2IHtcbiAgbWFyZ2luLXRvcDogMi4yNWVtO1xufVxuXG4ubXQtNTIge1xuICBtYXJnaW4tdG9wOiAzLjI1ZW07XG59XG5cbi50ZXh0by0xIHtcbiAgZm9udC1zaXplOiAxZW07XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59XG5cbi5idXR0b24tcmVnaXN0cmFyc2Uge1xuICB3aWR0aDogODAlO1xuICBtYXJnaW4tbGVmdDogMTAlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController, LoadingController, AlertController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder, FormControl, ValidatorFn } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n//servicios\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\nimport { ServicioGeo } from '../../app/services/ServicioGeo';\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\nimport { ServicioParametrosApp } from '../../app/services/ServicioParametrosApp';\nimport { NavigationExtras } from '@angular/router';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-contactabilidad',\n  templateUrl: './contactabilidad.page.html',\n  styleUrls: ['./contactabilidad.page.scss'],\n})\nexport class ContactabilidadPage implements OnInit {\n  forma: FormGroup;\n  //para validar\n  patternOnlyLetter = '[a-zA-ZÀ-ÿ\\u00f1\\u00d1]+(\\s*[a-zA-ZÀ-ÿ\\u00f1\\u00d1]*)*[a-zA-ZÀ-ÿ\\u00f1\\u00d1 ]+$';\n  expCelular = /^(\\+?56)?(\\s?)(0?9)(\\s?)[9876543]\\d{7}$/gm;\n  expPassword = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{4,8}$/gm;\n  expEmail = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/gm;\n  //variable para obtener el registro del usuario\n  registro = null;\n  estaCargando = false;\n  tituloProgress = '';\n\n  constructor(\n    private navCtrl: NavController,\n    public utiles: ServicioUtiles,\n    public servicioGeo: ServicioGeo,\n    public loading: LoadingController,\n    private formBuilder: FormBuilder,\n    public activatedRoute: ActivatedRoute,\n    private router: Router,\n    public acceso: ServicioAcceso,\n    public parametrosApp: ServicioParametrosApp,\n    public alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    moment.locale('es');\n    //obtenemos el registro\n    if (localStorage.getItem('REGISTRO')){\n      this.registro = JSON.parse(localStorage.getItem('REGISTRO'));\n    }\n    //cargamos la forma\n    this.cargarForma();\n  }\n  cargarForma() {\n    this.forma = new FormGroup({\n      'nombreSocial': new FormControl('', [Validators.required]),\n      'email': new FormControl('', [Validators.required, Validators.pattern(this.expEmail)]),\n      'telefono': new FormControl('', [Validators.pattern(this.expCelular)]),\n    });\n    //precargar los datos del usuario.\n    if (this.registro && this.registro != null){\n      this.forma.setValue({\n        nombreSocial: this.registro.Apodo,\n        email: this.registro.CorreoElectronico,\n        telefono: this.registro.TelefonoContacto ?  this.registro.TelefonoContacto : '',\n      })\n    }\n\n  }\n  async onSumbit(){\n    let loader = await this.loading.create({\n      cssClass: 'loading-vacio',\n      showBackdrop: false,\n      spinner: null,\n      //message: 'Cargando...<br>tipos de atención',\n      duration: 2000\n    });\n    this.estaCargando =true;\n    this.tituloProgress = 'Actualizando datos de contacto';\n\n    //variables a enviar\n    let email = this.forma.controls.email ? this.forma.controls.email.value : '';\n    let nombreSocial = this.forma.controls.nombreSocial ? this.forma.controls.nombreSocial.value : '';\n    let telefono = this.forma.controls.telefono ? this.forma.controls.telefono.value : '';\n    let run = this.registro.Run.replace('-', '');\n    await loader.present().then(async () => {\n      if (!this.utiles.isAppOnDevice()) {\n        //llamada web\n        this.servicioGeo.postInformarPersona(run, nombreSocial, email, telefono, 'MOVIL_FICHA_FAMILIAR').subscribe((response: any)=>{\n          //procesar respuesta\n          var datos = response;\n          this.procesarRespuesta(datos, loader, nombreSocial, telefono);\n\n        })\n      }\n      else {\n        //llamada nativa\n        this.servicioGeo.postInformarPersonaNative(run, nombreSocial, email, telefono, 'MOVIL_FICHA_FAMILIAR').then((response:any)=>{\n          //procesar respuesta\n          var datos = JSON.parse(response.data);\n          this.procesarRespuesta(datos, loader, nombreSocial, telefono);\n\n        })\n      }\n    });\n  }\n  async procesarRespuesta(data, loading, nombreSocial, telefono){\n    //primero evaluamos la respuesta\n    if (data){\n      if (data.InformarPersonaResponse){\n        if (data.InformarPersonaResponse.RespuestaBase){\n          //acá trae info de rayen y de ryf\n          //ojo que debemos actualizar igual el registro, al menos con el telefono y el apodo\n          //ya que el email es de autentificacion y no se puede cambiar\n          let correctoRayen = false;\n          let correctoRyf = false;\n          if (data.InformarPersonaResponse.RespuestaBase.Rayen){\n            if (data.InformarPersonaResponse.RespuestaBase.Rayen.Descripcion.toUpperCase() == 'TRANSACCIÓN EXITOSA'){\n              correctoRayen = true;\n              console.log('actualizado rayen');\n            }\n          }\n          if (data.InformarPersonaResponse.RespuestaBase.Ryf) {\n            if (data.InformarPersonaResponse.RespuestaBase.Ryf.Descripcion.toUpperCase() == 'TRANSACCIÓN EXITOSA') {\n              correctoRyf = true;\n              console.log('actualizado ryf');\n            }\n          }\n          if (correctoRyf || correctoRayen){\n            this.estaCargando = false;\n            this.tituloProgress = '';\n            loading.dismiss();\n            //this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n            var fechaNac = moment();\n            if (this.registro.FechaNacimiento){\n              fechaNac = moment(this.registro.FechaNacimiento);\n            }\n            //ahora actualizar el registro\n            this.registro.Apodo = nombreSocial;\n            this.registro.TelefonoContacto = telefono;\n            //valores por defecto\n            this.registro.Id = this.registro.Id.toString();\n            this.registro.Activo = this.registro.Activo.toString();\n            this.registro.DiaNacimiento = fechaNac.date().toString();\n            this.registro.MesNacimiento = (fechaNac.month() + 1).toString();\n            this.registro.AnioNacimiento = fechaNac.year().toString();\n            this.registro.Eliminado = this.registro.Eliminado.toString();\n            this.registro.ModoRegistro = this.registro.ModoRegistro.toString();\n            this.registro.FechaBaja = null;\n\n            let loader = await this.loading.create({\n              cssClass: 'loading-vacio',\n              showBackdrop: false,\n              spinner: null,\n              duration: 2000\n            });\n            this.estaCargando =true;\n            this.tituloProgress = 'Actualizando datos de registro';\n            await loader.present().then(async () => {\n              if (!this.utiles.isAppOnDevice()) {\n                //llamada web\n                this.servicioGeo.postRegistroFamilia(this.registro).subscribe((data)=>{\n                  let respuesta = data;\n                  localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n                  loader.dismiss();\n                  this.estaCargando = false;\n                  this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n                },\n                error=>{\n                  loader.dismiss();\n                  this.estaCargando = false;\n                  this.utiles.presentToast(error, 'bottom', 2000);\n                });\n              }\n              else{\n                //llamada nativa\n                this.servicioGeo.postRegistroFamiliaNative(this.registro).then((data)=>{\n                  let respuesta = JSON.parse(data.data);\n                  localStorage.setItem('REGISTRO', JSON.stringify(respuesta));\n                  loader.dismiss();\n                  this.estaCargando = false;\n                  this.utiles.presentToast('Datos actualizados correctamente', 'bottom', 2000);\n\n                }).catch(error =>{\n                  loader.dismiss();\n                  this.estaCargando = false;\n                  this.utiles.presentToast(error, 'bottom', 2000);\n                });\n              }\n            });\n\n          }\n          else{\n            this.estaCargando = false;\n            loading.dismiss();\n          }\n        }\n        else{\n          this.estaCargando = false;\n          loading.dismiss();\n          this.tituloProgress = '';\n          this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n        }\n      }\n      else{\n        this.estaCargando = false;\n        loading.dismiss();\n        this.tituloProgress = '';\n        this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n      }\n    }\n    else{\n      this.estaCargando = false;\n      loading.dismiss();\n      this.utiles.presentToast('Error al actualizar los datos', 'bottom', 3000);\n      this.tituloProgress = '';\n    }\n  }\n\n  get f() { return this.forma.controls; }\n  \n}\n"]}