function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"8wfW":function(t,e,a){"use strict";a.r(e),a.d(e,"CalendarioPageModule",(function(){return at}));var i=a("ofXK"),o=a("3Pt+"),n=a("TEn/"),s=a("tyNb"),r=a("mrSG"),c=a("AytR"),l=a("wd/R"),u=a("7fvX"),d=a("hxmY"),h=a("Wp6s"),m=a("fXoL"),p=a("ymXj"),g=a("LDAL"),v=a("Li8n"),f=a("MTKf"),b=a("skLv"),C=a("1VCC");function E(t,e){if(1&t&&(m.Vb(0,"ion-row"),m.Vb(1,"label",2),m.Vb(2,"strong"),m.zc(3),m.Ub(),m.Ub(),m.Ub()),2&t){var a=m.gc();m.Cb(3),m.Cc("",a.item.NumeroDia," de ",a.transformDate(a.item.FechaCompleta,"MMMM"),"")}}function V(t,e){if(1&t&&(m.Vb(0,"ion-row"),m.Vb(1,"ion-grid",3),m.Vb(2,"ion-col"),m.Vb(3,"span"),m.Vb(4,"strong"),m.zc(5),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"ion-col"),m.Vb(7,"span",4),m.zc(8,"Nada planificado para hoy "),m.Ub(),m.Ub(),m.Ub(),m.Ub()),2&t){var a=m.gc();m.Cb(5),m.Cc("",a.item.NumeroDia," de ",a.transformDate(a.item.FechaCompleta,"MMMM"),"")}}function M(t,e){if(1&t&&(m.Vb(0,"label",6),m.zc(1),m.Ub()),2&t){var a=m.gc(2);m.Cb(1),m.Dc("",a.item.NumeroDia," de ",a.transformDate(a.item.FechaCompleta,"MMMM")," del ",a.transformDate(a.item.FechaCompleta,"YYYY"),"")}}function T(t,e){if(1&t&&(m.Vb(0,"label",6),m.zc(1),m.Ub()),2&t){var a=m.gc(2);m.Cb(1),m.Cc("",a.item.NumeroDia," de ",a.transformDate(a.item.FechaCompleta,"MMMM")," ")}}function D(t,e){if(1&t&&(m.Vb(0,"ion-row"),m.yc(1,M,2,3,"label",5),m.yc(2,T,2,2,"label",5),m.Ub()),2&t){var a=m.gc();m.Cb(1),m.jc("ngIf",a.transformDate(a.item.FechaCompleta,"YYYY")!=a.anioActual),m.Cb(1),m.jc("ngIf",a.transformDate(a.item.FechaCompleta,"YYYY")==a.anioActual)}}var A,y=((A=function(){function t(e,a,i,o,n,s,r){_classCallCheck(this,t),this.navCtrl=e,this.toast=a,this.modalCtrl=i,this.platform=o,this.menu=n,this.alertController=s,this.utiles=r,this.item={Mostrar:!1,FechaCompleta:"",NumeroDia:"",DiferenciaFechas:"",Eventos:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){l().locale("es")}},{key:"transformDate",value:function(t,e){return(new d.a).transform(t,e)}},{key:"revisaEstado",value:function(t){var e=!1;return t.DetalleEventoMes&&t.DetalleEventoMes.Estado&&null!=t.DetalleEventoMes.Estado&&""!=t.DetalleEventoMes.Estado&&(e=!0),e}}]),t}()).\u0275fac=function(t){return new(t||A)(m.Qb(n.Z),m.Qb(n.gb),m.Qb(n.Y),m.Qb(n.bb),m.Qb(n.X),m.Qb(n.a),m.Qb(p.a))},A.\u0275cmp=m.Kb({type:A,selectors:[["app-card-calendario"]],inputs:{item:"item",fechaActual:"fechaActual",anioActual:"anioActual"},decls:4,vars:4,consts:[[3,"id"],[4,"ngIf"],[1,"fecha-card",2,"font-size","1.3em"],["id","0",2,"background-color","#d1c4e9","font-size","16px","width","initial","border-radius","4px","height","40px","margin","8px","margin-top","0","margin-bottom","0"],[2,"padding-inline","16px","color","rgb(0 0 0 / 54%)"],["class","fecha-card",4,"ngIf"],[1,"fecha-card"]],template:function(t,e){1&t&&(m.Vb(0,"div",0),m.yc(1,E,4,2,"ion-row",1),m.yc(2,V,9,2,"ion-row",1),m.Ub(),m.yc(3,D,3,2,"ion-row",1)),2&t&&(m.kc("id",e.item.DiferenciaFechas.toString()),m.Cb(1),m.jc("ngIf",e.transformDate(e.item.FechaCompleta,"YYYY-MM-DD")==e.fechaActual&&"Nada planificado para hoy"!=e.item.Eventos[0].NombrePrincipal),m.Cb(1),m.jc("ngIf",e.transformDate(e.item.FechaCompleta,"YYYY-MM-DD")==e.fechaActual&&"Nada planificado para hoy"==e.item.Eventos[0].NombrePrincipal),m.Cb(1),m.jc("ngIf",e.transformDate(e.item.FechaCompleta,"YYYY-MM-DD")!=e.fechaActual))},directives:[i.k,n.K,n.t,n.o],styles:["ion-select[_ngcontent-%COMP%]{width:100%;justify-content:center}ion-select[_ngcontent-%COMP%]::part(placeholder), ion-select[_ngcontent-%COMP%]::part(text){flex:0 0 auto}ion-select[_ngcontent-%COMP%]::part(placeholder){color:#20a08a;opacity:1}ion-select[_ngcontent-%COMP%]::part(placeholder):first-letter{font-size:24px;font-weight:500}ion-select[_ngcontent-%COMP%]::part(text){color:#545ca7}ion-select[_ngcontent-%COMP%]::part(icon){color:#971e49;opacity:1}.content-card-fav[_ngcontent-%COMP%]{height:58px;min-height:56px}.ion-fav-calendar[_ngcontent-%COMP%]{height:48px;width:48px}.botonReservar[_ngcontent-%COMP%]{font:normal normal medium 14px/16px Roboto;letter-spacing:1.25px;color:rgba(0,0,0,.87);text-transform:uppercase;opacity:1}.example-header-image[_ngcontent-%COMP%]{background-size:cover;width:80px;height:80px;-o-object-fit:cover;object-fit:cover}mat-card[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%}[_ngcontent-%COMP%]::ng-dep   .mat-card-header-text[_ngcontent-%COMP%]{width:100%;margin:0}.hora[_ngcontent-%COMP%]{font-size:.8em}.row-card[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}.img-card[_ngcontent-%COMP%]{width:80px;float:right;margin:0;padding:0;min-width:80px}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border:0;height:1px;background-color:rgba(0,0,0,.12)}"]}),A),I=a("bTqV"),N=["myList"],R=["myListCard"],x=["content"];function w(t,e){if(1&t){var a=m.Wb();m.Vb(0,"button",27),m.dc("click",(function(){m.rc(a);var t=m.gc(2).$implicit,e=m.gc(5);return e.presentAlertConfirm(e.botonCancelar,t)})),m.zc(1,"ANULAR"),m.Ub()}}function O(t,e){if(1&t){var a=m.Wb();m.Vb(0,"button",27),m.dc("click",(function(){m.rc(a);var t=m.gc(2).$implicit,e=m.gc(5);return e.presentAlertConfirm(e.botonConfirmar,t)})),m.zc(1,"CONFIRMAR"),m.Ub()}}function k(t,e){if(1&t&&(m.Vb(0,"mat-card-actions"),m.yc(1,w,2,0,"button",26),m.yc(2,O,2,0,"button",26),m.Ub()),2&t){var a=m.gc().$implicit,i=m.gc(5);m.Cb(1),m.jc("ngIf",i.revisarCita(a,"Anular")[1]),m.Cb(1),m.jc("ngIf",i.revisarCita(a,"Confirmar")[0])}}function F(t,e){if(1&t){var a=m.Wb();m.Vb(0,"mat-card",20),m.Vb(1,"mat-card-header",21),m.dc("click",(function(){m.rc(a);var t=e.$implicit;return m.gc(5).goToDetalleCita(t)})),m.Vb(2,"mat-card-subtitle",22),m.zc(3),m.Ub(),m.Vb(4,"mat-card-title"),m.zc(5),m.Ub(),m.Vb(6,"mat-card-subtitle",23),m.zc(7),m.Ub(),m.Vb(8,"div",24),m.Rb(9,"img",25),m.Ub(),m.Ub(),m.yc(10,k,3,2,"mat-card-actions",7),m.Ub()}if(2&t){var i=e.$implicit,o=m.gc(5);m.Cb(3),m.Ac(i.HoraInicioFin),m.Cb(2),m.Ac(i.DetalleEventoMes.Titulo),m.Cb(2),m.Bc("",i.DetalleEventoMes.NombrePaciente.toLowerCase()," "),m.Cb(2),m.lc("src","./assets/imgs_svg/",i.Imagen,"",m.sc),m.Cb(1),m.jc("ngIf",o.revisaEstado(i))}}function P(t,e){if(1&t&&(m.Vb(0,"ion-row",18),m.yc(1,F,11,5,"mat-card",19),m.Ub()),2&t){var a=m.gc(2).$implicit;m.Cb(1),m.jc("ngForOf",a.Eventos)}}function j(t,e){1&t&&m.Rb(0,"hr")}function U(t,e){if(1&t&&(m.Vb(0,"ion-grid"),m.Rb(1,"app-card-calendario",16),m.yc(2,P,2,1,"ion-row",17),m.yc(3,j,1,0,"hr",7),m.Ub()),2&t){var a=m.gc().$implicit,i=m.gc(2);m.Cb(1),m.jc("fechaActual",i.fechaActual)("item",a)("anioActual",i.anioActual),m.Cb(1),m.jc("ngIf","Nada planificado para hoy"!=a.Eventos[0].NombrePrincipal),m.Cb(1),m.jc("ngIf",i.transformDate(a.FechaCompleta,"YYYY-MM-DD")==i.fechaActual&&"Nada planificado para hoy"!=a.Eventos[0].NombrePrincipal)}}function Y(t,e){if(1&t&&(m.Vb(0,"div",15),m.yc(1,U,4,5,"ion-grid",7),m.Ub()),2&t){var a=e.$implicit,i=m.gc(2);m.jc("hidden",i.estaCargando),m.Cb(1),m.jc("ngIf",a.Mostrar)}}function _(t,e){if(1&t&&(m.Vb(0,"div"),m.yc(1,Y,2,2,"div",12),m.Vb(2,"div",13),m.Vb(3,"p",14),m.zc(4,"No tiene actividades "),m.Rb(5,"br"),m.zc(6," programadas para el futuro"),m.Ub(),m.Ub(),m.Ub()),2&t){var a=m.gc();m.Cb(1),m.jc("ngForOf",a.citasVerticalTodasTop)}}function S(t,e){if(1&t&&(m.Vb(0,"mat-card-subtitle",22),m.zc(1),m.Ub()),2&t){var a=m.gc().$implicit;m.Cb(1),m.Ac(a.HoraInicioFin)}}function L(t,e){if(1&t){var a=m.Wb();m.Vb(0,"button",27),m.dc("click",(function(){m.rc(a);var t=m.gc(2).$implicit,e=m.gc(5);return e.presentAlertConfirm(e.botonCancelar,t)})),m.zc(1,"ANULAR"),m.Ub()}}function z(t,e){if(1&t){var a=m.Wb();m.Vb(0,"button",27),m.dc("click",(function(){m.rc(a);var t=m.gc(2).$implicit,e=m.gc(5);return e.presentAlertConfirm(e.botonConfirmar,t)})),m.zc(1,"CONFIRMAR"),m.Ub()}}function Q(t,e){if(1&t&&(m.Vb(0,"mat-card-actions"),m.yc(1,L,2,0,"button",26),m.yc(2,z,2,0,"button",26),m.Ub()),2&t){var a=m.gc().$implicit,i=m.gc(5);m.Cb(1),m.jc("ngIf",i.revisarCita(a,"Anular")[1]),m.Cb(1),m.jc("ngIf",i.revisarCita(a,"Confirmar")[0])}}function H(t,e){if(1&t){var a=m.Wb();m.Vb(0,"mat-card",20),m.Vb(1,"mat-card-header",21),m.dc("click",(function(){m.rc(a);var t=e.$implicit;return m.gc(5).goToDetalleCita(t)})),m.yc(2,S,2,1,"mat-card-subtitle",31),m.Vb(3,"mat-card-title"),m.zc(4),m.Ub(),m.Vb(5,"mat-card-subtitle",23),m.zc(6),m.Ub(),m.Vb(7,"div",24),m.Rb(8,"img",25),m.Ub(),m.Ub(),m.yc(9,Q,3,2,"mat-card-actions",7),m.Ub()}if(2&t){var i=e.$implicit,o=m.gc(5);m.Cb(2),m.jc("ngIf","Vacuna administrada"!=i.DetalleEventoMes.Titulo),m.Cb(2),m.Ac(i.DetalleEventoMes.Titulo),m.Cb(2),m.Ac(i.DetalleEventoMes.NombrePaciente.toLowerCase()),m.Cb(2),m.lc("src","./assets/imgs_svg/",i.Imagen,"",m.sc),m.Cb(1),m.jc("ngIf",o.revisaEstado(i))}}function $(t,e){if(1&t&&(m.Vb(0,"ion-row",18),m.yc(1,H,10,5,"mat-card",19),m.Ub()),2&t){var a=m.gc(2).$implicit;m.Cb(1),m.jc("ngForOf",a.Eventos)}}function W(t,e){1&t&&m.Rb(0,"hr")}function J(t,e){if(1&t&&(m.Vb(0,"ion-grid"),m.Rb(1,"app-card-calendario",16),m.yc(2,$,2,1,"ion-row",17),m.yc(3,W,1,0,"hr",7),m.Ub()),2&t){var a=m.gc().$implicit,i=m.gc(2);m.Cb(1),m.jc("fechaActual",i.fechaActual)("item",a)("anioActual",i.anioActual),m.Cb(1),m.jc("ngIf","Nada planificado para hoy"!=a.Eventos[0].NombrePrincipal),m.Cb(1),m.jc("ngIf",i.transformDate(a.FechaCompleta,"YYYY-MM-DD")==i.fechaActual&&"Nada planificado para hoy"!=a.Eventos[0].NombrePrincipal)}}function G(t,e){if(1&t&&(m.Vb(0,"div",15),m.yc(1,J,4,5,"ion-grid",7),m.Ub()),2&t){var a=e.$implicit,i=m.gc(2);m.jc("hidden",i.estaCargando),m.Cb(1),m.jc("ngIf",a.Mostrar)}}function K(t,e){if(1&t&&(m.Vb(0,"div",15),m.Vb(1,"div",32),m.Vb(2,"p",14),m.zc(3,"No tiene actividades "),m.Rb(4,"br"),m.zc(5," programadas para el futuro"),m.Ub(),m.Ub(),m.Ub()),2&t){var a=m.gc(2);m.jc("hidden",a.estaCargando)}}function X(t,e){if(1&t){var a=m.Wb();m.Vb(0,"div"),m.yc(1,G,2,2,"div",12),m.yc(2,K,6,1,"div",28),m.Vb(3,"ion-infinite-scroll",29),m.dc("ionInfinite",(function(t){return m.rc(a),m.gc().loadData(t)})),m.Rb(4,"ion-infinite-scroll-content",30),m.Ub(),m.Ub()}if(2&t){var i=m.gc();m.Cb(1),m.jc("ngForOf",i.citasVerticalTodasTop),m.Cb(1),m.jc("ngIf",!i.tieneEventosFuturos)}}var B,Z,q=((B=function(){function t(e,a,i,o,n,s,r,c,l,u,d,h,m,p){_classCallCheck(this,t),this.navCtrl=e,this.toast=a,this.modalCtrl=i,this.platform=o,this.menu=n,this.activatedRoute=s,this.router=r,this.utiles=c,this.loading=l,this.info=u,this.acceso=d,this.cita=h,this.alertController=m,this.parametrosApp=p,this.miColor="#FF4081",this.tiene=!0,this.textColor="#FFFFFF",this.calendarioData=[],this.calendarioTodo=[],this.citasIntegracion=[],this.citasVerticalTodas=[],this.runPaciente="",this.codigoDeis="",this.serviceType="349",this.botonReservar={Titulo:"RESERVAR",Visible:!1,Operacion:"booked",Color:"primary",Alert:"\xbfReservar cita?"},this.botonConfirmar={Titulo:"CONFIRMAR",Visible:!1,Operacion:"confirmed",Color:"primary",Alert:"\xbfConfirmar la reserva de cita?"},this.botonCancelar={Titulo:"ANULAR",Visible:!1,Operacion:"cancelled",Color:"danger",Alert:"\xbfAnular la reserva de cita?"},this.estaCargando=!1,this.tituloLoading="",this.topLimit=50,this.citasVerticalTodasTop=[],this.fechaActual="",this.anioActual="",this.scrollTo=null,this.tieneEventosHoy=!1,this.tieneEventosFuturos=!1,this.hasMin=function(t){return this.length&&this.reduce((function(e,a){return e[t]<a[t]?e:a}))||null}}return _createClass(t,[{key:"ngOnInit",value:function(){l().locale("es"),this.fechaActual=this.transformDate(l(),"YYYY-MM-DD"),this.anioActual=this.transformDate(l(),"YYYY"),sessionStorage.UsuarioAps&&(this.usuarioAps=JSON.parse(sessionStorage.UsuarioAps),this.usuarioAps&&(this.miColor=this.utiles.entregaColor(this.usuarioAps),this.usuarioAps.UrlImagen=c.a.URL_FOTOS+this.usuarioAps.UrlImagen,this.runPaciente=this.utiles.insertarGuion(this.usuarioAps.Rut),this.codigoDeis=this.usuarioAps.ConfiguracionNodo.CodigoDeis2014,this.nodId=this.usuarioAps.ConfiguracionNodo.NodId)),this.mesActualSeleccionado=l().month()+1+","+l().year();var t=new Array("domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"),e=new Array("enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre");this.diaSem=t[(new Date).getDay()],this.hoy=(new Date).getDate(),this.meses=e[(new Date).getMonth()],this.anio=(new Date).getFullYear(),l().year(),l().month(),this.tratamientoMeses(),this.parametrosApp.USA_API_MANAGEMENT()?this.cargarTodosLosEventosApi():this.cargarTodosLosEventos()}},{key:"getTime",value:function(t){return null!=t?new Date(t).getTime():0}},{key:"cargarTodosLosEventosApi",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,a,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.citasVerticalTodas=[],this.citasVerticalMostrar=[],e=l(),a={mes:e.month()+1,anno:e.year()},t.next=4,this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null,duration:2e3});case 4:return i=t.sent,this.estaCargando=!0,this.tituloLoading="Obteniendo calendario",t.next=9,i.present().then((function(){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.utiles.isAppOnDevice()?this.cita.entregaPorMesNuevoApiNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,a.mes,a.anno).then((function(t){return Object(r.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=JSON.parse(t.data),this.procesarArregloCitasTodas(),this.citasVerticalMostrar=this.citasVerticalTodas.filter((function(t){return 1==t.Mostrar})),this.citasVerticalMostrar.sort((function(t,e){return a.getTime(t.FechaCompleta)-a.getTime(e.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","descendente"),this.citasVerticalTodasTop=this.citasVerticalMostrar.slice(0,this.topLimit),i.dismiss(),this.estaCargando=!1,this.tituloLoading="";case 1:case"end":return e.stop()}}),e,this)})))})).catch((function(t){e.estaCargando=!1,e.tituloLoading="",i.dismiss(),e.tiene=!1,e.utiles.presentToast("Se produjo un error al obtener la informaci\xf3n, vuelva a intentarlo m\xe1s tarde","bottom",3e3),e.agregarUnElemento(l().toDate())})):this.cita.entregaPorMesNuevoApi(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,a.mes,a.anno).subscribe((function(t){return Object(r.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=t,this.procesarArregloCitasTodas(),this.citasVerticalMostrar=this.citasVerticalTodas.filter((function(t){return 1==t.Mostrar})),this.citasVerticalMostrar.sort((function(t,e){return a.getTime(t.FechaCompleta)-a.getTime(e.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","descendente"),this.citasVerticalTodasTop=this.citasVerticalMostrar.slice(0,this.topLimit),console.log(this.tieneEventosFuturos),i.dismiss(),this.estaCargando=!1,this.tituloLoading="",this.scrollListVisible();case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){e.estaCargando=!1,e.tituloLoading="",i.dismiss(),e.tiene=!1,e.utiles.presentToast("Se produjo un error al obtener la informaci\xf3n, vuelva a intentarlo m\xe1s tarde","bottom",3e3),e.agregarUnElemento(l().toDate()),console.log(e.tieneEventosFuturos)}));case 1:case"end":return t.stop()}}),t,this)})))}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"cargarTodosLosEventos",value:function(){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,a,i,o,n,s,c,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.citasVerticalTodas=[],this.citasVerticalMostrar=[],e=l(),a=l().subtract(1,"month"),i=l().add(1,"month"),o={mes:a.month()+1,anno:a.year()},n={mes:e.month()+1,anno:e.year()},s={mes:i.month()+1,anno:i.year()},t.next=4,this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null,duration:2e3});case 4:return c=t.sent,this.estaCargando=!0,this.tituloLoading="Cargando calendario",t.next=9,c.present().then((function(){return Object(r.b)(u,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.utiles.isAppOnDevice()?this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,o.mes,o.anno).then((function(t){return Object(r.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=JSON.parse(t.data),this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,n.mes,n.anno).then((function(t){return Object(r.b)(a,void 0,void 0,regeneratorRuntime.mark((function e(){var a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(t.data),this.citasVerticalTodas=this.citasVerticalTodas.concat(a),this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,s.mes,s.anno).then((function(t){return Object(r.b)(i,void 0,void 0,regeneratorRuntime.mark((function e(){var a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(t.data),this.citasVerticalTodas=this.citasVerticalTodas.concat(a),this.procesarArregloCitasTodas(),this.citasVerticalMostrar=this.citasVerticalTodas.filter((function(t){return 1==t.Mostrar})),this.citasVerticalMostrar.sort((function(t,e){return i.getTime(e.FechaCompleta)-i.getTime(t.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","descendente"),this.citasVerticalTodasTop=this.citasVerticalMostrar.slice(0,this.topLimit),c.dismiss(),this.estaCargando=!1,this.tituloLoading="";case 2:case"end":return e.stop()}}),e,this)})))}));case 2:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))})):this.cita.entregaPorMesNuevo(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,o.mes,o.anno).subscribe((function(t){return Object(r.b)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=t,this.cita.entregaPorMesNuevo(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,n.mes,n.anno).subscribe((function(t){return Object(r.b)(a,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=this.citasVerticalTodas.concat(t),this.cita.entregaPorMesNuevo(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,s.mes,s.anno).subscribe((function(t){return Object(r.b)(a,void 0,void 0,regeneratorRuntime.mark((function e(){var a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVerticalTodas=this.citasVerticalTodas.concat(t),this.procesarArregloCitasTodas(),this.citasVerticalMostrar=this.citasVerticalTodas.filter((function(t){return 1==t.Mostrar})),this.citasVerticalMostrar.sort((function(t,e){return a.getTime(t.FechaCompleta)-a.getTime(e.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","descendente"),this.citasVerticalTodasTop=this.citasVerticalMostrar.slice(0,this.topLimit),c.dismiss(),this.estaCargando=!1,this.tituloLoading="";case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return t.stop()}}),t,this)})))}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){this.acceso.logout(),this.navCtrl.navigateRoot("nuevo-login")}},{key:"procesarArregloCitas",value:function(){var t=0;for(var e in this.citasVertical)for(var a in this.citasVertical[e].Eventos){var i=l(this.citasVertical[e].Eventos[a].DetalleEventoMes.FechaHora,"YYYY-MM-DD").toDate(),o=l().toDate();t++,this.citasVertical[e].Eventos[a]&&("Pr\xf3xima Cita"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="agendar_citas.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Cita programada"),"Pr\xf3xima Cita Web"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="agendar_citas.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Cita programada web"),"Atenci\xf3n Realizada"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="atenciones.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Atenci\xf3n Realizada"),"F\xe1rmaco en uso"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="retiro-de-medicamentos.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="F\xe1rmaco en uso"),"F\xe1rmaco Pendiente"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="retiro-de-medicamentos.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="F\xe1rmaco en uso"),"Alimento Entregado"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="retiro-de-alimentos.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Entrega de alimento"),"Vacuna Administrada"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="vacunas.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Inmunizaci\xf3n"),"Vacuna por administrar"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Subtitulo&&(this.citasVertical[e].Eventos[a].Imagen="vacunas.svg",this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Vacuna")),i<o&&"Entrega de alimento"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo&&(this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Alimento entregado"),i<o&&"Entrega de f\xe1rmaco"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo&&(this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="F\xe1rmaco entregado"),i<o&&"Inmunizaci\xf3n"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo&&(this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Vacuna administrada"),i<o&&"Vacuna"==this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo&&(this.citasVertical[e].Eventos[a].DetalleEventoMes.Titulo="Vacuna por administrar")}this.tiene=0!=t}},{key:"procesarArregloCitasTodas",value:function(){var t=0;for(var e in this.citasVerticalTodas){var a=l(),i=l(this.citasVerticalTodas[e].FechaCompleta),o=a.diff(i);for(var n in o<0&&(o*=-1),this.citasVerticalTodas[e].DiferenciaFechas=o,this.citasVerticalTodas[e].Eventos){var s=l(this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.FechaHora,"YYYY-MM-DD").toDate(),r=l().toDate();console.log("Evento: "+s),console.log("Hoy:"+r),l(r).format("DD-MM-YYYY")==l(s).format("DD-MM-YYYY")&&(this.tieneEventosHoy=!0),l(s).isAfter(l(r))&&(this.tieneEventosFuturos=!0),this.fechaParaHoy=l(r).format("DD")+" de "+l(r).format("MMMM"),console.log(this.fechaParaHoy),t++,this.citasVerticalTodas[e].Eventos[n]&&("Pr\xf3xima Cita"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="agendar_citas.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Cita programada"),"Pr\xf3xima Cita Web"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="agendar_citas.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Cita programada web"),"Atenci\xf3n Realizada"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="atenciones.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Atenci\xf3n Realizada"),"F\xe1rmaco en uso"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="retiro-de-medicamentos.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="F\xe1rmaco en uso"),"F\xe1rmaco Pendiente"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="retiro-de-medicamentos.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="F\xe1rmaco en uso"),"Alimento Entregado"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="retiro-de-alimentos.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Entrega de alimento"),"Vacuna Administrada"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="vacunas.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Inmunizaci\xf3n"),"Vacuna por administrar"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Subtitulo&&(this.citasVerticalTodas[e].Eventos[n].Imagen="vacunas.svg",this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Vacuna")),s<r&&"Entrega de alimento"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo&&(this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Alimento entregado"),s<r&&"Entrega de f\xe1rmaco"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo&&(this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="F\xe1rmaco entregado"),s<r&&"Inmunizaci\xf3n"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo&&(this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Vacuna administrada"),s<r&&"Vacuna"==this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo&&(this.citasVerticalTodas[e].Eventos[n].DetalleEventoMes.Titulo="Vacuna por administrar")}}if(this.tiene=0!=t,0==this.tieneEventosHoy){var c=this.citasVerticalTodas.length+1,u={FechaCompleta:r,Id:parseInt(l(r).format("DD")),Mostrar:!0,NombreDia:l(r).format("dddd"),NombreDiaReducido:l(r).format("ddd"),NumeroDia:parseInt(l(r).format("DD")),Indice:c,DiferenciaFechas:10,NoHayEvento:!0,Eventos:[{Color:null,HoraInicioFin:"00:00",Imagen:"agendar_citas.svg",ListaFarmacos:null,NombrePrincipal:"Nada planificado para hoy",NombreSecundario:"Nada planificado para hoy",DetalleEventoMes:{DescripcionPrincipal:"Nada planificado para hoy",DescripcionSecundaria:"Nada planificado para hoy",Estado:"",FechaHora:r,IdElemento:0,Lugar:"",NombrePaciente:"",Subtitulo:"Nada planificado para hoy",Titulo:"Nada planificado para hoy"}}]};this.citasVerticalTodas.push(u)}}},{key:"agregarUnElemento",value:function(t){if(0==this.tieneEventosHoy){var e=this.citasVerticalTodas.length+1,a={FechaCompleta:t,Id:parseInt(l(t).format("DD")),Mostrar:!0,NombreDia:l(t).format("dddd"),NombreDiaReducido:l(t).format("ddd"),NumeroDia:parseInt(l(t).format("DD")),Indice:e,DiferenciaFechas:10,NoHayEvento:!0,Eventos:[{Color:null,HoraInicioFin:"00:00",Imagen:"agendar_citas.svg",ListaFarmacos:null,NombrePrincipal:"Nada planificado para hoy",NombreSecundario:"Nada planificado para hoy",DetalleEventoMes:{DescripcionPrincipal:"Nada planificado para hoy",DescripcionSecundaria:"Nada planificado para hoy",Estado:"",FechaHora:t,IdElemento:0,Lugar:"",NombrePaciente:"",Subtitulo:"Nada planificado para hoy",Titulo:"Nada planificado para hoy"}}]};this.citasVerticalTodas.push(a),this.citasVerticalTodasTop=this.citasVerticalTodas,this.tiene=!1}}},{key:"ordenar",value:function(){var t=this;sessionStorage.getItem("ORDEN_EVENTOS")&&"descendente"==sessionStorage.getItem("ORDEN_EVENTOS")?(this.citasVerticalTodasTop.sort((function(e,a){return t.getTime(e.FechaCompleta)-t.getTime(a.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","ascendente")):(this.citasVerticalTodasTop.sort((function(e,a){return t.getTime(a.FechaCompleta)-t.getTime(e.FechaCompleta)})),sessionStorage.setItem("ORDEN_EVENTOS","descendente")),this.scrollListVisible()}},{key:"loadData",value:function(t){var e=this;setTimeout((function(){e.topLimit+=5,e.citasVerticalTodasTop=e.citasVerticalMostrar.slice(0,e.topLimit),t.target.complete(),e.citasVerticalTodasTop.length==e.citasVerticalMostrar.length&&(t.target.disabled=!0)}),500)}},{key:"cargarDatosNativeN",value:function(t,e,a){var i=this;this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,t,e).then((function(o){return Object(r.b)(i,void 0,void 0,regeneratorRuntime.mark((function i(){var o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,t,e).then((function(t){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVertical=JSON.parse(t.data),this.citasVerticalMostrar=this.citasVertical.filter((function(t){return 1==t.Mostrar})),this.procesarArregloCitas(),a.dismiss();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return i.stop()}}),i,this)})))}))}},{key:"cargarDatosWebN",value:function(t,e,a){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.cita.entregaPorMesNuevo(this.usuarioAps.Id,this.usuarioAps.IdRyf,this.usuarioAps.NodId,t,e).subscribe((function(t){return Object(r.b)(o,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.citasVertical=t,this.citasVerticalMostrar=this.citasVertical.filter((function(t){return 1==t.Mostrar})),this.procesarArregloCitas(),a.dismiss();case 1:case"end":return e.stop()}}),e,this)})))}));case 1:case"end":return i.stop()}}),i,this)})))}},{key:"tratamientoMeses",value:function(){this.mesesVertical=[],l.locale("es-es");var t=l(),e=l().subtract(1,"month"),a=l().add(1,"month"),i=l(t).month()+1,o=l(e).month()+1,n=l(a).month()+1,s=l(t).format("MMMM").toUpperCase(),r=l(e).format("MMMM").toUpperCase(),c=l(a).format("MMMM").toUpperCase(),u=l(t).format("YYYY"),d=l(e).format("YYYY"),h=l(a).format("YYYY"),m={mesNumero:i+","+u,mesTexto:s,anno:u},p={mesNumero:n+","+h,mesTexto:c,anno:h};this.mesesVertical.push({mesNumero:o+","+d,mesTexto:r,anno:d}),this.mesesVertical.push(m),this.mesesVertical.push(p)}},{key:"createEventsCalendario",value:function(){return this.calendarioData=this.citas,this.calendarioData}},{key:"goToDetalleCita",value:function(t){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:u.a,componentProps:{evento:JSON.stringify(t),usuario:JSON.stringify(this.usuarioAps)}});case 2:return(a=e.sent).onDidDismiss().then((function(t){if(t.data&&t.data.accion){var e=t.data.accion;l().year(),l().month(),i.tratamientoMeses(),"booked"===e?i.utiles.presentToast("Cita reservada con \xe9xito!!","bottom",3e3):"confirmed"===e?i.utiles.presentToast("Cita confirmada con \xe9xito!!","bottom",3e3):"cancelled"===e&&i.utiles.presentToast("Cita anulada con \xe9xito!!","bottom",3e3),i.parametrosApp.USA_API_MANAGEMENT()?i.cargarTodosLosEventosApi():i.cargarTodosLosEventos()}})),e.next=6,a.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"procesarRespuesta",value:function(t,e){this.citasIntegracion=[],t&&t.Mensaje&&("MSG_CORRECTO"==t.Mensaje.Detalle.Codigo&&(this.citasIntegracion=t.CitasDisponibles),e.dismiss())}},{key:"revisarCita",value:function(t,e){return"booked"==t.DetalleEventoMes.Estado&&"Confirmar"==e?[!0,!0]:"confirmed"==t.DetalleEventoMes.Estado&&"Anular"==e?[!1,!0]:"booked"==t.DetalleEventoMes.Estado&&"Anular"==e?[!0,!0]:[!1,!1]}},{key:"presentAlertConfirm",value:function(t,e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var i,o=this;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.alertController.create({header:t.Titulo,message:t.Alert,buttons:[{text:"No",role:"cancel",cssClass:"danger",handler:function(t){}},{text:"Si",cssClass:"success",handler:function(){o.accionCita(t,e)}}]});case 2:return i=a.sent,a.next=5,i.present();case 5:case"end":return a.stop()}}),a,this)})))}},{key:"accionCita",value:function(t,e){return Object(r.b)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var i,o,n,s,c=this;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.DetalleEventoMes.Estado||""==e.DetalleEventoMes.Estado){a.next=9;break}return i=this.utiles.entregaUsuarioNombre(e.DetalleEventoMes.NombrePaciente).Rut,o=e.DetalleEventoMes.IdElemento,n=t.Operacion,a.next=4,this.loading.create({cssClass:"loading-vacio",showBackdrop:!1,spinner:null,duration:2e3});case 4:return s=a.sent,this.estaCargando=!0,this.tituloLoading="Obteniendo respuesta",a.next=9,s.present().then((function(){return Object(r.b)(c,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.utiles.isAppOnDevice()?this.cita.getOperacionCitaNative(o,i,n).then((function(t){var a=JSON.parse(t.data);e.procesarRespuestaAgendar(a,s,n)})):this.cita.getOperacionCita(o,i,n).subscribe((function(t){e.procesarRespuestaAgendar(t,s,n)}));case 1:case"end":return t.stop()}}),t,this)})))}));case 9:case"end":return a.stop()}}),a,this)})))}},{key:"procesarRespuestaAgendar",value:function(t,e,a){t&&t.Mensaje?"correcto"==t.Mensaje.Codigo?(l().year(),l().month(),this.tratamientoMeses(),this.estaCargando=!1,this.tituloLoading="","booked"===a?this.utiles.presentToast("Cita reservada con \xe9xito!!","bottom",3e3):"confirmed"===a?this.utiles.presentToast("Cita confirmada con \xe9xito!!","bottom",3e3):"cancelled"===a&&(t.CitasDisponibles&&1==t.CitasDisponibles.length&&this.utiles.removeCitaNotificacionesLocales(t.CitasDisponibles[0].IdCita),this.utiles.presentToast("Cita anulada con \xe9xito!!","bottom",3e3)),this.parametrosApp.USA_API_MANAGEMENT()?this.cargarTodosLosEventosApi():this.cargarTodosLosEventos()):(this.estaCargando=!1,this.tituloLoading="",this.utiles.presentToast(t.Mensaje.Detalle.Texto,"middle",2e3)):(this.estaCargando=!1,this.tituloLoading="",this.utiles.presentToast("Error en la operaci\xf3n","middle",2e3)),e.dismiss()}},{key:"openReservarHoraPage",value:function(){this.utiles.tieneFamilia()?this.navCtrl.navigateRoot("seleccion-usuario"):this.navCtrl.navigateRoot(["pre-tiposatencion"],{queryParams:{Id:this.usuarioAps.Id}})}},{key:"revisaEstado",value:function(t){var e=!1;return t.DetalleEventoMes&&t.DetalleEventoMes.Estado&&null!=t.DetalleEventoMes.Estado&&""!=t.DetalleEventoMes.Estado&&(e=!0),e}},{key:"transformDate",value:function(t,e){return(new d.a).transform(t,e)}},{key:"determinaFechaMasCercana",value:function(){var t=l();if(this.citasVerticalTodasTop&&this.citasVerticalTodasTop.length>0)for(var e=0;e<this.citasVerticalTodasTop.length;e++){var a=l(this.citasVerticalTodasTop[e].FechaCompleta),i=t.diff(a);i<0&&(i*=-1),this.citasVerticalTodasTop[e].DiferenciaFechas=i}}},{key:"finder",value:function(t,e,a){for(var i=e[0][a],o=1;o<e.length;o++)i=t(i,e[o][a]);return i}},{key:"scrollListVisible",value:function(){var t=this;setTimeout((function(){var e=t.finder(Math.min,t.citasVerticalTodasTop,"DiferenciaFechas");if(e){var a=t.citasVerticalTodasTop.filter((function(t){return t.DiferenciaFechas==e}))[0];if(a){var i=document.getElementById(a.DiferenciaFechas.toString()).offsetTop;null!=i&&t.content.scrollToPoint(0,i,600)}}}),1e3)}}]),t}()).\u0275fac=function(t){return new(t||B)(m.Qb(n.Z),m.Qb(n.gb),m.Qb(n.Y),m.Qb(n.bb),m.Qb(n.X),m.Qb(s.a),m.Qb(s.g),m.Qb(p.a),m.Qb(n.W),m.Qb(g.a),m.Qb(v.a),m.Qb(f.a),m.Qb(n.a),m.Qb(b.a))},B.\u0275cmp=m.Kb({type:B,selectors:[["app-calendario"]],viewQuery:function(t,e){var a;1&t&&(m.Fc(N,!0,n.z),m.Fc(R,!0,h.a),m.vc(x,!0)),2&t&&(m.pc(a=m.ec())&&(e.list=a.first),m.pc(a=m.ec())&&(e.listCarda=a.first),m.pc(a=m.ec())&&(e.content=a.first))},decls:16,vars:5,consts:[["color","primary","mode","md"],["slot","start"],["defaultHref","/home",1,"fcw"],[1,"fcw"],[1,"back-app",2,"--padding-bottom","50px !important"],["content",""],[3,"mostrar","titulo"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",2,"min-height","48px",3,"hidden"],["color","secondary","shape","round",2,"min-height","48px",3,"click"],["slot","start","name","add-outline",2,"font-size","24px","margin-right","12px"],[1,"botonReservar",2,"font-size","1em"],[3,"hidden",4,"ngFor","ngForOf"],[1,"ion-padding",2,"position","absolute","display","table","height","90%","font-size","16px","color","rgba(0, 0, 0, 0.54)","text-align","center","width","-webkit-fill-available"],[2,"display","table-cell","vertical-align","middle"],[3,"hidden"],[3,"fechaActual","item","anioActual"],["class","ion-no-padding ion-no-margin row-card",4,"ngIf"],[1,"ion-no-padding","ion-no-margin","row-card"],["color","light","style","margin-bottom: 8px;","id","myListCard",4,"ngFor","ngForOf"],["color","light","id","myListCard",2,"margin-bottom","8px"],[3,"click"],[1,"hora"],[1,"ion-text-capitalize"],[1,"img-card"],[1,"example-header-image",3,"src"],["color","primary","mat-button","",3,"click",4,"ngIf"],["color","primary","mat-button","",3,"click"],[3,"hidden",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Cargando m\xe1s eventos..."],["class","hora",4,"ngIf"],[1,"ion-padding",2,"display","table","height","10%","font-size","16px","color","rgba(0, 0, 0, 0.54)","text-align","center","width","-webkit-fill-available"]],template:function(t,e){1&t&&(m.Vb(0,"ion-header"),m.Vb(1,"ion-toolbar",0),m.Vb(2,"ion-buttons",1),m.Rb(3,"ion-back-button",2),m.Ub(),m.Vb(4,"ion-title",3),m.zc(5,"Calendario"),m.Ub(),m.Ub(),m.Ub(),m.Vb(6,"ion-content",4,5),m.Rb(8,"app-progress",6),m.yc(9,_,7,1,"div",7),m.yc(10,X,5,2,"div",7),m.Ub(),m.Vb(11,"ion-fab",8),m.Vb(12,"ion-button",9),m.dc("click",(function(){return e.openReservarHoraPage()})),m.Rb(13,"ion-icon",10),m.Vb(14,"span",11),m.zc(15,"RESERVAR HORA"),m.Ub(),m.Ub(),m.Ub()),2&t&&(m.Cb(8),m.jc("mostrar",e.estaCargando)("titulo",e.tituloLoading),m.Cb(1),m.jc("ngIf",!e.tiene),m.Cb(1),m.jc("ngIf",e.tiene),m.Cb(1),m.jc("hidden",e.estaCargando))},directives:[n.u,n.T,n.i,n.e,n.f,n.R,n.p,C.a,i.k,n.r,n.h,n.v,i.j,n.t,y,n.K,h.a,h.c,h.e,h.f,h.b,I.b,n.w,n.x],styles:["ion-select[_ngcontent-%COMP%]{width:100%;justify-content:center}ion-select[_ngcontent-%COMP%]::part(placeholder), ion-select[_ngcontent-%COMP%]::part(text){flex:0 0 auto}ion-select[_ngcontent-%COMP%]::part(placeholder){color:#20a08a;opacity:1}ion-select[_ngcontent-%COMP%]::part(placeholder):first-letter{font-size:24px;font-weight:500}ion-select[_ngcontent-%COMP%]::part(text){color:#545ca7}ion-select[_ngcontent-%COMP%]::part(icon){color:#971e49;opacity:1}.content-card-fav[_ngcontent-%COMP%]{height:58px;min-height:56px}.ion-fav-calendar[_ngcontent-%COMP%]{height:48px;width:48px}.botonReservar[_ngcontent-%COMP%]{color:#fff;font-family:Roboto;font-size:.875em;font-weight:500;letter-spacing:1.25px;text-transform:uppercase;opacity:1}.example-header-image[_ngcontent-%COMP%]{background-size:cover;width:80px;height:80px;-o-object-fit:cover;object-fit:cover}mat-card[_ngcontent-%COMP%]{width:100%;max-width:100%;min-width:100%}[_ngcontent-%COMP%]::ng-dep   .mat-card-header-text[_ngcontent-%COMP%]{width:100%;margin:0}.hora[_ngcontent-%COMP%]{font-size:.8em}.row-card[_ngcontent-%COMP%]{margin-left:16px;margin-right:16px}.img-card[_ngcontent-%COMP%]{width:80px;float:right;margin:0;padding:0;min-width:80px}hr[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;border:0;height:1px;background-color:rgba(0,0,0,.12)}.button-native[_ngcontent-%COMP%]{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}"]}),B),tt=a("07l/"),et=a("j1ZV"),at=((Z=function t(){_classCallCheck(this,t)}).\u0275mod=m.Ob({type:Z}),Z.\u0275inj=m.Nb({factory:function(t){return new(t||Z)},imports:[[i.c,o.g,n.U,tt.a,h.d,I.c,et.a,s.j.forChild([{path:"",component:q}])]]}),Z)}}]);