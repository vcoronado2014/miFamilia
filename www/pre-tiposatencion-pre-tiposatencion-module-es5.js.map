{"version":3,"sources":["webpack:///src/app/pre-tiposatencion/pre-tiposatencion.page.html","webpack:///src/app/pre-tiposatencion/pre-tiposatencion.module.ts","webpack:///src/app/pre-tiposatencion/pre-tiposatencion.page.scss","webpack:///src/app/pre-tiposatencion/pre-tiposatencion.page.ts"],"names":["PreTiposatencionPageModule","imports","forChild","path","component","declarations","PreTiposatencionPage","navCtrl","toast","modalCtrl","platform","loading","menu","utiles","acceso","cita","parametrosApp","activatedRoute","router","miColor","textColor","runPaciente","codigoDeis","serviceType","tipoOperacion","citas","citasFiltradas","tiposAtencion","comboSeleccionado","idComboSeleccionado","mostrarProgress","encontroCitas","disabledCombo","paginaActual","mostrarProgressDisp","encontroCitasDisp","queryParams","subscribe","params","Id","usuarioAps","entregaUsuario","UrlImagen","entregaImagen","entregaColor","insertarGuion","Rut","ConfiguracionNodo","CodigoDeis2014","nodId","NodId","crearTiposAtencion","setFechasInicioFin","USA_API_MANAGEMENT","buscarDisponibilidadApi","fechaInicio","fechaTermino","buscarDisponibilidad","presentToast","fechaIni","add","HORAS_FECHA_INICIO","date","Date","console","log","year","month","fechaTer","dateFin","format","sessionStorage","setItem","start","end","organization","patient","create","cssClass","showBackdrop","spinner","loader","present","then","isAppOnDevice","getDisponibilidad","response","procesarRespuestaTotal","getDisponibilidadNative","respuesta","JSON","parse","data","getDisponibilidadApi","error","message","dismiss","getDisponibilidadApiNative","responseD","respuestaDisp","Mensaje","Codigo","contador","TiposAtencion","agregarTiposAtencion","CitasDisponibles","stringify","indice","length","forEach","TipoAtencion","push","entidadInicial","Texto","Valor","Selected","tipos","tipo","entidadTipo","event","value","seleccionarItemCombo","setTimeout","indexarCitas","pi","transform","dateString","retorno","parteT","split","partes","item","itemSelected","componentProps","modal","onDidDismiss","accion","navigateRoot","selector","template"],"mappings":"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","file":"pre-tiposatencion-pre-tiposatencion-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/calendario\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Reserva de horas</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <!-- combo de reserva de horas -->\\r\\n    <mat-form-field appearance=\\\"outline\\\" class=\\\"field-tipo-atencion\\\">\\r\\n      <mat-label>Tipo atención</mat-label>\\r\\n      <mat-select [disabled]=\\\"disabledCombo\\\" [(ngModel)]=\\\"comboSeleccionado\\\" (selectionChange)=\\\"buscarCitas($event)\\\">\\r\\n        <mat-option *ngFor=\\\"let tipo of tiposAtencion\\\" [value]=\\\"tipo.Texto\\\">{{tipo.Texto}}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n  \\r\\n  <!-- progress bar -->\\r\\n<!--   <div class=\\\"centrado\\\" [hidden]=\\\"!mostrarProgress\\\">\\r\\n    <ion-label class=\\\"titulo-item-2\\\">Buscando citas</ion-label>\\r\\n    <ion-progress-bar type=\\\"indeterminate\\\" class=\\\"ion-margin-top\\\"></ion-progress-bar>\\r\\n  </div> -->\\r\\n  <app-progress [mostrar]=\\\"mostrarProgress\\\" titulo=\\\"Buscando citas\\\"></app-progress>\\r\\n  <!-- progress bar buscando tipos de atencion  -->\\r\\n<!--   <div class=\\\"centradoDisp\\\" [hidden]=\\\"!mostrarProgressDisp\\\">\\r\\n    <ion-label class=\\\"titulo-item-2\\\">Buscando tipos atención</ion-label>\\r\\n    <ion-progress-bar type=\\\"indeterminate\\\" class=\\\"ion-margin-top\\\"></ion-progress-bar>\\r\\n  </div> -->\\r\\n  <app-progress [mostrar]=\\\"mostrarProgressDisp\\\" titulo=\\\"Buscando tipos atención\\\"></app-progress>\\r\\n  <!-- resultados -->\\r\\n  <div *ngIf=\\\"encontroCitas\\\">\\r\\n    <div class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n      <h6 class=\\\"titulo-item\\\">\\r\\n        Citas más próximas\\r\\n      </h6>\\r\\n      <p class=\\\"ion-text-wrap texto-item\\\">\\r\\n        A continuación se listan los cupos disponibles más próximos.\\r\\n      </p>\\r\\n    </div>\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <ion-grid class=\\\"ion-no-padding\\\" *ngFor=\\\"let cita of citasFiltradas\\\">\\r\\n        <ion-row class=\\\"ion-padding-bottom ion-padding-top linea-item\\\" *ngIf=\\\"cita.indice <= 3\\\" (click)=\\\"citaSelected(cita)\\\">\\r\\n          <ion-col size=\\\"9\\\" class=\\\"texto-item ion-text-capitalize\\\">\\r\\n            {{cita.Servicio.Nombre}}\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"3\\\" class=\\\"titulo-hora ion-text-end\\\">\\r\\n            {{transformDateIso(cita.FechaHoraInicio)}}\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" class=\\\"titulo-fecha\\\" class=\\\"ion-text-capitalize\\\">\\r\\n            {{transformDate(cita.FechaHoraInicio, 'dddd DD MMMM YYYY')}}\\r\\n          </ion-col>\\r\\n          <ion-col class=\\\"texto-item ion-text-capitalize\\\">\\r\\n            {{cita.NombresMedico.toLowerCase()}} {{cita.ApellidosMedico.toLowerCase()}}\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </div>\\r\\n    <!--pie de búsqueda -->\\r\\n    <div class=\\\"pl-24 pr-24\\\">\\r\\n      <p class=\\\"ion-text-wrap texto-item ion-text-left\\\">\\r\\n        Si no te sirven los cupos propuesto prueba con la búsqueda avanzada.\\r\\n      </p>\\r\\n    </div>\\r\\n    <!-- boton busqueda avanzada -->\\r\\n    <div class=\\\"ion-padding-top\\\">\\r\\n      <ion-button expand=\\\"full\\\" fill=\\\"clear\\\" (click)=\\\"openBusquedaAvanzada()\\\">BÚSQUEDA AVANZADA</ion-button>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n  <div *ngIf=\\\"!encontroCitas && mostrarProgress == false && citasFiltradas.length > 0\\\" class=\\\"ion-padding-start ion-padding-end centrado\\\">\\r\\n    <ion-label class=\\\"ion-text-center no-encontrado\\\">No existen cupos con los criterios ingresados</ion-label>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  \\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { PreTiposatencionPage } from './pre-tiposatencion.page';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: PreTiposatencionPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [PreTiposatencionPage]\r\n})\r\nexport class PreTiposatencionPageModule {}\r\n","export default \".combo {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.centrado {\\n  text-align: center;\\n  width: 100%;\\n  height: 10%;\\n  position: absolute;\\n  top: 45%;\\n  padding-left: 60px;\\n  padding-right: 60px;\\n}\\n\\n.titulo-item {\\n  font-size: 14px;\\n  color: #000000DE;\\n  font-weight: bold;\\n}\\n\\n.texto-item {\\n  color: #00000099;\\n  font-size: 14px;\\n}\\n\\n.titulo-fecha {\\n  font-size: 16px;\\n  color: #000000DE;\\n}\\n\\n.titulo-hora {\\n  font-size: 12px;\\n  color: #000000DE;\\n}\\n\\n.no-encontrado {\\n  font-size: 16px;\\n  color: #0000008A;\\n}\\n\\n.pt-8 {\\n  padding-top: 8px;\\n}\\n\\n.pb-8 {\\n  padding-bottom: 8px;\\n}\\n\\n.pl-24 {\\n  padding-left: 24px;\\n}\\n\\n.pr-24 {\\n  padding-right: 24px;\\n}\\n\\n.linea-item {\\n  border-bottom-style: solid;\\n  border-bottom-width: 1px;\\n  border-bottom-color: #0000001F;\\n}\\n\\n.borde {\\n  border-radius: 5px;\\n  border: 1px solid #0000001F;\\n  padding: 5px;\\n  padding-top: 0;\\n}\\n\\n.label-tda {\\n  position: relative;\\n  top: -10px;\\n  margin-left: 16px;\\n  padding-left: 2px;\\n  padding-right: 5px;\\n  background: white;\\n}\\n\\n.pt-32 {\\n  padding-top: 32px;\\n}\\n\\n.titulo-item-2 {\\n  font-size: 16px;\\n  color: #000000DE;\\n}\\n\\n/*centrado disponibilidad*/\\n\\n.centradoDisp {\\n  text-align: center;\\n  width: 100%;\\n  height: 10%;\\n  position: absolute;\\n  top: 35%;\\n  padding-left: 60px;\\n  padding-right: 60px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJlLXRpcG9zYXRlbmNpb24vRjpcXGFwcF9taWZhbWlsaWFfZ2l0XFxtaUZhbWlsaWFfcHJlL3NyY1xcYXBwXFxwcmUtdGlwb3NhdGVuY2lvblxccHJlLXRpcG9zYXRlbmNpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9wcmUtdGlwb3NhdGVuY2lvbi9wcmUtdGlwb3NhdGVuY2lvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtBQ0NKOztBRENBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNFSjs7QURBQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDR0o7O0FEREE7RUFDSSxnQkFBQTtFQUNBLGVBQUE7QUNJSjs7QURGQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtBQ0tKOztBREhBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDTUo7O0FESkE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUNPSjs7QURMQTtFQUNJLGdCQUFBO0FDUUo7O0FETkE7RUFDSSxtQkFBQTtBQ1NKOztBRFBBO0VBQ0ksa0JBQUE7QUNVSjs7QURSQTtFQUNJLG1CQUFBO0FDV0o7O0FEVEE7RUFDSSwwQkFBQTtFQUNBLHdCQUFBO0VBQ0EsOEJBQUE7QUNZSjs7QURWQTtFQUNJLGtCQUFBO0VBQ0EsMkJBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ2FKOztBRFhBO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNjSjs7QURaQTtFQUNJLGlCQUFBO0FDZUo7O0FEYkE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUNnQko7O0FEZEEsMEJBQUE7O0FBQ0E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ2lCSiIsImZpbGUiOiJzcmMvYXBwL3ByZS10aXBvc2F0ZW5jaW9uL3ByZS10aXBvc2F0ZW5jaW9uLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb21ib3tcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG59XHJcbi5jZW50cmFkb3tcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlOyAgICAgICBcclxuICAgIGhlaWdodDogMTAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOjQ1JTsgIFxyXG4gICAgcGFkZGluZy1sZWZ0OiA2MHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogNjBweDsgICAgICAgICBcclxufVxyXG4udGl0dWxvLWl0ZW17XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLnRleHRvLWl0ZW17XHJcbiAgICBjb2xvcjogIzAwMDAwMDk5O1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcbi50aXR1bG8tZmVjaGF7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG59XHJcbi50aXR1bG8taG9yYXtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwREU7XHJcbn1cclxuLm5vLWVuY29udHJhZG97XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMDhBO1xyXG59XHJcbi5wdC04e1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxufVxyXG4ucGItOHtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbn1cclxuLnBsLTI0e1xyXG4gICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG59XHJcbi5wci0yNHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbn1cclxuLmxpbmVhLWl0ZW17XHJcbiAgICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcclxuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDAwMDAxRjtcclxufVxyXG4uYm9yZGV7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwMUY7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMDtcclxufVxyXG4ubGFiZWwtdGRhe1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOi0xMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDE2cHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDJweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcbi5wdC0zMntcclxuICAgIHBhZGRpbmctdG9wOiAzMnB4O1xyXG59XHJcbi50aXR1bG8taXRlbS0ye1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxufVxyXG4vKmNlbnRyYWRvIGRpc3BvbmliaWxpZGFkKi9cclxuLmNlbnRyYWRvRGlzcHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlOyAgICAgICBcclxuICAgIGhlaWdodDogMTAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOjM1JTsgIFxyXG4gICAgcGFkZGluZy1sZWZ0OiA2MHB4O1xyXG4gICAgcGFkZGluZy1yaWdodDogNjBweDsgICAgICAgICBcclxufVxyXG5cclxuIiwiLmNvbWJvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuLmNlbnRyYWRvIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA0NSU7XG4gIHBhZGRpbmctbGVmdDogNjBweDtcbiAgcGFkZGluZy1yaWdodDogNjBweDtcbn1cblxuLnRpdHVsby1pdGVtIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogIzAwMDAwMERFO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnRleHRvLWl0ZW0ge1xuICBjb2xvcjogIzAwMDAwMDk5O1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi50aXR1bG8tZmVjaGEge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59XG5cbi50aXR1bG8taG9yYSB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6ICMwMDAwMDBERTtcbn1cblxuLm5vLWVuY29udHJhZG8ge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMDAwMDAwOEE7XG59XG5cbi5wdC04IHtcbiAgcGFkZGluZy10b3A6IDhweDtcbn1cblxuLnBiLTgge1xuICBwYWRkaW5nLWJvdHRvbTogOHB4O1xufVxuXG4ucGwtMjQge1xuICBwYWRkaW5nLWxlZnQ6IDI0cHg7XG59XG5cbi5wci0yNCB7XG4gIHBhZGRpbmctcmlnaHQ6IDI0cHg7XG59XG5cbi5saW5lYS1pdGVtIHtcbiAgYm9yZGVyLWJvdHRvbS1zdHlsZTogc29saWQ7XG4gIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzAwMDAwMDFGO1xufVxuXG4uYm9yZGUge1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMwMDAwMDAxRjtcbiAgcGFkZGluZzogNXB4O1xuICBwYWRkaW5nLXRvcDogMDtcbn1cblxuLmxhYmVsLXRkYSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiAtMTBweDtcbiAgbWFyZ2luLWxlZnQ6IDE2cHg7XG4gIHBhZGRpbmctbGVmdDogMnB4O1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xufVxuXG4ucHQtMzIge1xuICBwYWRkaW5nLXRvcDogMzJweDtcbn1cblxuLnRpdHVsby1pdGVtLTIge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59XG5cbi8qY2VudHJhZG8gZGlzcG9uaWJpbGlkYWQqL1xuLmNlbnRyYWRvRGlzcCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMzUlO1xuICBwYWRkaW5nLWxlZnQ6IDYwcHg7XG4gIHBhZGRpbmctcmlnaHQ6IDYwcHg7XG59Il19 */\";","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem } from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioParametrosApp } from '../../app/services/ServicioParametrosApp';\r\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\n/* import { ServicioGeo } from '../../app/services/ServicioGeo'; */\r\nimport * as moment from 'moment';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\n//pipe\r\nimport { FilterPipe } from '../../app/pipes/filter.pipe';\r\nimport { environment } from 'src/environments/environment';\r\n//modal\r\nimport { ModalOperacionCitaPage } from '../modal-operacion-cita/modal-operacion-cita.page';\r\n\r\n@Component({\r\n  selector: 'app-pre-tiposatencion',\r\n  templateUrl: './pre-tiposatencion.page.html',\r\n  styleUrls: ['./pre-tiposatencion.page.scss'],\r\n})\r\nexport class PreTiposatencionPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  public usuarioAps;\r\n  textColor = '#FFFFFF';\r\n  //datos para consultar citas\r\n  runPaciente = '';\r\n  codigoDeis = '';\r\n  serviceType = '349';\r\n  tipoOperacion = 'disponibilidad';\r\n  nodId;\r\n  //tipos de atencion disponibles y citas\r\n  citas = [];\r\n  citasFiltradas = [];\r\n  tiposAtencion = [];\r\n  comboSeleccionado ='Selecciona...';\r\n  idComboSeleccionado = 0;\r\n  //para el tratamiento de fechas\r\n  fechaInicio;\r\n  fechaTermino;\r\n  mostrarProgress = false;\r\n  encontroCitas = false;\r\n  disabledCombo = false;\r\n  paginaActual = 0;\r\n  itemSelected;\r\n  //para el progress de buscar diponibilidad\r\n  mostrarProgressDisp = false;\r\n  encontroCitasDisp = false;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public loading: LoadingController,\r\n    public menu:MenuController,\r\n    public utiles: ServicioUtiles,\r\n    public acceso: ServicioAcceso,\r\n    public cita: ServicioCitas,\r\n    public parametrosApp: ServicioParametrosApp,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    /* public global: ServicioGeo */\r\n  ) { }\r\n\r\n  //ACA QUEDÉ EN QUE AL REALIZAR LA OPERACION DE AGENDAMIENTO\r\n  //DEBEMOS VOLVER A UNA PAGINA INICIAL, SI MAL NO RECUERDO SE\r\n  //TRATARIA DE LA PAGINA CALENDARIO\r\n  \r\n\r\n  async ngOnInit() {\r\n    moment.locale('es');\r\n    //debemos recibir por parametro al usuario que le conseguiremos la hora\r\n    this.activatedRoute.queryParams.subscribe(async params => {\r\n      if (params && params.Id) {\r\n        //this.estaAgregandoFamilia = true;\r\n        this.usuarioAps = this.utiles.entregaUsuario(params.Id);\r\n        if (this.usuarioAps != null) {\r\n          this.usuarioAps.UrlImagen = this.utiles.entregaImagen(this.usuarioAps);\r\n          this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n          this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n          this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n          this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n          //creamos tipo atencion inicial\r\n          this.crearTiposAtencion();\r\n          this.setFechasInicioFin();\r\n          if (this.parametrosApp.USA_API_MANAGEMENT()) {\r\n            await this.buscarDisponibilidadApi(this.fechaInicio, this.fechaTermino, this.codigoDeis, this.runPaciente, this.serviceType, this.tipoOperacion);\r\n          }\r\n          else {\r\n            await this.buscarDisponibilidad(this.fechaInicio, this.fechaTermino, this.codigoDeis, this.runPaciente, this.serviceType, this.tipoOperacion);\r\n          }\r\n        }\r\n        else{\r\n          this.utiles.presentToast('No hay usuario, vuelva a seleccionar', 'bottom', 2000);\r\n        }\r\n      }\r\n      else{\r\n        this.utiles.presentToast('No hay usuario, vuelva a seleccionar', 'bottom', 2000);\r\n      }\r\n    });\r\n/*     if (sessionStorage.UsuarioAps) {\r\n      this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (this.usuarioAps) {\r\n        //this.usuarioAps.UrlImagen = this.utiles.entregaMiImagen();\r\n        this.usuarioAps.UrlImagen = this.utiles.entregaImagen(this.usuarioAps);\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n        this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n        this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n      }\r\n    } */\r\n\r\n  }\r\n  setFechasInicioFin(){\r\n    //var fechaIni = moment().add(environment.HORAS_FECHA_INICIO, 'hour');\r\n    var fechaIni = moment().add(this.parametrosApp.HORAS_FECHA_INICIO(), 'hour');\r\n    var date = new Date();\r\n    console.log(fechaIni);\r\n    date = new Date(fechaIni.year(), fechaIni.month(), fechaIni.date(), 0,0,0,0);\r\n    console.log(date);\r\n    var fechaTer = moment().add(1,'month');\r\n    var dateFin = new Date(fechaTer.year(), fechaTer.month(), fechaTer.date(), 23,59,0,0);\r\n    console.log(fechaTer);\r\n    console.log(dateFin);\r\n    this.fechaInicio = fechaIni.format();\r\n    this.fechaTermino = fechaTer.format();\r\n    //guardamos las fechas de consulta para después procesarlas\r\n    sessionStorage.setItem('FECHA_INICIO_CONSULTA', this.fechaInicio);\r\n    sessionStorage.setItem('FECHA_TERMINO_CONSULTA', this.fechaTermino);\r\n\r\n  }\r\n\r\n  \r\n  //metodo para obtener disponibilidad y tipos de atención\r\n  //lo comentamos debido a que se usará progress\r\n  \r\n  async buscarDisponibilidad(start, end, organization, patient, serviceType, tipoOperacion){\r\n    //ACA ME FALTA CONTROLAR LOS MENSAJES\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner:null,\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      //esto lo agregamos para desabilitarlo\r\n      this.disabledCombo = true;\r\n      //lo agregamos para mostrar la info de buscando disponibilidad\r\n      this.mostrarProgress = true;\r\n      //********************* */\r\n      this.citas = [];\r\n      this.citasFiltradas = [];\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.getDisponibilidad(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).subscribe((response: any)=>{\r\n          this.procesarRespuestaTotal(response, loader);\r\n        });\r\n/*         this.cita.getDisponibilidadApi(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).subscribe((response: any)=>{\r\n          this.procesarRespuestaTotal(response, loader);\r\n        }); */\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.getDisponibilidadNative(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).then((response: any)=>{\r\n          var respuesta = JSON.parse(response.data);\r\n          this.procesarRespuestaTotal(respuesta, loader);\r\n        });\r\n/*         this.cita.getDisponibilidadApiNative(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).then((response: any)=>{\r\n          var respuesta = JSON.parse(response.data);\r\n          this.procesarRespuestaTotal(respuesta, loader);\r\n        }); */\r\n      }\r\n    });\r\n  }\r\n  async buscarDisponibilidadApi(start, end, organization, patient, serviceType, tipoOperacion){\r\n    //ACA ME FALTA CONTROLAR LOS MENSAJES\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner:null,\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      //esto lo agregamos para desabilitarlo\r\n      this.disabledCombo = true;\r\n      this.mostrarProgressDisp = true;\r\n      //********************* */\r\n      this.citas = [];\r\n      this.citasFiltradas = [];\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.getDisponibilidadApi(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).subscribe((response: any) => {\r\n          this.procesarRespuestaTotal(response, loader);\r\n        },error=>{\r\n          console.log(error.message);\r\n          loader.dismiss();\r\n          this.disabledCombo = false;\r\n          this.mostrarProgressDisp = false;\r\n          this.utiles.presentToast('Se ha producido un error al obtener disponibilidad', 'bottom', 2000);\r\n        });\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.getDisponibilidadApiNative(start, end, organization, patient, serviceType, '', '', tipoOperacion, this.nodId).then((responseD: any) => {\r\n          var respuestaDisp = JSON.parse(responseD.data);\r\n          this.procesarRespuestaTotal(respuestaDisp, loader);\r\n        }).catch(error=>{\r\n          console.log(error.message);\r\n          loader.dismiss();\r\n          this.disabledCombo = false;\r\n          this.mostrarProgressDisp = false;\r\n          this.utiles.presentToast('Se ha producido un error al obtener disponibilidad', 'bottom', 2000);\r\n        });\r\n      }\r\n    });\r\n  }\r\n  \r\n  //metodo para procesar la respuesta\r\n  procesarRespuestaTotalDisp(data){\r\n    //vienen las citas sin fecha\r\n    this.citas = [];\r\n    this.citasFiltradas = [];\r\n    //this.tiposAtencion = [];\r\n    if (data && data.Mensaje){\r\n      //correcto\r\n      if (data.Mensaje.Codigo == 'correcto'){\r\n        //todo bien procesar las citas\r\n        var contador = 0;\r\n        if (data.TiposAtencion){\r\n          this.agregarTiposAtencion(data.TiposAtencion);\r\n          console.log(this.tiposAtencion);\r\n        }\r\n        //aca asignamos las citas\r\n        this.citas = data.CitasDisponibles;\r\n        console.log(this.citas);\r\n        //guardamos las citas en session\r\n        sessionStorage.setItem('CITAS_DISPONIBLES', JSON.stringify(this.citas));\r\n        //als citas deberíamos guardarlas para procesarlas\r\n        //hay que ver si es necesario o no\r\n      }\r\n      else{\r\n        this.idComboSeleccionado = 0;\r\n        this.tiposAtencion = [];\r\n        this.citas = [];\r\n        this.citasFiltradas = [];\r\n      }\r\n      this.mostrarProgressDisp = false;\r\n      this.encontroCitasDisp = true;\r\n      //error\r\n    }\r\n  }\r\n /*  capitalizeWords(texto){\r\n    return texto.replace(/(?:^|\\s)\\S/g, function(a) { return a.toUpperCase(); });\r\n  } */\r\n  procesarRespuestaTotal(data, loader){\r\n    //vienen las citas sin fecha\r\n    this.citas = [];\r\n    this.citasFiltradas = [];\r\n    //this.tiposAtencion = [];\r\n    if (data && data.Mensaje){\r\n      //correcto\r\n      if (data.Mensaje.Codigo == 'correcto'){\r\n        //todo bien procesar las citas\r\n        var contador = 0;\r\n        if (data.TiposAtencion){\r\n          this.agregarTiposAtencion(data.TiposAtencion);\r\n          console.log(this.tiposAtencion);\r\n        }\r\n        //aca asignamos las citas\r\n        this.citas = data.CitasDisponibles;\r\n        console.log(this.citas);\r\n        //guardamos las citas en session\r\n        sessionStorage.setItem('CITAS_DISPONIBLES', JSON.stringify(this.citas));\r\n        //als citas deberíamos guardarlas para procesarlas\r\n        //hay que ver si es necesario o no\r\n        loader.dismiss();\r\n        this.disabledCombo = false;\r\n        this.mostrarProgressDisp = false;\r\n      }\r\n      else{\r\n        this.idComboSeleccionado = 0;\r\n        this.tiposAtencion = [];\r\n        this.citas = [];\r\n        this.citasFiltradas = [];\r\n        loader.dismiss();\r\n        this.disabledCombo = false;\r\n        this.mostrarProgressDisp = false;\r\n      }\r\n      //error\r\n    }\r\n  }\r\n  indexarCitas(){\r\n    //el tipo de atencion seleccionado\r\n    this.citasFiltradas = [];\r\n    var indice = 1;\r\n    if (this.citas && this.citas.length > 0){\r\n      this.citas.forEach(cita => {\r\n        if (cita.TipoAtencion == this.comboSeleccionado){\r\n          //esta filtrando\r\n          cita.indice = indice;\r\n          this.citasFiltradas.push(cita);\r\n          indice++;\r\n        }\r\n      });\r\n    }\r\n    if (indice > 2){\r\n      this.encontroCitas = true;\r\n    }\r\n    console.log(this.citasFiltradas);\r\n  }\r\n  //creamos los tipos de atención disponibles\r\n  crearTiposAtencion(){\r\n    //var arr = [];\r\n    this.tiposAtencion = [];\r\n    var contador = 1;\r\n    var entidadInicial = {\r\n      Texto: 'Selecciona...',\r\n      Valor: 0,\r\n      Selected: true\r\n    }\r\n    this.tiposAtencion.push(entidadInicial); \r\n    this.idComboSeleccionado = 0;\r\n    console.log('tipo seleccionado ' + this.idComboSeleccionado);\r\n    console.log(this.tiposAtencion);\r\n  }\r\n  agregarTiposAtencion(tipos){\r\n    var contador = 1;\r\n    if (tipos && tipos.length > 0){\r\n      tipos.forEach(tipo => {\r\n        var entidadTipo = {\r\n          Texto: tipo,\r\n          Valor: contador,\r\n          Selected: false\r\n        };\r\n        //tipos.push(entidadTipo);\r\n        this.tiposAtencion.push(entidadTipo);\r\n        contador++;\r\n      });\r\n    }\r\n    //guardamos los tipos de atencion\r\n    sessionStorage.setItem('TIPOS_ATENCION', JSON.stringify(this.tiposAtencion));\r\n  }\r\n  seleccionarItemCombo(){\r\n    if (this.comboSeleccionado && this.tiposAtencion){\r\n      this.tiposAtencion.forEach(tipo => {\r\n        if (tipo.Texto == this.comboSeleccionado){\r\n          tipo.Selected = true;\r\n        }\r\n        else{\r\n          tipo.Selected = false;\r\n        }\r\n      });\r\n      //guardamos los tipos de atención\r\n      sessionStorage.setItem('TIPOS_ATENCION', JSON.stringify(this.tiposAtencion));\r\n    }\r\n  }\r\n  buscarCitas(event){\r\n    //este lo cambiamos para el control mat-select\r\n\r\n    //if (event.detail.value){\r\n    if (event.value){\r\n      this.comboSeleccionado = event.value;\r\n      console.log(this.comboSeleccionado);\r\n      this.mostrarProgress = true;\r\n      this.encontroCitas = false;\r\n      this.disabledCombo = false;\r\n      this.seleccionarItemCombo();\r\n      setTimeout(() => {\r\n        console.log('Async operation has ended');\r\n        \r\n        //event.target.complete();\r\n        this.mostrarProgress = false;\r\n        //this.encontroCitas = true;\r\n        //si existen citas hay que deshabilitar el control\r\n        this.disabledCombo = true;\r\n        this.indexarCitas();\r\n      }, 2000);\r\n    }\r\n\r\n  }\r\n  transformDate(value, format){\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n  transformDateIso(dateString){\r\n    var retorno = \"\";\r\n    var parteT = dateString.split(\"T\");\r\n    if (parteT && parteT.length == 2){\r\n      var partes = parteT[1].split(\":\");\r\n      if (partes && partes.length > 1){\r\n        retorno = partes[0] + \":\" + partes[1];\r\n      }\r\n    }\r\n    return retorno;\r\n  }\r\n  //modal del detalle de la cita\r\n  async citaSelected(item){\r\n    if (item){\r\n      this.itemSelected = item;\r\n    }\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalOperacionCitaPage,\r\n        componentProps: {\r\n          'cita': JSON.stringify(item),\r\n          'operacion': 'reservar'\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      if(data.data && data.data.accion){\r\n        var accion = data.data.accion;\r\n        //obtenemos la pagina actual\r\n        //aca debemos revisar a donde nos vamos\r\n        this.navCtrl.navigateRoot('calendario');\r\n        //console.log(accion);        \r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n  openBusquedaAvanzada(){\r\n    this.navCtrl.navigateRoot('busqueda-avanzada');\r\n  }\r\n\r\n}\r\n"]}