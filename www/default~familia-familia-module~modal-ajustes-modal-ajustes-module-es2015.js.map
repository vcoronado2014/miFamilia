{"version":3,"sources":["./src/app/modal-ajustes/modal-ajustes.page.html","./src/app/modal-ajustes/modal-ajustes.page.scss","./src/app/modal-ajustes/modal-ajustes.page.ts"],"names":[],"mappings":"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","file":"default~familia-familia-module~modal-ajustes-modal-ajustes-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title class=\\\"home\\\">Ajustes {{nombrePaciente}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" class=\\\"pdr10\\\" (click)=\\\"dismiss()\\\">\\r\\n      <ion-icon class=\\\"home\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <!-- la imagen -->\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n     <!--  <ion-card-subtitle>Card Subtitle</ion-card-subtitle> -->\\r\\n      <ion-card-title>Mi imagen</ion-card-title>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <div>\\r\\n        <img [src]=\\\"image\\\" *ngIf=\\\"image\\\" />\\r\\n      </div>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  <!-- control abrir archivos si es que tiene registro -->\\r\\n  <ion-list lines=\\\"none\\\" *ngIf=\\\"tieneRegistro\\\">\\r\\n    <ion-item>\\r\\n      <ion-note id=\\\"profile_image\\\" color=\\\"primary\\\">Seleccione el archivo</ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-input  type=\\\"file\\\" accept=\\\"image/*\\\" (change)=\\\"changeListener($event)\\\"></ion-input>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <!-- si no tiene registro -->\\r\\n  <ion-item *ngIf=\\\"!tieneRegistro\\\">\\r\\n    No puede editar ya que no se encuentra registrado\\r\\n  </ion-item>\\r\\n  <ion-row class=\\\"ion-padding\\\">\\r\\n          <button mat-raised-button color=\\\"primary\\\" (click)=\\\"abrirEditar()\\\" style=\\\"width: 90%; margin-left: 5%; height:36px;background: #3880ff;color:white;\\\" >Cambiar datos de contacto</button>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","export default \".label-seleccione {\\n  font-size: 0.8em;\\n}\\n\\n.button-registrarse {\\n  width: 80%;\\n  margin-left: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWwtYWp1c3Rlcy9GOlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXG1vZGFsLWFqdXN0ZXNcXG1vZGFsLWFqdXN0ZXMucGFnZS5zY3NzIiwic3JjL2FwcC9tb2RhbC1hanVzdGVzL21vZGFsLWFqdXN0ZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0JBQUE7QUNDSjs7QURDQTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtBQ0VKIiwiZmlsZSI6InNyYy9hcHAvbW9kYWwtYWp1c3Rlcy9tb2RhbC1hanVzdGVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbC1zZWxlY2Npb25le1xyXG4gICAgZm9udC1zaXplOiAwLjhlbTtcclxufVxyXG4uYnV0dG9uLXJlZ2lzdHJhcnNle1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMCU7XHJcbn0iLCIubGFiZWwtc2VsZWNjaW9uZSB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5cbi5idXR0b24tcmVnaXN0cmFyc2Uge1xuICB3aWR0aDogODAlO1xuICBtYXJnaW4tbGVmdDogMTAlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController, NavParams, NavController, ToastController, Platform,  LoadingController, MenuController } from '@ionic/angular';\r\nimport { NavigationExtras } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { environment } from 'src/environments/environment';\r\n//plugins\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport { ServicioImagen } from '../services/ServicioImagen';\r\n\r\n@Component({\r\n  selector: 'app-modal-ajustes',\r\n  templateUrl: './modal-ajustes.page.html',\r\n  styleUrls: ['./modal-ajustes.page.scss'],\r\n})\r\nexport class ModalAjustesPage implements OnInit {\r\n  public userData;\r\n  public usuarioAps;\r\n  public uspId;\r\n  image: string = null;\r\n  lastImage: string = null;\r\n  nombrePaciente = '';\r\n\r\n  imagenBD;\r\n  public color: string = \"#127bdc\";\r\n  fileP: File;\r\n  //ACA QUEDE, ESTOY ARMANDO LA PANTALLA DE AJUSTES\r\n  //color\r\n  miColor = '#FF4081';\r\n  tieneRegistro = false;\r\n  constructor(\r\n    public modalCtrl: ModalController,\r\n    public navParams: NavParams,\r\n    public utiles: ServicioUtiles,\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public loading: LoadingController,\r\n    private img: ServicioImagen\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    if (localStorage.getItem('TIENE_REGISTRO')){\r\n      if (localStorage.getItem('TIENE_REGISTRO').toLowerCase() == 'true'){\r\n        this.tieneRegistro = true;\r\n      }\r\n\r\n    }\r\n    this.usuarioAps= JSON.parse(this.navParams.get('usuario'));\r\n    this.image = this.usuarioAps.UrlImagen;\r\n    this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n    this.color = this.miColor;//this.usuarioAps.Color;\r\n    this.nombrePaciente = this.usuarioAps.Nombres + ' ' + this.usuarioAps.ApellidoPaterno + ' ' + this.usuarioAps.ApellidoMaterno;\r\n    console.log(this.usuarioAps);\r\n  }\r\n  dismiss(){\r\n    this.modalCtrl.dismiss();\r\n  }\r\n  setColor(color){\r\n    this.color = color;\r\n  }\r\n  changeListener($event): void {\r\n    //lo comentamos por mientras\r\n\r\n    /*     if (!this.utiles.isAppOnDevice()){\r\n          this.utiles.presentToast('Esta operación no esta permitida', 'center', 3000);\r\n          return;\r\n        }\r\n        else { */\r\n    this.fileP = $event.target.files[0];\r\n\r\n    if (this.fileP) {\r\n      if (this.fileP.size <= 2048000) {\r\n        this.putImagen(this.fileP);    \r\n      } else {\r\n        //this.presentToast('El tamaño de la imágen excede el máximo permitido.'); \r\n        this.utiles.presentToast('El tamaño de la imágen excede el máximo permitido.', 'center', 3000);\r\n      }\r\n    } else {\r\n      //this.presentToast('No ha seleccionado ninguna imágen válida.'); \r\n      this.utiles.presentToast('No ha seleccionado ninguna imágen válida.', 'center', 3000);\r\n    }\r\n    /*  } */\r\n\r\n  }\r\n\r\n  async putImagen(files){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n      console.log(files.size);\r\n      let loader = await this.loading.create({\r\n        message: 'Guardando...<br>Imagen del usuario.',\r\n        duration: 20000\r\n      });\r\n  \r\n      await loader.present().then(async () => {\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.img.putImagen(uspId, files).subscribe((data:any)=>{\r\n            if (data){\r\n              this.image = environment.URL_FOTOS + data;\r\n              //cambiar la imagen del usuario aps\r\n              //o de la familia\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.UrlImagen){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.UrlImagen = environment.URL_FOTOS + data;\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  //nuevoUsuarioAps.UrlImagen = environment.URL_FOTOS + data;\r\n                  nuevoUsuarioAps.UrlImagen = data;\r\n                  //debemos guardar el objeto serializado\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        //usuario.UrlImagen = environment.URL_FOTOS + data;\r\n                        usuario.UrlImagen =  data;                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n    \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n        }\r\n        else{\r\n          //lamada nativa\r\n          this.img.putImagenNative(uspId, files).then((data:any)=>{\r\n            if (data){\r\n              this.image = environment.URL_FOTOS + JSON.parse(data.data);\r\n              //cambiar la imagen del usuario aps\r\n              //o de la familia\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.UrlImagen){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.UrlImagen = environment.URL_FOTOS + JSON.parse(data.data);\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  nuevoUsuarioAps.UrlImagen = JSON.parse(data.data);\r\n                  //debemos guardar el objeto serializado\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.UrlImagen = JSON.parse(data.data);\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }                  \r\n    \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n\r\n        }\r\n      });\r\n  }\r\n  async putColor(){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n    var colorGuardar = this.color;\r\n\r\n      let loader = await this.loading.create({\r\n        message: 'Guardando...<br>Color del usuario.',\r\n        duration: 20000\r\n      });\r\n  \r\n      await loader.present().then(async () => {\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.img.putColor(uspId, colorGuardar).subscribe((data:any)=>{\r\n            if (data){\r\n              //hay que setear el color del localstorage\r\n              //this.utiles.cambiaColorLocalStorage(data);\r\n              this.color = data;\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.Color){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.Color = data;\r\n                  //sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId) {\r\n                  nuevoUsuarioAps.Color = data;\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.Color = data;\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n    \r\n              }\r\n              localStorage.setItem('MI_COLOR', data);\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          })\r\n        }\r\n        else{\r\n          //lamada nativa\r\n          this.img.putColorNative(uspId, colorGuardar).then((data:any)=>{\r\n            if (data){\r\n              this.utiles.cambiaColorLocalStorage(JSON.parse(data.data));\r\n              this.color = JSON.parse(data.data);\r\n              if (this.usuarioAps) {\r\n                if (this.usuarioAps.Color){\r\n                  //dejamos al usuario con la nueva imagen\r\n                  this.usuarioAps.Color = JSON.parse(data.data);\r\n                }\r\n              }\r\n              if (sessionStorage.UsuarioAps) {\r\n                var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n                //cambiamos este elemento solo si el usuario existe\r\n                if (nuevoUsuarioAps.Id == uspId){\r\n                  nuevoUsuarioAps.Color = JSON.parse(data.data);\r\n                  sessionStorage.setItem('UsuarioAps', JSON.stringify(nuevoUsuarioAps));\r\n                }\r\n                else{\r\n                  //si no es el mismo hay que buscarlo en la lista de familia y cambiarlo\r\n                  var usuariosFamilia = JSON.parse(sessionStorage.getItem('UsuariosFamilia'));\r\n                  if (usuariosFamilia && usuariosFamilia.length > 0){\r\n                    usuariosFamilia.forEach(usuario => {\r\n                      if (usuario.Id == uspId){\r\n                        usuario.Color = JSON.parse(data.data);\r\n                      }\r\n                    });\r\n                    //ahora serializamos y cambiamos\r\n                    sessionStorage.setItem('UsuariosFamilia', JSON.stringify(usuariosFamilia));\r\n                  }\r\n                }\r\n                  \r\n              }\r\n            }\r\n            //terminamos loader\r\n            loader.dismiss();\r\n          },\r\n          (error)=>{\r\n            loader.dismiss();\r\n            this.utiles.presentToast(error, 'bottom', 4000);\r\n          }\r\n          )\r\n\r\n        }\r\n      });\r\n  }\r\n  abrirEditar(){\r\n    this.dismiss();\r\n    this.navCtrl.navigateRoot('contactabilidad');\r\n    //this.utiles.presentToast(\"Enviar a la pagina para editar datos de contactabilidad\", \"bottom\", 3000);\r\n/*     let registro = null;\r\n    if (localStorage.getItem('REGISTRO')){\r\n      registro = JSON.parse(localStorage.getItem('REGISTRO'));\r\n      const navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          usuario: JSON.stringify(registro),\r\n          EstaEditando: true\r\n        }\r\n      };\r\n      this.dismiss();\r\n      this.navCtrl.navigateRoot(['registro-usuario'], navigationExtras);\r\n    }\r\n    else{\r\n      this.utiles.presentToast(\"No puedes editar ya que no te encuentras registrado\", \"bottom\", 3000);\r\n\r\n    } */\r\n  }\r\n\r\n/*   putColor(){\r\n    var uspId = this.usuarioAps.Id.toString();\r\n    var colorGuardar = this.color;\r\n    this.loading = true;\r\n    this.img.putColor(uspId, colorGuardar).subscribe(\r\n      data => {\r\n        if (data){\r\n          this.color = data.json();\r\n          if (this.usuarioAps) {\r\n            if (this.usuarioAps.Color){\r\n              //dejamos al usuario con la nueva imagen\r\n              this.usuarioAps.Color = data.json();\r\n            }\r\n          }\r\n          if (sessionStorage.UsuarioAps) {\r\n            var nuevoUsuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n            //cambiamos este elemento solo si el usuario existe\r\n            if (nuevoUsuarioAps.Id == uspId)\r\n              nuevoUsuarioAps.Color = data.json();\r\n\r\n          }\r\n        }\r\n      },\r\n      err => { \r\n        this.loading = false; \r\n        console.error(err);\r\n        this.presentToast('Se ha presentado un error al guardar el color seleccionado, contacte al administrador.'); \r\n      },\r\n      () => {\r\n        this.loading = false; \r\n        console.log('get img ok');\r\n        this.presentToast('El color de su perfil ha sido cambiado con éxito. Recuerda reiniciar tu app para visualizar el cambio');\r\n      }\r\n    );\r\n  } */\r\n\r\n\r\n}"],"sourceRoot":"webpack:///"}