{"version":3,"sources":["./src/app/busqueda-avanzada/busqueda-avanzada.page.html","./src/app/busqueda-avanzada/busqueda-avanzada.module.ts","./src/app/busqueda-avanzada/busqueda-avanzada.page.scss","./src/app/busqueda-avanzada/busqueda-avanzada.page.ts"],"names":[],"mappings":"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","file":"busqueda-avanzada-busqueda-avanzada-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n       <!--  <ion-back-button defaultHref=\\\"/pre-tiposatencion\\\" class=\\\"fcw\\\"></ion-back-button> -->\\r\\n        <ion-back-button (click)=\\\"volver()\\\" defaultHref=\\\"/\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title class=\\\"fcw\\\">Búsqueda avanzada</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  \\r\\n  <ion-content class=\\\"back-app\\\">\\r\\n    <mat-form-field appearance=\\\"outline\\\" class=\\\"field-tipo-atencion\\\">\\r\\n      <mat-label>Tipo atención</mat-label>\\r\\n      <mat-select [disabled]=\\\"disabledCombo\\\" [(ngModel)]=\\\"comboSeleccionado\\\" (selectionChange)=\\\"buscarCitas($event)\\\">\\r\\n        <mat-option *ngFor=\\\"let tipo of tiposAtencion\\\" [value]=\\\"tipo.Texto\\\">{{tipo.Texto}}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n\\r\\n    <!-- fecha inicio -->\\r\\n    <ion-item class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n      <ion-label>Fecha de inicio</ion-label>\\r\\n      <ion-datetime \\r\\n        (ionChange)=\\\"changeFechaInicio($event)\\\"\\r\\n        monthNames=\\\"enero, febrero, marzo, abril, mayo, junio, julio, agosto, septiembre, octubre, noviembre, diciembre\\\"\\r\\n        monthShortNames=\\\"ene, feb, mar, abr, may, jun, jul, ago, sep, oct, nov, dic\\\"\\r\\n        dayNames=\\\"lunes, martes, miércoles, jueves, viernes, sábado, domingo\\\"\\r\\n        dayShortNames=\\\"lun, mar, mié, jue, vie, sáb, dom\\\"\\r\\n        displayFormat=\\\"MMMM, DD YYYY\\\" \\r\\n        doneText=\\\"Aceptar\\\"\\r\\n        cancelText=\\\"Cancelar\\\"\\r\\n        [min]=\\\"fechaInicio\\\" \\r\\n        [max]=\\\"fechaTermino\\\" \\r\\n        [value]=\\\"fechaInicio\\\">\\r\\n      </ion-datetime>\\r\\n    </ion-item>\\r\\n    <!-- horario -->\\r\\n    <ion-item class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n      <ion-label>Horario</ion-label>\\r\\n      <ion-select value=\\\"0\\\" (ionChange)=\\\"changeHorario($event)\\\" okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\">\\r\\n        <ion-select-option value=\\\"0\\\">Todo el día</ion-select-option>\\r\\n        <ion-select-option value=\\\"1\\\">Mañana</ion-select-option>\\r\\n        <ion-select-option value=\\\"2\\\">Tarde</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <!-- dias -->\\r\\n    <ion-item class=\\\"ion-padding-start ion-padding-end\\\">\\r\\n      <ion-label>Días de la semana</ion-label>\\r\\n      <ion-select (ionChange)=\\\"changeDia($event)\\\" multiple=\\\"true\\\" [value]=\\\"['1','2','3','4','5','6','7']\\\" okText=\\\"Aceptar\\\" cancelText=\\\"Cancelar\\\">\\r\\n        <ion-select-option value=\\\"1\\\">Lu</ion-select-option>\\r\\n        <ion-select-option value=\\\"2\\\">Ma</ion-select-option>\\r\\n        <ion-select-option value=\\\"3\\\">Mi</ion-select-option>\\r\\n        <ion-select-option value=\\\"4\\\">Ju</ion-select-option>\\r\\n        <ion-select-option value=\\\"5\\\">Vi</ion-select-option>\\r\\n        <ion-select-option value=\\\"6\\\">Sá</ion-select-option>\\r\\n        <ion-select-option value=\\\"7\\\">Do</ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <!-- boton buscar -->\\r\\n    <ion-button class=\\\"mt-32 ion-padding-start\\\" color=\\\"primary\\\" (click)=\\\"buscarCitas()\\\">BUSCAR</ion-button>\\r\\n\\r\\n    <app-progress [mostrar]=\\\"mostrarProgress\\\" titulo=\\\"Buscando citas\\\"></app-progress>\\r\\n    <!-- resultados -->\\r\\n    <div *ngIf=\\\"encontroCitas\\\">\\r\\n      <div class=\\\"ion-padding\\\">\\r\\n        <ion-grid class=\\\"ion-no-padding\\\" *ngFor=\\\"let cita of citasFiltradasTop\\\">\\r\\n          <ion-row class=\\\"ion-padding-bottom ion-padding-top linea-item\\\" (click)=\\\"citaSelected(cita)\\\">\\r\\n            <ion-col size=\\\"9\\\" class=\\\"texto-item ion-text-capitalize\\\">\\r\\n              {{cita.Servicio.Nombre}}\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"3\\\" class=\\\"titulo-hora ion-text-end\\\">\\r\\n              {{transformDateIso(cita.FechaHoraInicio)}}\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" class=\\\"titulo-fecha\\\" class=\\\"ion-text-capitalize\\\">\\r\\n              {{transformDate(cita.FechaHoraInicio, 'dddd DD MMMM YYYY')}}\\r\\n            </ion-col>\\r\\n            <ion-col class=\\\"texto-item ion-text-capitalize\\\">\\r\\n              {{cita.NombresMedico.toLowerCase()}} {{cita.ApellidosMedico.toLowerCase()}}\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-grid>\\r\\n        <!-- pruebas con infinite scroll -->\\r\\n        <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n          <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando más cupos...\\\">\\r\\n          </ion-infinite-scroll-content>\\r\\n        </ion-infinite-scroll>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n    <!-- NO ENCONTRADO -->\\r\\n    <div *ngIf=\\\"!encontroCitas && mostrarProgress == false\\\" class=\\\"ion-padding-start ion-padding-end centrado\\\">\\r\\n      <ion-label class=\\\"ion-text-center no-encontrado\\\">No existen cupos con los criterios ingresados</ion-label>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { BusquedaAvanzadaPage } from './busqueda-avanzada.page';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MatFormFieldModule,\r\n    MatSelectModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: BusquedaAvanzadaPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [BusquedaAvanzadaPage]\r\n})\r\nexport class BusquedaAvanzadaPageModule {}","export default \".combo {\\n  width: 100%;\\n  max-width: 100%;\\n}\\n\\n.centrado {\\n  text-align: center;\\n  width: 100%;\\n  height: 10%;\\n  position: absolute;\\n  top: 65%;\\n  padding-left: 60px;\\n  padding-right: 60px;\\n}\\n\\n.titulo-item {\\n  font-size: 14px;\\n  color: #000000DE;\\n}\\n\\n.titulo-fecha {\\n  font-size: 16px;\\n  color: #000000DE;\\n}\\n\\n.titulo-hora {\\n  font-size: 12px;\\n  color: #000000DE;\\n}\\n\\n.no-encontrado {\\n  font-size: 16px;\\n  color: #0000008A;\\n}\\n\\n.pt-8 {\\n  padding-top: 8px;\\n}\\n\\n.pb-8 {\\n  padding-bottom: 8px;\\n}\\n\\n.pl-24 {\\n  padding-left: 24px;\\n}\\n\\n.pr-24 {\\n  padding-right: 24px;\\n}\\n\\n.linea-item {\\n  border-bottom-style: solid;\\n  border-bottom-width: 1px;\\n  border-bottom-color: #0000001F;\\n}\\n\\n.borde {\\n  border-radius: 5px;\\n  border: 1px solid #0000001F;\\n  padding: 5px;\\n  padding-top: 0;\\n}\\n\\n.label-tda {\\n  position: relative;\\n  top: -10px;\\n  margin-left: 16px;\\n  padding-left: 2px;\\n  padding-right: 5px;\\n  background: white;\\n}\\n\\n.mt-32 {\\n  margin-top: 32px;\\n}\\n\\n.titulo-item-2 {\\n  font-size: 16px;\\n  color: #000000DE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3Jjb3JvbmFkby9EZXNrdG9wL21pRmFtaWxpYV9wcmUvc3JjL2FwcC9idXNxdWVkYS1hdmFuemFkYS9idXNxdWVkYS1hdmFuemFkYS5wYWdlLnNjc3MiLCJzcmMvYXBwL2J1c3F1ZWRhLWF2YW56YWRhL2J1c3F1ZWRhLWF2YW56YWRhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0FDQ0o7O0FEQ0E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0VKOztBREFBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDR0o7O0FEREE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUNJSjs7QURGQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtBQ0tKOztBREhBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDTUo7O0FESkE7RUFDSSxnQkFBQTtBQ09KOztBRExBO0VBQ0ksbUJBQUE7QUNRSjs7QUROQTtFQUNJLGtCQUFBO0FDU0o7O0FEUEE7RUFDSSxtQkFBQTtBQ1VKOztBRFJBO0VBQ0ksMEJBQUE7RUFDQSx3QkFBQTtFQUNBLDhCQUFBO0FDV0o7O0FEVEE7RUFDSSxrQkFBQTtFQUNBLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUNZSjs7QURWQTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDYUo7O0FEWEE7RUFDSSxnQkFBQTtBQ2NKOztBRFpBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDZUoiLCJmaWxlIjoic3JjL2FwcC9idXNxdWVkYS1hdmFuemFkYS9idXNxdWVkYS1hdmFuemFkYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29tYm97XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxufVxyXG4uY2VudHJhZG97XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTsgICAgICAgXHJcbiAgICBoZWlnaHQ6IDEwJTtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDo2NSU7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDYwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA2MHB4OyAgICAgICAgICBcclxufVxyXG4udGl0dWxvLWl0ZW17XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG59XHJcbi50aXR1bG8tZmVjaGF7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG59XHJcbi50aXR1bG8taG9yYXtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwREU7XHJcbn1cclxuLm5vLWVuY29udHJhZG97XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMDhBO1xyXG59XHJcbi5wdC04e1xyXG4gICAgcGFkZGluZy10b3A6IDhweDtcclxufVxyXG4ucGItOHtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbn1cclxuLnBsLTI0e1xyXG4gICAgcGFkZGluZy1sZWZ0OiAyNHB4O1xyXG59XHJcbi5wci0yNHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDI0cHg7XHJcbn1cclxuLmxpbmVhLWl0ZW17XHJcbiAgICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcclxuICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDFweDtcclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDAwMDAxRjtcclxufVxyXG4uYm9yZGV7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwMUY7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogMDtcclxufVxyXG4ubGFiZWwtdGRhe1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgdG9wOi0xMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDE2cHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDJweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDVweDtcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG59XHJcbi5tdC0zMntcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcbn1cclxuLnRpdHVsby1pdGVtLTJ7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMERFO1xyXG59IiwiLmNvbWJvIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuLmNlbnRyYWRvIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA2NSU7XG4gIHBhZGRpbmctbGVmdDogNjBweDtcbiAgcGFkZGluZy1yaWdodDogNjBweDtcbn1cblxuLnRpdHVsby1pdGVtIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBjb2xvcjogIzAwMDAwMERFO1xufVxuXG4udGl0dWxvLWZlY2hhIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzAwMDAwMERFO1xufVxuXG4udGl0dWxvLWhvcmEge1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59XG5cbi5uby1lbmNvbnRyYWRvIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBjb2xvcjogIzAwMDAwMDhBO1xufVxuXG4ucHQtOCB7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG59XG5cbi5wYi04IHtcbiAgcGFkZGluZy1ib3R0b206IDhweDtcbn1cblxuLnBsLTI0IHtcbiAgcGFkZGluZy1sZWZ0OiAyNHB4O1xufVxuXG4ucHItMjQge1xuICBwYWRkaW5nLXJpZ2h0OiAyNHB4O1xufVxuXG4ubGluZWEtaXRlbSB7XG4gIGJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkO1xuICBib3JkZXItYm90dG9tLXdpZHRoOiAxcHg7XG4gIGJvcmRlci1ib3R0b20tY29sb3I6ICMwMDAwMDAxRjtcbn1cblxuLmJvcmRlIHtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwMUY7XG4gIHBhZGRpbmc6IDVweDtcbiAgcGFkZGluZy10b3A6IDA7XG59XG5cbi5sYWJlbC10ZGEge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTEwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICBwYWRkaW5nLWxlZnQ6IDJweDtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbn1cblxuLm10LTMyIHtcbiAgbWFyZ2luLXRvcDogMzJweDtcbn1cblxuLnRpdHVsby1pdGVtLTIge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG59Il19 */\";","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { NavigationExtras } from '@angular/router';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem } from '@ionic/angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport { ServicioPaginacion } from '../../app/services/ServicioPaginacion';\r\nimport * as moment from 'moment';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\n//pipe\r\nimport { FilterPipe } from '../../app/pipes/filter.pipe';\r\nimport { environment } from 'src/environments/environment';\r\n//modal\r\nimport { ModalOperacionCitaPage } from '../modal-operacion-cita/modal-operacion-cita.page';\r\n\r\n@Component({\r\n  selector: 'app-busqueda-avanzada',\r\n  templateUrl: './busqueda-avanzada.page.html',\r\n  styleUrls: ['./busqueda-avanzada.page.scss'],\r\n})\r\n\r\nexport class BusquedaAvanzadaPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  public usuarioAps;\r\n  textColor = '#FFFFFF';\r\n  //datos para consultar citas\r\n  runPaciente = '';\r\n  codigoDeis = '';\r\n  serviceType = '349';\r\n  tipoOperacion = 'disponibilidad';\r\n  nodId;\r\n  //tipos de atencion disponibles y citas\r\n  citas = [];\r\n  citasFiltradas = [];\r\n  tiposAtencion = [];\r\n  comboSeleccionado = 'Selecciona...';\r\n  idComboSeleccionado = 0;\r\n  //para el tratamiento de fechas\r\n  fechaInicio;\r\n  fechaTermino;\r\n  mostrarProgress = false;\r\n  encontroCitas = false;\r\n  disabledCombo = false;\r\n  paginaActual = 0;\r\n  itemSelected;\r\n  //busqueda\r\n  fechaInicioBusqueda;\r\n  horarioBusqueda;\r\n  diasBusqueda;\r\n  //para volver a la pagina anterior\r\n  idUsuario = 0;\r\n  //esto es para infiniti scroll\r\n  private topLimit: number = 5;\r\n  private citasFiltradasTop: any = [];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public loading: LoadingController,\r\n    public menu: MenuController,\r\n    public utiles: ServicioUtiles,\r\n    public acceso: ServicioAcceso,\r\n    public cita: ServicioCitas,\r\n    public paginacion: ServicioPaginacion,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  volver() {\r\n    if (this.idUsuario == 0) {\r\n      this.navCtrl.navigateRoot('pre-tiposatencion');\r\n    }\r\n    else {\r\n      const navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          Id: this.idUsuario\r\n        }\r\n      };\r\n      this.navCtrl.navigateRoot(['pre-tiposatencion'], navigationExtras);\r\n    }\r\n  }\r\n  ngOnInit() {\r\n    moment.locale('es');\r\n    if (sessionStorage.UsuarioAps) {\r\n      this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (this.usuarioAps) {\r\n        //this.usuarioAps.UrlImagen = this.utiles.entregaMiImagen();\r\n        this.usuarioAps.UrlImagen = this.utiles.entregaImagen(this.usuarioAps);\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n        this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n        this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n      }\r\n    }\r\n    this.activatedRoute.queryParams.subscribe(async params => {\r\n      if (params && params.Id) {\r\n        this.idUsuario = params.Id\r\n      }\r\n    });\r\n    //creamos tipo atencion inicial\r\n    this.crearTiposAtencion();\r\n    this.setFechasInicioFin();\r\n    this.citas = JSON.parse(sessionStorage.getItem('CITAS_DISPONIBLES'));\r\n\r\n  }\r\n  setFechasInicioFin() {\r\n    this.fechaInicio = sessionStorage.getItem('FECHA_INICIO_CONSULTA');\r\n    this.fechaTermino = sessionStorage.getItem('FECHA_TERMINO_CONSULTA');\r\n    //dejamos el horario busqueda por defecto en mañana\r\n    this.horarioBusqueda = 0;\r\n    this.diasBusqueda = ['1', '2', '3', '4', '5', '6', '7'];\r\n    this.fechaInicioBusqueda = this.fechaInicio;\r\n  }\r\n  indexarCitas() {\r\n    //el tipo de atencion seleccionado\r\n    //HAY QUE AGREGAR LOS DEMAS FILTROS\r\n    this.citasFiltradas = [];\r\n    var indice = 1;\r\n    if (this.citas && this.citas.length > 0) {\r\n      this.citas.forEach(cita => {\r\n        if (cita.TipoAtencion == this.comboSeleccionado) {\r\n          //aca debemos aplicar los demas filtros, el primero es fecha inicio\r\n          var fechaCita = moment(cita.FechaHoraInicio);\r\n          var isAfter = moment(fechaCita.format()).isAfter(this.fechaInicioBusqueda);\r\n          //aca ya tenemos el segundo filtro importante\r\n          if (isAfter) {\r\n            //ahora debemos trabajar con los filtros de horario\r\n            //partimos con dia de la semana\r\n            if (this.diasBusqueda && this.diasBusqueda.length > 0) {\r\n              var diaSemana = fechaCita.day();\r\n              //console.log('dia semana ' + diaSemana + ' ' + fechaCita.format('DD-MM-YYYY'));\r\n              var existe = this.diasBusqueda.includes(diaSemana.toString());\r\n              //si el día de la semana existe se agrega\r\n              if (existe) {\r\n                //ahora aplicamos filtros de mañana y tarde\r\n                if (this.horarioBusqueda == 0) {\r\n                  cita.indice = indice;\r\n                  this.citasFiltradas.push(cita);\r\n                  indice++;\r\n                }\r\n                else {\r\n                  //busca mañana o tarde\r\n                  var hora = fechaCita.hour();\r\n                  var minute = fechaCita.minute();\r\n                  var horaEntera = this.utiles.convertirHoraInt(hora, minute);\r\n                  //deberia entregar 600 para las 6 am y 1800 para las 6 pm\r\n                  //por lo tanto todo aquello menor o igual 1200 es mañana\r\n                  if (this.horarioBusqueda == 1 && horaEntera <= 1200) {\r\n                    //mañana\r\n                    //console.log('mañana');\r\n                    cita.indice = indice;\r\n                    this.citasFiltradas.push(cita);\r\n                    indice++;\r\n                  }\r\n                  if (this.horarioBusqueda == 2 && horaEntera > 1200) {\r\n                    //tarde\r\n                    //console.log('tarde');\r\n                    cita.indice = indice;\r\n                    this.citasFiltradas.push(cita);\r\n                    indice++;\r\n                  }\r\n\r\n                }\r\n\r\n              }\r\n\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n    if (indice > 2) {\r\n      this.encontroCitas = true;\r\n    }\r\n    //aca le ponemos limite a ala lista de citas filtradas\r\n    if (this.citasFiltradas && this.citasFiltradas.length > 0) {\r\n      this.citasFiltradasTop = this.citasFiltradas.slice(0, this.topLimit);\r\n    }\r\n  }\r\n  loadData(event) {\r\n    setTimeout(() => {\r\n      //console.log('Done');\r\n      this.topLimit += 5;\r\n      this.citasFiltradasTop = this.citasFiltradas.slice(0, this.topLimit);\r\n      event.target.complete();\r\n      //aplicamos disabled si la cantidad de registros es la misma que el total\r\n      if (this.citasFiltradasTop.length == this.citasFiltradas.length) {\r\n        event.target.disabled = true;\r\n      }\r\n\r\n    }, 500);\r\n  }\r\n  //creamos los tipos de atención disponibles\r\n  crearTiposAtencion() {\r\n    this.tiposAtencion = [];\r\n    if (sessionStorage.getItem('TIPOS_ATENCION')) {\r\n      this.tiposAtencion = JSON.parse(sessionStorage.getItem('TIPOS_ATENCION'));\r\n      if (this.tiposAtencion) {\r\n        this.tiposAtencion.forEach(tipo => {\r\n          if (tipo.Selected) {\r\n            this.comboSeleccionado = tipo.Texto;\r\n            this.disabledCombo = true;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  buscarCitas() {\r\n\r\n    //console.log(this.comboSeleccionado);\r\n    //console.log(this.horarioBusqueda);\r\n    //console.log(this.diasBusqueda);\r\n    //console.log(this.fechaInicioBusqueda);\r\n    this.mostrarProgress = true;\r\n    this.encontroCitas = false;\r\n    this.disabledCombo = false;\r\n    setTimeout(() => {\r\n      //console.log('Async operation has ended');\r\n\r\n      //event.target.complete();\r\n      this.mostrarProgress = false;\r\n      //this.encontroCitas = true;\r\n      //si existen citas hay que deshabilitar el control\r\n      this.disabledCombo = true;\r\n      this.indexarCitas();\r\n    }, 2000);\r\n\r\n\r\n  }\r\n  transformDate(value, format) {\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n  transformDateIso(dateString) {\r\n    var retorno = \"\";\r\n    var parteT = dateString.split(\"T\");\r\n    if (parteT && parteT.length == 2) {\r\n      var partes = parteT[1].split(\":\");\r\n      if (partes && partes.length > 1) {\r\n        retorno = partes[0] + \":\" + partes[1];\r\n      }\r\n    }\r\n    return retorno;\r\n  }\r\n  //modal del detalle de la cita\r\n  async citaSelected(item) {\r\n    if (item) {\r\n      this.itemSelected = item;\r\n    }\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalOperacionCitaPage,\r\n        componentProps: {\r\n          'cita': JSON.stringify(item),\r\n          'operacion': 'reservar'\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      if (data.data && data.data.accion) {\r\n        var accion = data.data.accion;\r\n        //obtenemos la pagina actual\r\n        //aca debemos revisar a donde nos vamos\r\n        this.navCtrl.navigateRoot('calendario');\r\n        //console.log(accion);        \r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n  changeFechaInicio(event) {\r\n    console.log(event);\r\n    if (event.detail.value) {\r\n      this.fechaInicioBusqueda = event.detail.value;\r\n      //console.log(this.fechaInicioBusqueda);\r\n    }\r\n  }\r\n  changeHorario(event) {\r\n    if (event.detail.value) {\r\n      this.horarioBusqueda = event.detail.value;\r\n      //console.log(this.horarioBusqueda);\r\n    }\r\n  }\r\n  changeDia(event) {\r\n    if (event.detail.value) {\r\n      this.diasBusqueda = event.detail.value;\r\n      //console.log(this.diasBusqueda);\r\n    }\r\n  }\r\n\r\n\r\n}"],"sourceRoot":"webpack:///"}