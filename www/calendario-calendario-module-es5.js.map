{"version":3,"sources":["webpack:///src/app/calendario/calendario.page.html","webpack:///src/app/calendario/calendario.module.ts","webpack:///src/app/calendario/calendario.page.scss","webpack:///src/app/calendario/calendario.page.ts"],"names":["CalendarioPageModule","imports","forChild","path","component","declarations","CalendarioPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","info","acceso","cita","alertController","parametrosApp","miColor","tiene","textColor","calendarioData","calendarioTodo","citasIntegracion","citasVerticalTodas","runPaciente","codigoDeis","serviceType","botonReservar","Titulo","Visible","Operacion","Color","Alert","botonConfirmar","botonCancelar","estaCargando","tituloLoading","topLimit","citasVerticalTodasTop","fechaActual","anioActual","scrollTo","tieneEventosHoy","tieneEventosFuturos","EVENTOS_LOCAL","hasMin","attrib","length","reduce","prev","curr","locale","transformDate","sessionStorage","UsuarioAps","usuarioAps","JSON","parse","entregaColor","UrlImagen","URL_FOTOS","insertarGuion","Rut","ConfiguracionNodo","CodigoDeis2014","nodId","NodId","mesActualSeleccionado","month","year","diasSemana","Array","meses","diaSem","Date","getDay","hoy","getDate","getMonth","anio","getFullYear","annoActual","mesActual","tratamientoMeses","USA_API_MANAGEMENT","cargarTodosLosEventosApi","cargarTodosLosEventos","date","getTime","setItem","stringify","procesarArregloCitasTodas","citasVerticalMostrar","filter","e","Mostrar","sort","a","b","FechaCompleta","slice","mes","anno","create","cssClass","showBackdrop","spinner","duration","loader","present","then","isAppOnDevice","entregaPorMesNuevoApi","Id","IdRyf","subscribe","response","console","log","dismiss","scrollListVisible","error","cargarDataLocal","entregaPorMesNuevoApiNative","data","fechaAnterior","subtract","fechaPosterior","add","mesAnterior","mesPosterior","entregaPorMesNuevo","responseDos","concat","responseTres","entregaPorMesNuevoNative","dataDos","dataTres","logout","navigateRoot","contador","s","citasVertical","t","Eventos","fechaHora","DetalleEventoMes","FechaHora","fechaEvento","toDate","fechaHoy","Subtitulo","Imagen","fechaEvento1","dif","diff","DiferenciaFechas","format","isAfter","fechaParaHoy","ultimo","entidadHoy","parseInt","NombreDia","NombreDiaReducido","NumeroDia","Indice","NoHayEvento","HoraInicioFin","ListaFarmacos","NombrePrincipal","NombreSecundario","DescripcionPrincipal","DescripcionSecundaria","Estado","IdElemento","Lugar","NombrePaciente","push","getItem","orden","event","setTimeout","target","complete","disabled","mesConsultar","annoConsultar","consultaMes","procesarArregloCitas","mesesVertical","fechaMenosUnMes","fechaMasUnMes","mesActualNumero","mesMenosUnMesNumero","mesMasUnMesNumero","mesActualStr","toUpperCase","mesMenosUnMesStr","mesMasUnMesStr","annoMenosUnMes","annoMasUnMes","entidadActual","mesNumero","mesTexto","entidadMenos","entidadMas","citas","evento","componentProps","modal","onDidDismiss","accion","presentToast","Mensaje","Detalle","Codigo","CitasDisponibles","tituloBoton","visible","boton","titulo","header","message","buttons","text","role","handler","blah","accionCita","alert","usuarioCita","entregaUsuarioNombre","idPaciente","idCita","retorno","getOperacionCita","procesarRespuestaAgendar","getOperacionCitaNative","responseData","IdCita","removeCitaNotificacionesLocales","Texto","tieneFamilia","navigationExtras","queryParams","item","undefined","value","pi","transform","i","cmp","arr","attr","val","min","finder","Math","entidad","p","yOffset","document","getElementById","toString","offsetTop","content","scrollToPoint","read","selector","template"],"mappings":"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","file":"calendario-calendario-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <!-- esto lo comentamos ya que se decidió no usar color de header personalizado -->\\r\\n  <!-- <ion-toolbar [style.--background]=\\\"miColor\\\" mode=\\\"md\\\"> -->\\r\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Calendario</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\" style=\\\"--padding-bottom: 50px !important;\\\" #content>\\r\\n<app-progress [mostrar]=\\\"estaCargando\\\" [titulo]=\\\"tituloLoading\\\"></app-progress>\\r\\n <div *ngIf=\\\"!tiene\\\">\\r\\n  <div [hidden]=\\\"estaCargando\\\" *ngFor=\\\"let item of citasVerticalTodasTop\\\">\\r\\n    <ion-grid *ngIf=\\\"item.Mostrar\\\">\\r\\n      <app-card-calendario [fechaActual]=\\\"fechaActual\\\" [item]=\\\"item\\\" [anioActual]=\\\"anioActual\\\"></app-card-calendario>\\r\\n      <ion-row class=\\\"ion-no-padding ion-no-margin row-card\\\"\\r\\n        *ngIf=\\\"item.Eventos[0].NombrePrincipal != 'Nada planificado para hoy'\\\">\\r\\n        <mat-card *ngFor=\\\"let evento of item.Eventos\\\" color=\\\"light\\\" style=\\\"margin-bottom: 8px;\\\" id=\\\"myListCard\\\">\\r\\n          <mat-card-header (click)=\\\"goToDetalleCita(evento)\\\">\\r\\n    \\r\\n            <mat-card-subtitle class=\\\"hora\\\">{{evento.HoraInicioFin}}</mat-card-subtitle>\\r\\n            <mat-card-title>{{evento.DetalleEventoMes.Titulo}}</mat-card-title>\\r\\n            <mat-card-subtitle class=\\\"ion-text-capitalize\\\">{{evento.DetalleEventoMes.NombrePaciente.toLowerCase()}}\\r\\n            </mat-card-subtitle>\\r\\n    \\r\\n            <div class=\\\"img-card\\\">\\r\\n              <img class=\\\"example-header-image\\\" src=\\\"./assets/imgs_svg/{{evento.Imagen}}\\\">\\r\\n            </div>\\r\\n          </mat-card-header>\\r\\n          <mat-card-actions *ngIf=\\\"revisaEstado(evento)\\\">\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Anular')[1]\\\"\\r\\n              (click)=\\\"presentAlertConfirm(botonCancelar, evento)\\\">ANULAR</button>\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Confirmar')[0]\\\"\\r\\n              (click)=\\\"presentAlertConfirm(botonConfirmar, evento)\\\">CONFIRMAR</button>\\r\\n          </mat-card-actions>\\r\\n        </mat-card>\\r\\n      </ion-row>\\r\\n      <hr\\r\\n        *ngIf=\\\"transformDate(item.FechaCompleta, 'YYYY-MM-DD') == fechaActual && item.Eventos[0].NombrePrincipal != 'Nada planificado para hoy'\\\">\\r\\n    </ion-grid>\\r\\n    </div>\\r\\n  <div style=\\\"position: absolute; display: table; height: 90%;font-size: 16px; color:rgba(0, 0, 0, 0.54); text-align: center; width: -webkit-fill-available;\\\" class=\\\"ion-padding\\\">\\r\\n<!--     <p style=\\\"display: table-cell; vertical-align: middle\\\">No hay eventos para mostrar  <br>\\r\\n    <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 50px;\\\"></ion-icon></p> -->\\r\\n    <p style=\\\"display: table-cell; vertical-align: middle\\\">No tiene actividades  <br>\\r\\n      programadas para el futuro</p>\\r\\n  </div>\\r\\n </div>\\r\\n <div *ngIf=\\\"tiene\\\">\\r\\n  <div [hidden]=\\\"estaCargando\\\" *ngFor=\\\"let item of citasVerticalTodasTop\\\">\\r\\n    <ion-grid *ngIf=\\\"item.Mostrar\\\">\\r\\n      <app-card-calendario [fechaActual]=\\\"fechaActual\\\" [item]=\\\"item\\\" [anioActual]=\\\"anioActual\\\"></app-card-calendario>\\r\\n      <ion-row class=\\\"ion-no-padding ion-no-margin row-card\\\" *ngIf=\\\"item.Eventos[0].NombrePrincipal != 'Nada planificado para hoy'\\\">\\r\\n        <mat-card *ngFor=\\\"let evento of item.Eventos\\\" color=\\\"light\\\" style=\\\"margin-bottom: 8px;\\\" id=\\\"myListCard\\\">\\r\\n          <mat-card-header (click)=\\\"goToDetalleCita(evento)\\\">\\r\\n            \\r\\n              <mat-card-subtitle *ngIf=\\\"evento.DetalleEventoMes.Titulo != 'Vacuna administrada'\\\" class=\\\"hora\\\">{{evento.HoraInicioFin}}</mat-card-subtitle>\\r\\n              <mat-card-title>{{evento.DetalleEventoMes.Titulo}}</mat-card-title>\\r\\n              <mat-card-subtitle class=\\\"ion-text-capitalize\\\">{{evento.DetalleEventoMes.NombrePaciente.toLowerCase()}}</mat-card-subtitle>\\r\\n            \\r\\n            <div class=\\\"img-card\\\">\\r\\n              <img class=\\\"example-header-image\\\" src=\\\"./assets/imgs_svg/{{evento.Imagen}}\\\">\\r\\n            </div>\\r\\n          </mat-card-header>\\r\\n          <mat-card-actions *ngIf=\\\"revisaEstado(evento)\\\">\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Anular')[1]\\\" (click)=\\\"presentAlertConfirm(botonCancelar, evento)\\\">ANULAR</button>\\r\\n            <button color=\\\"primary\\\" mat-button *ngIf=\\\"revisarCita(evento, 'Confirmar')[0]\\\" (click)=\\\"presentAlertConfirm(botonConfirmar, evento)\\\">CONFIRMAR</button>\\r\\n          </mat-card-actions>\\r\\n        </mat-card>\\r\\n      </ion-row>\\r\\n      <hr *ngIf=\\\"transformDate(item.FechaCompleta, 'YYYY-MM-DD') == fechaActual && item.Eventos[0].NombrePrincipal != 'Nada planificado para hoy'\\\">\\r\\n    </ion-grid>\\r\\n  </div>\\r\\n  <!-- mostrar cuando no tenga eventos futuros y si tenga eventos pasados -->\\r\\n  <div *ngIf=\\\"!tieneEventosFuturos\\\" [hidden]=\\\"estaCargando\\\">\\r\\n    <div style=\\\"display: table; height: 10%;font-size: 16px; color:rgba(0, 0, 0, 0.54); text-align: center; width: -webkit-fill-available;\\\" class=\\\"ion-padding\\\">\\r\\n          <p style=\\\"display: table-cell; vertical-align: middle\\\">No tiene actividades  <br>\\r\\n            programadas para el futuro</p>\\r\\n        </div>\\r\\n  </div>\\r\\n  <!-- pruebas con infinite scroll -->\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Cargando más eventos...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n </div>\\r\\n</ion-content>\\r\\n<!-- este es el fab para abrir reservar horas -->\\r\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" [hidden]=\\\"estaCargando\\\" style=\\\"min-height: 48px;\\\">\\r\\n  <ion-button color=\\\"secondary\\\" (click)=\\\"openReservarHoraPage()\\\" shape=\\\"round\\\" style=\\\"min-height: 48px;\\\">\\r\\n    <ion-icon slot=\\\"start\\\" name=\\\"add-outline\\\" style=\\\"font-size: 24px;margin-right: 12px;\\\"></ion-icon>\\r\\n    <span class=\\\"botonReservar\\\" style=\\\"font-size: 1em;\\\">RESERVAR HORA</span>\\r\\n  </ion-button>\\r\\n</ion-fab>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { CalendarioPage } from './calendario.page';\r\nimport { TextAvatarModule } from '../../directives/text-avatar/index'\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TextAvatarModule,\r\n    MatCardModule,\r\n    MatButtonModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: CalendarioPage\r\n      }\r\n    ]),\r\n  ],\r\n  declarations: [CalendarioPage]\r\n})\r\nexport class CalendarioPageModule {}\r\n","export default \"/* Set the width to the full container and center the content */\\nion-select {\\n  width: 100%;\\n  justify-content: center;\\n}\\n/* Set the flex in order to size the text width to its content */\\nion-select::part(placeholder),\\nion-select::part(text) {\\n  flex: 0 0 auto;\\n}\\n/* Set the placeholder color and opacity */\\nion-select::part(placeholder) {\\n  color: #20a08a;\\n  opacity: 1;\\n}\\n/*\\n * Set the font of the first letter of the placeholder\\n * Shadow parts work with pseudo-elements, too!\\n * https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\\n */\\nion-select::part(placeholder)::first-letter {\\n  font-size: 24px;\\n  font-weight: 500;\\n}\\n/* Set the text color */\\nion-select::part(text) {\\n  color: #545ca7;\\n}\\n/* Set the icon color and opacity */\\nion-select::part(icon) {\\n  color: #971e49;\\n  opacity: 1;\\n}\\n.content-card-fav {\\n  height: 58px;\\n  min-height: 56px;\\n}\\n.ion-fav-calendar {\\n  height: 48px;\\n  width: 48px;\\n}\\n.botonReservar {\\n  /*color:#000000DE;\\n  font-weight: 20px;\\n  font: normal normal medium 14px Roboto; */\\n  color: white;\\n  font-family: \\\"Roboto\\\";\\n  font-size: 0.875em;\\n  font-weight: 500;\\n  letter-spacing: 1.25px;\\n  text-transform: uppercase;\\n  opacity: 1;\\n}\\n/* estilos para material */\\n.example-header-image {\\n  background-size: cover;\\n  width: 80px;\\n  height: 80px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\nmat-card {\\n  width: 100%;\\n  max-width: 100%;\\n  min-width: 100%;\\n}\\n::ng-dep .mat-card-header-text {\\n  width: 100%;\\n  margin: 0;\\n}\\n.hora {\\n  font-size: 0.8em;\\n}\\n.row-card {\\n  margin-left: 16px;\\n  margin-right: 16px;\\n}\\n.img-card {\\n  width: 80px;\\n  float: right;\\n  margin: 0;\\n  padding: 0;\\n  min-width: 80px;\\n}\\nhr {\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  border: 0;\\n  height: 1px;\\n  background-color: rgba(0, 0, 0, 0.12);\\n}\\n.button-native {\\n  -webkit-padding-start: 16px;\\n          padding-inline-start: 16px;\\n  -webkit-padding-end: 16px;\\n          padding-inline-end: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy92aWN0b3Jjb3JvbmFkby9EZXNrdG9wL21pRmFtaWxpYV9wcmUvc3JjL2FwcC9jYWxlbmRhcmlvL2NhbGVuZGFyaW8ucGFnZS5zY3NzIiwic3JjL2FwcC9jYWxlbmRhcmlvL2NhbGVuZGFyaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLCtEQUFBO0FBQ0E7RUFDRSxXQUFBO0VBRUEsdUJBQUE7QUNBRjtBREdBLGdFQUFBO0FBQ0E7O0VBRUUsY0FBQTtBQ0FGO0FER0EsMENBQUE7QUFDQTtFQUNFLGNBQUE7RUFDQSxVQUFBO0FDQUY7QURHQTs7OztFQUFBO0FBS0E7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNBRjtBREdBLHVCQUFBO0FBQ0E7RUFDRSxjQUFBO0FDQUY7QURHQSxtQ0FBQTtBQUNBO0VBQ0UsY0FBQTtFQUNBLFVBQUE7QUNBRjtBREVBO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0FDQ0Y7QURDQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FDRUY7QURBQTtFQUNFOzsyQ0FBQTtFQUdBLFlBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EsVUFBQTtBQ0dGO0FEREEsMEJBQUE7QUFDQTtFQUNFLHNCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtLQUFBLGlCQUFBO0FDSUY7QURGQTtFQUNFLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0tGO0FESEE7RUFDRSxXQUFBO0VBQ0EsU0FBQTtBQ01GO0FESkE7RUFDRSxnQkFBQTtBQ09GO0FETEE7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0FDUUY7QUROQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0FDU0Y7QURQQTtFQUNFLGFBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EscUNBQUE7QUNVRjtBRFBBO0VBQ0UsMkJBQUE7VUFBQSwwQkFBQTtFQUNBLHlCQUFBO1VBQUEsd0JBQUE7QUNVRiIsImZpbGUiOiJzcmMvYXBwL2NhbGVuZGFyaW8vY2FsZW5kYXJpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBTZXQgdGhlIHdpZHRoIHRvIHRoZSBmdWxsIGNvbnRhaW5lciBhbmQgY2VudGVyIHRoZSBjb250ZW50ICovXHJcbmlvbi1zZWxlY3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG5cclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLyogU2V0IHRoZSBmbGV4IGluIG9yZGVyIHRvIHNpemUgdGhlIHRleHQgd2lkdGggdG8gaXRzIGNvbnRlbnQgKi9cclxuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlciksXHJcbmlvbi1zZWxlY3Q6OnBhcnQodGV4dCkge1xyXG4gIGZsZXg6IDAgMCBhdXRvO1xyXG59XHJcblxyXG4vKiBTZXQgdGhlIHBsYWNlaG9sZGVyIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpIHtcclxuICBjb2xvcjogIzIwYTA4YTtcclxuICBvcGFjaXR5OiAxO1xyXG59XHJcblxyXG4vKlxyXG4gKiBTZXQgdGhlIGZvbnQgb2YgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgcGxhY2Vob2xkZXJcclxuICogU2hhZG93IHBhcnRzIHdvcmsgd2l0aCBwc2V1ZG8tZWxlbWVudHMsIHRvbyFcclxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL1BzZXVkby1lbGVtZW50c1xyXG4gKi9cclxuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlcik6OmZpcnN0LWxldHRlciB7XHJcbiAgZm9udC1zaXplOiAyNHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi8qIFNldCB0aGUgdGV4dCBjb2xvciAqL1xyXG5pb24tc2VsZWN0OjpwYXJ0KHRleHQpIHtcclxuICBjb2xvcjogIzU0NWNhNztcclxufVxyXG5cclxuLyogU2V0IHRoZSBpY29uIGNvbG9yIGFuZCBvcGFjaXR5ICovXHJcbmlvbi1zZWxlY3Q6OnBhcnQoaWNvbikge1xyXG4gIGNvbG9yOiAjOTcxZTQ5O1xyXG4gIG9wYWNpdHk6IDE7XHJcbn1cclxuLmNvbnRlbnQtY2FyZC1mYXZ7XHJcbiAgaGVpZ2h0OiA1OHB4O1xyXG4gIG1pbi1oZWlnaHQ6IDU2cHg7XHJcbn1cclxuLmlvbi1mYXYtY2FsZW5kYXJ7XHJcbiAgaGVpZ2h0OiA0OHB4O1xyXG4gIHdpZHRoOiA0OHB4O1xyXG59XHJcbi5ib3RvblJlc2VydmFye1xyXG4gIC8qY29sb3I6IzAwMDAwMERFO1xyXG4gIGZvbnQtd2VpZ2h0OiAyMHB4O1xyXG4gIGZvbnQ6IG5vcm1hbCBub3JtYWwgbWVkaXVtIDE0cHggUm9ib3RvOyAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBmb250LWZhbWlseTogJ1JvYm90byc7XHJcbiAgZm9udC1zaXplOiAuODc1ZW07XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBsZXR0ZXItc3BhY2luZzogMS4yNXB4O1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgb3BhY2l0eTogMTtcclxufVxyXG4vKiBlc3RpbG9zIHBhcmEgbWF0ZXJpYWwgKi9cclxuLmV4YW1wbGUtaGVhZGVyLWltYWdlIHtcclxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xyXG4gIHdpZHRoOiA4MHB4O1xyXG4gIGhlaWdodDogODBweDtcclxuICBvYmplY3QtZml0OiBjb3ZlcjtcclxufVxyXG5tYXQtY2FyZHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgbWluLXdpZHRoOiAxMDAlO1xyXG59XHJcbjo6bmctZGVwIC5tYXQtY2FyZC1oZWFkZXItdGV4dHtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW46IDA7XHJcbn1cclxuLmhvcmF7XHJcbiAgZm9udC1zaXplOiAwLjhlbTtcclxufVxyXG4ucm93LWNhcmR7XHJcbiAgbWFyZ2luLWxlZnQ6IDE2cHg7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxNnB4O1xyXG59XHJcbi5pbWctY2FyZHtcclxuICB3aWR0aDogODBweDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWluLXdpZHRoOiA4MHB4O1xyXG59XHJcbmhyIHtcclxuICBtYXJnaW4tdG9wOiAwO1xyXG4gIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgYm9yZGVyOiAwO1xyXG4gIGhlaWdodDogMXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsLjEyKTtcclxufVxyXG5cclxuLmJ1dHRvbi1uYXRpdmUge1xyXG4gIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAxNnB4O1xyXG4gIHBhZGRpbmctaW5saW5lLWVuZDogMTZweDtcclxuXHJcbn0iLCIvKiBTZXQgdGhlIHdpZHRoIHRvIHRoZSBmdWxsIGNvbnRhaW5lciBhbmQgY2VudGVyIHRoZSBjb250ZW50ICovXG5pb24tc2VsZWN0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4vKiBTZXQgdGhlIGZsZXggaW4gb3JkZXIgdG8gc2l6ZSB0aGUgdGV4dCB3aWR0aCB0byBpdHMgY29udGVudCAqL1xuaW9uLXNlbGVjdDo6cGFydChwbGFjZWhvbGRlciksXG5pb24tc2VsZWN0OjpwYXJ0KHRleHQpIHtcbiAgZmxleDogMCAwIGF1dG87XG59XG5cbi8qIFNldCB0aGUgcGxhY2Vob2xkZXIgY29sb3IgYW5kIG9wYWNpdHkgKi9cbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpIHtcbiAgY29sb3I6ICMyMGEwOGE7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qXG4gKiBTZXQgdGhlIGZvbnQgb2YgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgcGxhY2Vob2xkZXJcbiAqIFNoYWRvdyBwYXJ0cyB3b3JrIHdpdGggcHNldWRvLWVsZW1lbnRzLCB0b28hXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvUHNldWRvLWVsZW1lbnRzXG4gKi9cbmlvbi1zZWxlY3Q6OnBhcnQocGxhY2Vob2xkZXIpOjpmaXJzdC1sZXR0ZXIge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi8qIFNldCB0aGUgdGV4dCBjb2xvciAqL1xuaW9uLXNlbGVjdDo6cGFydCh0ZXh0KSB7XG4gIGNvbG9yOiAjNTQ1Y2E3O1xufVxuXG4vKiBTZXQgdGhlIGljb24gY29sb3IgYW5kIG9wYWNpdHkgKi9cbmlvbi1zZWxlY3Q6OnBhcnQoaWNvbikge1xuICBjb2xvcjogIzk3MWU0OTtcbiAgb3BhY2l0eTogMTtcbn1cblxuLmNvbnRlbnQtY2FyZC1mYXYge1xuICBoZWlnaHQ6IDU4cHg7XG4gIG1pbi1oZWlnaHQ6IDU2cHg7XG59XG5cbi5pb24tZmF2LWNhbGVuZGFyIHtcbiAgaGVpZ2h0OiA0OHB4O1xuICB3aWR0aDogNDhweDtcbn1cblxuLmJvdG9uUmVzZXJ2YXIge1xuICAvKmNvbG9yOiMwMDAwMDBERTtcbiAgZm9udC13ZWlnaHQ6IDIwcHg7XG4gIGZvbnQ6IG5vcm1hbCBub3JtYWwgbWVkaXVtIDE0cHggUm9ib3RvOyAqL1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtZmFtaWx5OiBcIlJvYm90b1wiO1xuICBmb250LXNpemU6IDAuODc1ZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGxldHRlci1zcGFjaW5nOiAxLjI1cHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi8qIGVzdGlsb3MgcGFyYSBtYXRlcmlhbCAqL1xuLmV4YW1wbGUtaGVhZGVyLWltYWdlIHtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgd2lkdGg6IDgwcHg7XG4gIGhlaWdodDogODBweDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG59XG5cbm1hdC1jYXJkIHtcbiAgd2lkdGg6IDEwMCU7XG4gIG1heC13aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDAlO1xufVxuXG46Om5nLWRlcCAubWF0LWNhcmQtaGVhZGVyLXRleHQge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAwO1xufVxuXG4uaG9yYSB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59XG5cbi5yb3ctY2FyZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG59XG5cbi5pbWctY2FyZCB7XG4gIHdpZHRoOiA4MHB4O1xuICBmbG9hdDogcmlnaHQ7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgbWluLXdpZHRoOiA4MHB4O1xufVxuXG5ociB7XG4gIG1hcmdpbi10b3A6IDA7XG4gIG1hcmdpbi1ib3R0b206IDA7XG4gIGJvcmRlcjogMDtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbi5idXR0b24tbmF0aXZlIHtcbiAgcGFkZGluZy1pbmxpbmUtc3RhcnQ6IDE2cHg7XG4gIHBhZGRpbmctaW5saW5lLWVuZDogMTZweDtcbn0iXX0= */\";","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonItem, AlertController, IonContent } from '@ionic/angular';\r\n//parametros\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NavigationExtras } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { ServicioInfoUsuario } from '../../app/services/ServicioInfoUsuario';\r\nimport { ServicioAcceso } from '../../app/services/ServicioAcceso';\r\nimport { ServicioCitas } from '../../app/services/ServicioCitas';\r\nimport { ServicioParametrosApp } from '../../app/services/ServicioParametrosApp';\r\nimport { environment } from 'src/environments/environment';\r\n//moment\r\nimport * as moment from 'moment';\r\n//modal\r\nimport { ModalDetalleCitaPage } from '../modal-detalle-cita/modal-detalle-cita.page';\r\nimport { MomentPipe } from '../../app/pipes/fecha.pipe';\r\nimport { MatCard } from '@angular/material/card';\r\n\r\n@Component({\r\n  selector: 'app-calendario',\r\n  templateUrl: './calendario.page.html',\r\n  styleUrls: ['./calendario.page.scss'],\r\n})\r\nexport class CalendarioPage implements OnInit {\r\n  miColor = '#FF4081';\r\n  tiene = true;\r\n  textColor = '#FFFFFF';\r\n  //variables propias\r\n  eventSource;\r\n  public userData;\r\n  public usuarioAps;\r\n  public citas;\r\n  public citasVertical;\r\n  public citasVerticalMostrar;\r\n  public calendarioData = [];\r\n  public current;\r\n  public calendarioTodo = [];\r\n  public hoy;\r\n  public diaSem;\r\n  public meses;\r\n  public anio;\r\n  public icon;\r\n  public imgEvento;\r\n  public latAndLong;\r\n  public titulo;\r\n  public mesesVertical: any;\r\n  public mesActualSeleccionado: any;\r\n  public citasIntegracion = [];\r\n  public citasVerticalTodas = [];\r\n  //datos para consultar citas\r\n  runPaciente = '';\r\n  codigoDeis = '';\r\n  serviceType = '349';\r\n  nodId;\r\n  //para el manejo de los botones en las citas\r\n  botonReservar = {\r\n    Titulo: 'RESERVAR',\r\n    Visible: false,\r\n    Operacion: 'booked',\r\n    Color: 'primary',\r\n    Alert: '¿Reservar cita?'\r\n  }\r\n  botonConfirmar = {\r\n    Titulo: 'CONFIRMAR',\r\n    Visible: false,\r\n    Operacion: 'confirmed',\r\n    Color: 'primary',\r\n    Alert: '¿Confirmar la reserva de cita?'\r\n  }\r\n  botonCancelar = {\r\n    Titulo: 'ANULAR',\r\n    Visible: false,\r\n    Operacion: 'cancelled',\r\n    Color: 'danger',\r\n    Alert: '¿Anular la reserva de cita?'\r\n  }\r\n  @ViewChild('myList', { read: IonItem }) list: IonItem;\r\n  @ViewChild('myListCard', { read: MatCard }) listCarda: MatCard;\r\n  @ViewChild('content', { static: true }) content: IonContent;\r\n  //para controlar el cargando\r\n  estaCargando = false;\r\n  tituloLoading = '';\r\n  //para infinity scroll\r\n  topLimit: number = 50;\r\n  citasVerticalTodasTop: any = [];\r\n  //para poner la linea en la fecha actual\r\n  fechaActual = '';\r\n  anioActual = '';\r\n  scrollTo = null;\r\n  //tiene eventos hoy\r\n  tieneEventosHoy = false;\r\n  tieneEventosFuturos = false;\r\n  fechaParaHoy;\r\n  //data local\r\n  EVENTOS_LOCAL = [\r\n    {\r\n      \"FechaCompleta\": \"2021-06-01T00:00:00\",\r\n      \"NumeroDia\": 1,\r\n      \"NombreDia\": \"martes\",\r\n      \"NombreDiaReducido\": \"mar\",\r\n      \"Id\": 1,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-02T00:00:00\",\r\n      \"NumeroDia\": 2,\r\n      \"NombreDia\": \"miércoles\",\r\n      \"NombreDiaReducido\": \"mié\",\r\n      \"Id\": 2,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-03T00:00:00\",\r\n      \"NumeroDia\": 3,\r\n      \"NombreDia\": \"jueves\",\r\n      \"NombreDiaReducido\": \"jue\",\r\n      \"Id\": 3,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-04T00:00:00\",\r\n      \"NumeroDia\": 4,\r\n      \"NombreDia\": \"viernes\",\r\n      \"NombreDiaReducido\": \"vie\",\r\n      \"Id\": 4,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-05T00:00:00\",\r\n      \"NumeroDia\": 5,\r\n      \"NombreDia\": \"sábado\",\r\n      \"NombreDiaReducido\": \"sáb\",\r\n      \"Id\": 5,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-06T00:00:00\",\r\n      \"NumeroDia\": 6,\r\n      \"NombreDia\": \"domingo\",\r\n      \"NombreDiaReducido\": \"dom\",\r\n      \"Id\": 6,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-07T00:00:00\",\r\n      \"NumeroDia\": 7,\r\n      \"NombreDia\": \"lunes\",\r\n      \"NombreDiaReducido\": \"lun\",\r\n      \"Id\": 7,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-08T00:00:00\",\r\n      \"NumeroDia\": 8,\r\n      \"NombreDia\": \"martes\",\r\n      \"NombreDiaReducido\": \"mar\",\r\n      \"Id\": 8,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-09T00:00:00\",\r\n      \"NumeroDia\": 9,\r\n      \"NombreDia\": \"miércoles\",\r\n      \"NombreDiaReducido\": \"mié\",\r\n      \"Id\": 9,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-10T00:00:00\",\r\n      \"NumeroDia\": 10,\r\n      \"NombreDia\": \"jueves\",\r\n      \"NombreDiaReducido\": \"jue\",\r\n      \"Id\": 10,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-11T00:00:00\",\r\n      \"NumeroDia\": 11,\r\n      \"NombreDia\": \"viernes\",\r\n      \"NombreDiaReducido\": \"vie\",\r\n      \"Id\": 11,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-12T00:00:00\",\r\n      \"NumeroDia\": 12,\r\n      \"NombreDia\": \"sábado\",\r\n      \"NombreDiaReducido\": \"sáb\",\r\n      \"Id\": 12,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-13T00:00:00\",\r\n      \"NumeroDia\": 13,\r\n      \"NombreDia\": \"domingo\",\r\n      \"NombreDiaReducido\": \"dom\",\r\n      \"Id\": 13,\r\n      \"Eventos\": [\r\n        {\r\n          \"NombrePrincipal\": \"Leche Purita Fortificada\",\r\n          \"NombreSecundario\": \"2\",\r\n          \"HoraInicioFin\": \"13:00\",\r\n          \"Imagen\": \"alimento.png\",\r\n          \"DetalleEventoMes\": {\r\n            \"FechaHora\": \"2021-06-13T13:00:00\",\r\n            \"NombrePaciente\": \"Victor Edgardo Coronado Troncoso\",\r\n            \"DescripcionPrincipal\": \"Leche Purita Fortificada\",\r\n            \"DescripcionSecundaria\": \"2\",\r\n            \"Lugar\": \"RAYENSALUD [CESFAM]\",\r\n            \"Titulo\": \"Alimento\",\r\n            \"Subtitulo\": \"Alimento Entregado\",\r\n            \"IdElemento\": 14105,\r\n            \"Estado\": \"\"\r\n          },\r\n          \"ListaFarmacos\": null,\r\n          \"Color\": \"#757575\"\r\n        },\r\n        {\r\n          \"NombrePrincipal\": \"Bebida Lactea Años Dorados\",\r\n          \"NombreSecundario\": \"1\",\r\n          \"HoraInicioFin\": \"13:00\",\r\n          \"Imagen\": \"alimento.png\",\r\n          \"DetalleEventoMes\": {\r\n            \"FechaHora\": \"2021-06-13T13:00:00\",\r\n            \"NombrePaciente\": \"Victor Edgardo Coronado Troncoso\",\r\n            \"DescripcionPrincipal\": \"Bebida Lactea Años Dorados\",\r\n            \"DescripcionSecundaria\": \"1\",\r\n            \"Lugar\": \"RAYENSALUD [CESFAM]\",\r\n            \"Titulo\": \"Alimento\",\r\n            \"Subtitulo\": \"Alimento Entregado\",\r\n            \"IdElemento\": 14126,\r\n            \"Estado\": \"\"\r\n          },\r\n          \"ListaFarmacos\": null,\r\n          \"Color\": \"#757575\"\r\n        }\r\n      ],\r\n      \"Mostrar\": true,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-14T00:00:00\",\r\n      \"NumeroDia\": 14,\r\n      \"NombreDia\": \"lunes\",\r\n      \"NombreDiaReducido\": \"lun\",\r\n      \"Id\": 14,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-15T00:00:00\",\r\n      \"NumeroDia\": 15,\r\n      \"NombreDia\": \"martes\",\r\n      \"NombreDiaReducido\": \"mar\",\r\n      \"Id\": 15,\r\n      \"Eventos\": [\r\n        {\r\n          \"NombrePrincipal\": \"Rinofaringitis aguda (resfriado común)\",\r\n          \"NombreSecundario\": \"J00\",\r\n          \"HoraInicioFin\": \"13:09\",\r\n          \"Imagen\": \"diagnostico.png\",\r\n          \"DetalleEventoMes\": {\r\n            \"FechaHora\": \"2021-06-15T13:09:54.547\",\r\n            \"NombrePaciente\": \"Victor Edgardo Coronado Troncoso\",\r\n            \"DescripcionPrincipal\": \"Rinofaringitis aguda (resfriado común)\",\r\n            \"DescripcionSecundaria\": \"J00\",\r\n            \"Lugar\": \"RAYENSALUD [CESFAM]\",\r\n            \"Titulo\": \"Atención\",\r\n            \"Subtitulo\": \"Atención Realizada\",\r\n            \"IdElemento\": 390333192,\r\n            \"Estado\": \"\"\r\n          },\r\n          \"ListaFarmacos\": null,\r\n          \"Color\": \"#757575\"\r\n        }\r\n      ],\r\n      \"Mostrar\": true,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-16T00:00:00\",\r\n      \"NumeroDia\": 16,\r\n      \"NombreDia\": \"miércoles\",\r\n      \"NombreDiaReducido\": \"mié\",\r\n      \"Id\": 16,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-17T00:00:00\",\r\n      \"NumeroDia\": 17,\r\n      \"NombreDia\": \"jueves\",\r\n      \"NombreDiaReducido\": \"jue\",\r\n      \"Id\": 17,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-18T00:00:00\",\r\n      \"NumeroDia\": 18,\r\n      \"NombreDia\": \"viernes\",\r\n      \"NombreDiaReducido\": \"vie\",\r\n      \"Id\": 18,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-19T00:00:00\",\r\n      \"NumeroDia\": 19,\r\n      \"NombreDia\": \"sábado\",\r\n      \"NombreDiaReducido\": \"sáb\",\r\n      \"Id\": 19,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-20T00:00:00\",\r\n      \"NumeroDia\": 20,\r\n      \"NombreDia\": \"domingo\",\r\n      \"NombreDiaReducido\": \"dom\",\r\n      \"Id\": 20,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-21T00:00:00\",\r\n      \"NumeroDia\": 21,\r\n      \"NombreDia\": \"lunes\",\r\n      \"NombreDiaReducido\": \"lun\",\r\n      \"Id\": 21,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-22T00:00:00\",\r\n      \"NumeroDia\": 22,\r\n      \"NombreDia\": \"martes\",\r\n      \"NombreDiaReducido\": \"mar\",\r\n      \"Id\": 22,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-23T00:00:00\",\r\n      \"NumeroDia\": 23,\r\n      \"NombreDia\": \"miércoles\",\r\n      \"NombreDiaReducido\": \"mié\",\r\n      \"Id\": 23,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-24T00:00:00\",\r\n      \"NumeroDia\": 24,\r\n      \"NombreDia\": \"jueves\",\r\n      \"NombreDiaReducido\": \"jue\",\r\n      \"Id\": 24,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-25T00:00:00\",\r\n      \"NumeroDia\": 25,\r\n      \"NombreDia\": \"viernes\",\r\n      \"NombreDiaReducido\": \"vie\",\r\n      \"Id\": 25,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-26T00:00:00\",\r\n      \"NumeroDia\": 26,\r\n      \"NombreDia\": \"sábado\",\r\n      \"NombreDiaReducido\": \"sáb\",\r\n      \"Id\": 26,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-27T00:00:00\",\r\n      \"NumeroDia\": 27,\r\n      \"NombreDia\": \"domingo\",\r\n      \"NombreDiaReducido\": \"dom\",\r\n      \"Id\": 27,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-28T00:00:00\",\r\n      \"NumeroDia\": 28,\r\n      \"NombreDia\": \"lunes\",\r\n      \"NombreDiaReducido\": \"lun\",\r\n      \"Id\": 28,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-29T00:00:00\",\r\n      \"NumeroDia\": 29,\r\n      \"NombreDia\": \"martes\",\r\n      \"NombreDiaReducido\": \"mar\",\r\n      \"Id\": 29,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    },\r\n    {\r\n      \"FechaCompleta\": \"2021-06-30T00:00:00\",\r\n      \"NumeroDia\": 30,\r\n      \"NombreDia\": \"miércoles\",\r\n      \"NombreDiaReducido\": \"mié\",\r\n      \"Id\": 30,\r\n      \"Eventos\": [\r\n\r\n      ],\r\n      \"Mostrar\": false,\r\n      \"indice\": 0\r\n    }\r\n  ];\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public menu: MenuController,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public utiles: ServicioUtiles,\r\n    public loading: LoadingController,\r\n    public info: ServicioInfoUsuario,\r\n    public acceso: ServicioAcceso,\r\n    public cita: ServicioCitas,\r\n    private alertController: AlertController,\r\n    public parametrosApp: ServicioParametrosApp\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    moment().locale('es');\r\n    this.fechaActual = this.transformDate(moment(), 'YYYY-MM-DD');\r\n    this.anioActual = this.transformDate(moment(), 'YYYY');\r\n    //console.log(this.fechaActual);\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    if (sessionStorage.UsuarioAps) {\r\n      this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (this.usuarioAps) {\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        this.usuarioAps.UrlImagen = environment.URL_FOTOS + this.usuarioAps.UrlImagen;\r\n        this.runPaciente = this.utiles.insertarGuion(this.usuarioAps.Rut);\r\n        this.codigoDeis = this.usuarioAps.ConfiguracionNodo.CodigoDeis2014;\r\n        this.nodId = this.usuarioAps.ConfiguracionNodo.NodId;\r\n      }\r\n    }\r\n    //mes seleccionado\r\n    this.mesActualSeleccionado = moment().month() + 1 + ',' + moment().year();\r\n    let diasSemana = new Array(\"domingo\", \"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\");\r\n    let meses = new Array(\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\");\r\n    this.diaSem = diasSemana[new Date().getDay()];\r\n    this.hoy = new Date().getDate();\r\n    this.meses = meses[new Date().getMonth()];\r\n    this.anio = new Date().getFullYear();\r\n    //estos parametros estan en el ready\r\n    //lamada para citas vertical\r\n    var annoActual = moment().year();\r\n\r\n    var mesActual = moment().month() + 1;\r\n    //var mesActual = this.mesActualSeleccionado;\r\n    //console.log(mesActual);\r\n    //***************************** */\r\n    this.tratamientoMeses();\r\n    //prueba de implementacion api management\r\n    //this.cargarTodosLosEventosApi();\r\n    //implementacion nueva\r\n    if (this.parametrosApp.USA_API_MANAGEMENT()) {\r\n      this.cargarTodosLosEventosApi();\r\n    }\r\n    else {\r\n      this.cargarTodosLosEventos();\r\n    }\r\n\r\n\r\n  }\r\n  private getTime(date?: Date) {\r\n    return date != null ? new Date(date).getTime() : 0;\r\n  }\r\n  cargarDataLocal(){\r\n    sessionStorage.setItem('EVENTOS_LOCAL', JSON.stringify(this.EVENTOS_LOCAL));\r\n    this.citasVerticalTodas = this.EVENTOS_LOCAL;\r\n    this.procesarArregloCitasTodas();\r\n    this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n    this.citasVerticalMostrar.sort((a: any, b: any) => { return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta) });\r\n    //guardamos la variable de ordenamiento\r\n    sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n    //creamos top limit al nuevo arreglo de citas\r\n    this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n  }\r\n  async cargarTodosLosEventosApi() {\r\n    //usar citasVerticalTodas\r\n    this.citasVerticalTodas = [];\r\n    this.citasVerticalMostrar = [];\r\n    var fechaActual = moment();\r\n\r\n    var mesActual = {\r\n      mes: fechaActual.month() + 1,\r\n      anno: fechaActual.year()\r\n    };\r\n\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner: null,\r\n      //message: 'Cargando...<br>tipos de atención',\r\n      duration: 2000\r\n    });\r\n    this.estaCargando = true;\r\n    this.tituloLoading = 'Obteniendo calendario';\r\n\r\n    await loader.present().then(async () => {\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.entregaPorMesNuevoApi(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).subscribe(async (response: any) => {\r\n          this.citasVerticalTodas = response;\r\n          this.procesarArregloCitasTodas();\r\n          this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n          this.citasVerticalMostrar.sort((a: any, b: any) => { return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta) });\r\n          //guardamos la variable de ordenamiento\r\n          sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n          //creamos top limit al nuevo arreglo de citas\r\n          this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n          //console.log(this.citasVerticalTodasTop);\r\n          console.log(this.tieneEventosFuturos);\r\n          loader.dismiss();\r\n          this.estaCargando = false;\r\n          this.tituloLoading = '';\r\n          this.scrollListVisible();\r\n          \r\n        }, error => {\r\n          //console.log(error.message);\r\n          this.estaCargando = false;\r\n          this.tituloLoading = '';\r\n          loader.dismiss();\r\n          //LO COMENTAMOS POR MIENTRAS\r\n          //this.tiene = false;\r\n          //this.utiles.presentToast('Se produjo un error al obtener la información, vuelva a intentarlo más tarde', 'bottom', 3000);\r\n          //this.agregarUnElemento(moment().toDate());\r\n          //******************* */\r\n          this.cargarDataLocal();\r\n          console.log(this.tieneEventosFuturos);\r\n        });\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.entregaPorMesNuevoApiNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).then(async (response: any) => {\r\n          this.citasVerticalTodas = JSON.parse(response.data);\r\n          //aca procesamos\r\n          this.procesarArregloCitasTodas();\r\n          this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n          //ahora que tenemos las citas que queremos mostrar\r\n          //ordenamos\r\n          this.citasVerticalMostrar.sort((a: any, b: any) => { return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta) });\r\n          //guardamos la variable de ordenamiento\r\n          sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n          //creamos top limit al nuevo arreglo de citas\r\n          this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n          //console.log(this.citasVerticalTodasTop);\r\n          loader.dismiss();\r\n          this.estaCargando = false;\r\n          this.tituloLoading = '';\r\n        }).catch(error => {\r\n          //console.log(error.message);\r\n          this.estaCargando = false;\r\n          this.tituloLoading = '';\r\n          loader.dismiss();\r\n          //LO COMENTAMOS POR MIENTRAS\r\n          //this.tiene = false;\r\n          //this.utiles.presentToast('Se produjo un error al obtener la información, vuelva a intentarlo más tarde', 'bottom', 3000);\r\n          //this.agregarUnElemento(moment().toDate());\r\n          //**************** */\r\n          this.cargarDataLocal();\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  async cargarTodosLosEventos() {\r\n    //usar citasVerticalTodas\r\n    this.citasVerticalTodas = [];\r\n    this.citasVerticalMostrar = [];\r\n    var fechaActual = moment();\r\n    var fechaAnterior = moment().subtract(1, 'month');\r\n    var fechaPosterior = moment().add(1, 'month');\r\n    var mesAnterior = {\r\n      mes: fechaAnterior.month() + 1,\r\n      anno: fechaAnterior.year()\r\n    };\r\n    var mesActual = {\r\n      mes: fechaActual.month() + 1,\r\n      anno: fechaActual.year()\r\n    };\r\n    var mesPosterior = {\r\n      mes: fechaPosterior.month() + 1,\r\n      anno: fechaPosterior.year()\r\n    };\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner: null,\r\n      //message: 'Cargando...<br>tipos de atención',\r\n      duration: 2000\r\n    });\r\n    this.estaCargando = true;\r\n    this.tituloLoading = 'Cargando calendario';\r\n\r\n    await loader.present().then(async () => {\r\n      if (!this.utiles.isAppOnDevice()) {\r\n        //llamada web\r\n        this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesAnterior.mes, mesAnterior.anno).subscribe(async (response: any) => {\r\n          this.citasVerticalTodas = response;\r\n          //segunda llamada\r\n          this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).subscribe(async (responseDos: any) => {\r\n            this.citasVerticalTodas = this.citasVerticalTodas.concat(responseDos);\r\n            //tercera llamada\r\n            this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesPosterior.mes, mesPosterior.anno).subscribe(async (responseTres: any) => {\r\n              this.citasVerticalTodas = this.citasVerticalTodas.concat(responseTres);\r\n              //aca procedemos a procesarlos\r\n              this.procesarArregloCitasTodas();\r\n              this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n              ////console.log(this.citasVerticalMostrar);\r\n              //ahora que tenemos las citas que queremos mostrar\r\n              //ordenamos\r\n              this.citasVerticalMostrar.sort((a: any, b: any) => { return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta) });\r\n              //guardamos la variable de ordenamiento\r\n              sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n              //creamos top limit al nuevo arreglo de citas\r\n              this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n              //console.log(this.citasVerticalTodasTop);\r\n              loader.dismiss();\r\n              this.estaCargando = false;\r\n              this.tituloLoading = '';\r\n            });\r\n          });\r\n        });\r\n      }\r\n      else {\r\n        //llamada nativa\r\n        this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesAnterior.mes, mesAnterior.anno).then(async (response: any) => {\r\n          this.citasVerticalTodas = JSON.parse(response.data);\r\n          //segunda llamada\r\n          this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesActual.mes, mesActual.anno).then(async (responseDos: any) => {\r\n            var dataDos = JSON.parse(responseDos.data);\r\n            this.citasVerticalTodas = this.citasVerticalTodas.concat(dataDos);\r\n            //tercera llamada\r\n            this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesPosterior.mes, mesPosterior.anno).then(async (responseTres: any) => {\r\n              var dataTres = JSON.parse(responseTres.data);\r\n              this.citasVerticalTodas = this.citasVerticalTodas.concat(dataTres);\r\n              //aca procesamos\r\n              this.procesarArregloCitasTodas();\r\n              this.citasVerticalMostrar = this.citasVerticalTodas.filter(e => e.Mostrar == true);\r\n              //ahora que tenemos las citas que queremos mostrar\r\n              //ordenamos\r\n              this.citasVerticalMostrar.sort((a: any, b: any) => { return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta) });\r\n              //guardamos la variable de ordenamiento\r\n              sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n              //creamos top limit al nuevo arreglo de citas\r\n              this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n              //console.log(this.citasVerticalTodasTop);\r\n              loader.dismiss();\r\n              this.estaCargando = false;\r\n              this.tituloLoading = '';\r\n            });\r\n          });\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  logout() {\r\n    this.acceso.logout();\r\n    this.navCtrl.navigateRoot('nuevo-login');\r\n  }\r\n  procesarArregloCitas() {\r\n    var contador = 0;\r\n    for (var s in this.citasVertical) {\r\n      for (var t in this.citasVertical[s].Eventos) {\r\n        var fechaHora = (this.citasVertical[s].Eventos[t].DetalleEventoMes.FechaHora);\r\n        var fechaEvento = moment(fechaHora, 'YYYY-MM-DD').toDate();\r\n        var fechaHoy = moment().toDate();\r\n\r\n        //console.log('Evento: ' + fechaEvento);\r\n        //console.log('Hoy:' + fechaHoy);\r\n        contador++;\r\n        if (this.citasVertical[s].Eventos[t]) {\r\n\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'agendar_citas.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita Web') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'agendar_citas.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada web';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Atención Realizada') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'atenciones.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Atención Realizada';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-medicamentos.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-medicamentos.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Alimento Entregado') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'retiro-de-alimentos.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Entrega de alimento';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna Administrada') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'vacunas.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Inmunización';\r\n          }\r\n          if (this.citasVertical[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna por administrar') {\r\n            this.citasVertical[s].Eventos[t].Imagen = 'vacunas.svg';\r\n            this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna';\r\n          }\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de alimento') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Alimento entregado';\r\n          //console.log(this.citasVertical[s].Eventos[t].DetalleEventoMes);\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de fármaco') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco entregado'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Inmunización') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna administrada'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo == 'Vacuna') {\r\n          this.citasVertical[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna por administrar'\r\n        }\r\n\r\n      }\r\n    }\r\n    //para determinar si tiene o no eventos\r\n    if (contador == 0) {\r\n      this.tiene = false;\r\n    }\r\n    else {\r\n      this.tiene = true;\r\n    }\r\n  }\r\n  procesarArregloCitasTodas() {\r\n    var contador = 0;\r\n    for (var s in this.citasVerticalTodas) {\r\n      var fechaActual = moment();\r\n      var fechaEvento1 = moment(this.citasVerticalTodas[s].FechaCompleta);\r\n      var dif = fechaActual.diff(fechaEvento1);\r\n      if (dif < 0) {\r\n        dif = dif * -1;\r\n      }\r\n      this.citasVerticalTodas[s].DiferenciaFechas = dif;\r\n      for (var t in this.citasVerticalTodas[s].Eventos) {\r\n        var fechaHora = (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.FechaHora);\r\n        var fechaEvento = moment(fechaHora, 'YYYY-MM-DD').toDate();\r\n        var fechaHoy = moment().toDate();\r\n\r\n        console.log('Evento: ' + fechaEvento);\r\n        console.log('Hoy:' + fechaHoy);\r\n        if (moment(fechaHoy).format('DD-MM-YYYY') == moment(fechaEvento).format('DD-MM-YYYY')){\r\n          this.tieneEventosHoy = true;\r\n        }\r\n        if (moment(fechaEvento).isAfter(moment(fechaHoy))){\r\n          this.tieneEventosFuturos = true;\r\n        }\r\n        this.fechaParaHoy = moment(fechaHoy).format('DD') + ' de ' + moment(fechaHoy).format('MMMM');\r\n        console.log(this.fechaParaHoy);\r\n        \r\n        contador++;\r\n\r\n        if (this.citasVerticalTodas[s].Eventos[t]) {\r\n\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'agendar_citas.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Próxima Cita Web') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'agendar_citas.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Cita programada web';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Atención Realizada') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'atenciones.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Atención Realizada';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco en uso') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-medicamentos.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Fármaco Pendiente') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-medicamentos.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco en uso';\r\n\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Alimento Entregado') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'retiro-de-alimentos.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Entrega de alimento';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna Administrada') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'vacunas.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Inmunización';\r\n          }\r\n          if (this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Subtitulo == 'Vacuna por administrar') {\r\n            this.citasVerticalTodas[s].Eventos[t].Imagen = 'vacunas.svg';\r\n            this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna';\r\n          }\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de alimento') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Alimento entregado';\r\n          //console.log(this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes);\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Entrega de fármaco') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Fármaco entregado'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Inmunización') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna administrada'\r\n        }\r\n        if (fechaEvento < fechaHoy && this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo == 'Vacuna') {\r\n          this.citasVerticalTodas[s].Eventos[t].DetalleEventoMes.Titulo = 'Vacuna por administrar'\r\n        }\r\n      }\r\n    }\r\n\r\n    //para determinar si tiene o no eventos\r\n    if (contador == 0) {\r\n      this.tiene = false;\r\n    }\r\n    else {\r\n      this.tiene = true;\r\n    }\r\n    //aca hay que determinar si agregar o no el evento de hoy\r\n    if (this.tieneEventosHoy == false) {\r\n      var ultimo = this.citasVerticalTodas.length + 1;\r\n      var entidadHoy = {\r\n        FechaCompleta: fechaHoy,\r\n        Id: parseInt(moment(fechaHoy).format('DD')),\r\n        Mostrar: true,\r\n        NombreDia: moment(fechaHoy).format('dddd'),\r\n        NombreDiaReducido: moment(fechaHoy).format('ddd'),\r\n        NumeroDia: parseInt(moment(fechaHoy).format('DD')),\r\n        Indice: ultimo,\r\n        DiferenciaFechas: 10,\r\n        NoHayEvento: true,\r\n        Eventos: [{\r\n          Color: null,\r\n          HoraInicioFin: '00:00',\r\n          Imagen: 'agendar_citas.svg',\r\n          ListaFarmacos: null,\r\n          NombrePrincipal: 'Nada planificado para hoy',\r\n          NombreSecundario: 'Nada planificado para hoy',\r\n          DetalleEventoMes: {\r\n            DescripcionPrincipal: 'Nada planificado para hoy',\r\n            DescripcionSecundaria: 'Nada planificado para hoy',\r\n            Estado: '',\r\n            FechaHora: fechaHoy,\r\n            IdElemento: 0,\r\n            Lugar: '',\r\n            NombrePaciente: '',\r\n            Subtitulo: 'Nada planificado para hoy',\r\n            Titulo: 'Nada planificado para hoy'\r\n          }\r\n        }]\r\n      }\r\n      //si no tiene eventos hoy lo agregamos\r\n      this.citasVerticalTodas.push(entidadHoy);\r\n    }\r\n\r\n  \r\n}\r\nagregarUnElemento(fechaHoy){\r\n  if (this.tieneEventosHoy == false){\r\n    //contador = 1;\r\n    var ultimo = this.citasVerticalTodas.length + 1;\r\n    var entidadHoy = {\r\n      FechaCompleta: fechaHoy,\r\n      Id: parseInt(moment(fechaHoy).format('DD')),\r\n      Mostrar: true,\r\n      NombreDia: moment(fechaHoy).format('dddd'),\r\n      NombreDiaReducido: moment(fechaHoy).format('ddd'),\r\n      NumeroDia: parseInt(moment(fechaHoy).format('DD')),\r\n      Indice: ultimo,\r\n      DiferenciaFechas: 10,\r\n      NoHayEvento: true,\r\n      Eventos: [{\r\n        Color: null,\r\n        HoraInicioFin: '00:00',\r\n        Imagen: 'agendar_citas.svg',\r\n        ListaFarmacos: null,\r\n        NombrePrincipal: 'Nada planificado para hoy',\r\n        NombreSecundario: 'Nada planificado para hoy',\r\n        DetalleEventoMes: {\r\n          DescripcionPrincipal: 'Nada planificado para hoy',\r\n          DescripcionSecundaria: 'Nada planificado para hoy',\r\n          Estado: '',\r\n          FechaHora: fechaHoy,\r\n          IdElemento: 0,\r\n          Lugar: '',\r\n          NombrePaciente: '',\r\n          Subtitulo: 'Nada planificado para hoy',\r\n          Titulo: 'Nada planificado para hoy'\r\n        }\r\n      }]\r\n    }\r\n    //si no tiene eventos hoy lo agregamos\r\n    this.citasVerticalTodas.push(entidadHoy);\r\n    this.citasVerticalTodasTop = this.citasVerticalTodas;\r\n    this.tiene = false;\r\n  }\r\n}\r\n  //ordena los elementos de forma descende o ascendente\r\n  ordenar() {\r\n    if (sessionStorage.getItem('ORDEN_EVENTOS')) {\r\n      var orden = sessionStorage.getItem('ORDEN_EVENTOS');\r\n      if (orden == 'descendente') {\r\n        this.citasVerticalTodasTop.sort((a: any, b: any) => { return this.getTime(a.FechaCompleta) - this.getTime(b.FechaCompleta) });\r\n        sessionStorage.setItem('ORDEN_EVENTOS', 'ascendente');\r\n      }\r\n      else {\r\n        this.citasVerticalTodasTop.sort((a: any, b: any) => { return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta) });\r\n        sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n      }\r\n    }\r\n    else {\r\n      this.citasVerticalTodasTop.sort((a: any, b: any) => { return this.getTime(b.FechaCompleta) - this.getTime(a.FechaCompleta) });\r\n      sessionStorage.setItem('ORDEN_EVENTOS', 'descendente');\r\n    }\r\n    this.scrollListVisible();\r\n  }\r\n  loadData(event) {\r\n    setTimeout(() => {\r\n      ////console.log('Done');\r\n      this.topLimit += 5;\r\n      this.citasVerticalTodasTop = this.citasVerticalMostrar.slice(0, this.topLimit);\r\n      event.target.complete();\r\n      //aplicamos disabled si la cantidad de registros es la misma que el total\r\n      if (this.citasVerticalTodasTop.length == this.citasVerticalMostrar.length) {\r\n        event.target.disabled = true;\r\n      }\r\n\r\n    }, 500);\r\n  }\r\n  cargarDatosNativeN(mesConsultar, annoConsultar, loader) {\r\n    //lo cambiamos para probar el nuevo metodo\r\n    //this.cita.entregaPorMesNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any)=>{\r\n    this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any) => {\r\n      let consultaMes = this.cita.entregaPorMesNuevoNative(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).then(async (response: any) => {\r\n        this.citasVertical = JSON.parse(response.data);\r\n        this.citasVerticalMostrar = this.citasVertical.filter(e => e.Mostrar == true);\r\n        //aqui procesa citasVertical\r\n        this.procesarArregloCitas();\r\n        loader.dismiss();\r\n      });\r\n    });\r\n  }\r\n  async cargarDatosWebN(mesConsultar, annoConsultar, loader) {\r\n    //ACA NO SE REALIZA LA CONSULTA A INETGRACIÓN PARA MOSTRAR O MEZCLAR LAS CITAS, YA QUE EL SP TRAE LA INFO DE LAS CITAS WEB\r\n    let consultaMes = this.cita.entregaPorMesNuevo(this.usuarioAps.Id, this.usuarioAps.IdRyf, this.usuarioAps.NodId, mesConsultar, annoConsultar).subscribe(async (response: any) => {\r\n      this.citasVertical = response;\r\n      this.citasVerticalMostrar = this.citasVertical.filter(e => e.Mostrar == true);\r\n      //aqui procesa citasVertical\r\n      this.procesarArregloCitas();\r\n      loader.dismiss();\r\n    });\r\n\r\n  }\r\n  tratamientoMeses() {\r\n    this.mesesVertical = [];\r\n    moment.locale('es-es');\r\n    var fechaActual = moment();\r\n    var fechaMenosUnMes = moment().subtract(1, 'month');\r\n    var fechaMasUnMes = moment().add(1, 'month');\r\n\r\n    var mesActualNumero = moment(fechaActual).month() + 1;\r\n    var mesMenosUnMesNumero = moment(fechaMenosUnMes).month() + 1;\r\n    var mesMasUnMesNumero = moment(fechaMasUnMes).month() + 1;\r\n\r\n    var mesActualStr = moment(fechaActual).format(\"MMMM\").toUpperCase();\r\n    var mesMenosUnMesStr = moment(fechaMenosUnMes).format(\"MMMM\").toUpperCase();\r\n    var mesMasUnMesStr = moment(fechaMasUnMes).format(\"MMMM\").toUpperCase();\r\n\r\n    var annoActual = moment(fechaActual).format(\"YYYY\");\r\n    var annoMenosUnMes = moment(fechaMenosUnMes).format(\"YYYY\");\r\n    var annoMasUnMes = moment(fechaMasUnMes).format(\"YYYY\");\r\n\r\n    //ahora tenemos los años, meses podemos construir el arreglo.\r\n    var entidadActual = { mesNumero: mesActualNumero + ',' + annoActual, mesTexto: mesActualStr, anno: annoActual };\r\n    var entidadMenos = { mesNumero: mesMenosUnMesNumero + ',' + annoMenosUnMes, mesTexto: mesMenosUnMesStr, anno: annoMenosUnMes };\r\n    var entidadMas = { mesNumero: mesMasUnMesNumero + ',' + annoMasUnMes, mesTexto: mesMasUnMesStr, anno: annoMasUnMes };\r\n\r\n    //agregamos los elementos al arreglo\r\n    this.mesesVertical.push(entidadMenos);\r\n    this.mesesVertical.push(entidadActual);\r\n    this.mesesVertical.push(entidadMas);\r\n\r\n    //console.log(this.mesesVertical);\r\n  }\r\n  createEventsCalendario() {\r\n    this.calendarioData = this.citas;\r\n    //console.log(this.calendarioData);\r\n    return this.calendarioData;\r\n  }\r\n  async goToDetalleCita(evento) {\r\n    //this.list.closeSlidingItems();\r\n    //this.navCtrl.push(DetailCitasPage, {evento:evento, usuario: this.usuarioAps});\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalDetalleCitaPage,\r\n        componentProps: {\r\n          'evento': JSON.stringify(evento),\r\n          'usuario': JSON.stringify(this.usuarioAps)\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      if (data.data && data.data.accion) {\r\n        var accion = data.data.accion;\r\n        ////console.log(accion);\r\n        //obtenemos la pagina actual\r\n        //actualizar\r\n        var annoActual = moment().year();\r\n\r\n        var mesActual = moment().month() + 1;\r\n        //var mesActual = this.mesActualSeleccionado;\r\n        ////console.log(mesActual);\r\n        //***************************** */\r\n        this.tratamientoMeses();\r\n        if (accion === 'booked') {\r\n          this.utiles.presentToast('Cita reservada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'confirmed') {\r\n          this.utiles.presentToast('Cita confirmada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'cancelled') {\r\n          this.utiles.presentToast('Cita anulada con éxito!!', 'bottom', 3000);\r\n        }\r\n        if (this.parametrosApp.USA_API_MANAGEMENT()) {\r\n          this.cargarTodosLosEventosApi();\r\n        }\r\n        else {\r\n          this.cargarTodosLosEventos();\r\n        }\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  procesarRespuesta(data, loader) {\r\n    this.citasIntegracion = [];\r\n    if (data && data.Mensaje) {\r\n      //correcto\r\n      if (data.Mensaje.Detalle.Codigo == 'MSG_CORRECTO') {\r\n        //ya tiene citas tomadas, hay que enviarlo a otra pagina\r\n        //la de buscarcitas\r\n        this.citasIntegracion = data.CitasDisponibles;\r\n\r\n      }\r\n      loader.dismiss();\r\n    }\r\n  }\r\n  revisarCita(evento, tituloBoton) {\r\n    //aca hay solo booked y confirmed\r\n    //si está booked puede confirmar y anular\r\n    //si está confirmed solo puede anular\r\n    //boton confirmar, anular\r\n    var visible = [false, false];\r\n    if (evento.DetalleEventoMes.Estado == 'booked' && tituloBoton == 'Confirmar') {\r\n      //si esta booked se puede confirmar\r\n      visible = [true, true];\r\n    }\r\n    else if (evento.DetalleEventoMes.Estado == 'confirmed' && tituloBoton == 'Anular') {\r\n      //si esta booked se puede confirmar\r\n      visible = [false, true];\r\n    }\r\n    else if (evento.DetalleEventoMes.Estado == 'booked' && tituloBoton == 'Anular') {\r\n      //si esta booked se puede confirmar\r\n      visible = [true, true];\r\n    }\r\n    else {\r\n      visible = [false, false]\r\n    }\r\n    return visible;\r\n  }\r\n  //manejo de citas\r\n  async presentAlertConfirm(boton, evento) {\r\n    var titulo = '';\r\n\r\n    const alert = await this.alertController.create({\r\n      header: boton.Titulo,\r\n      message: boton.Alert,\r\n      buttons: [\r\n        {\r\n          text: 'No',\r\n          role: 'cancel',\r\n          cssClass: 'danger',\r\n          handler: (blah) => {\r\n            //console.log('Confirm Cancel: blah');\r\n          }\r\n        }, {\r\n          text: 'Si',\r\n          cssClass: 'success',\r\n          handler: () => {\r\n            //aca debemos realizar la operación\r\n            this.accionCita(boton, evento);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  async accionCita(boton, evento) {\r\n    if (evento.DetalleEventoMes.Estado && evento.DetalleEventoMes.Estado != '') {\r\n      //aca buscamos al paciente por el nombre\r\n      let usuarioCita = this.utiles.entregaUsuarioNombre(evento.DetalleEventoMes.NombrePaciente);\r\n      //var idPaciente = this.usuarioAps.Rut;\r\n      var idPaciente = usuarioCita.Rut;\r\n      var idCita = evento.DetalleEventoMes.IdElemento;\r\n      var accion = boton.Operacion;\r\n      //original\r\n      /*       let loader = await this.loading.create({\r\n              message: 'Procesado...<br>Información',\r\n              duration: 20000\r\n            }); */\r\n      let loader = await this.loading.create({\r\n        cssClass: 'loading-vacio',\r\n        showBackdrop: false,\r\n        spinner: null,\r\n        duration: 2000\r\n      });\r\n      this.estaCargando = true;\r\n      this.tituloLoading = 'Obteniendo respuesta';\r\n\r\n      await loader.present().then(async () => {\r\n        var retorno = null;\r\n        if (!this.utiles.isAppOnDevice()) {\r\n          //llamada web\r\n          this.cita.getOperacionCita(idCita, idPaciente, accion).subscribe((response: any) => {\r\n            this.procesarRespuestaAgendar(response, loader, accion);\r\n          })\r\n        }\r\n        else {\r\n          //llamada nativa\r\n          this.cita.getOperacionCitaNative(idCita, idPaciente, accion).then((responseData: any) => {\r\n            var response = JSON.parse(responseData.data);\r\n            this.procesarRespuestaAgendar(response, loader, accion);\r\n          })\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n  procesarRespuestaAgendar(data, loader, accion) {\r\n    var retorno = null;\r\n    if (data && data.Mensaje) {\r\n      if (data.Mensaje.Codigo == 'correcto') {\r\n        //todo bien\r\n        //this.utiles.presentToast('Operación realizada con éxito', 'middle', 2000);\r\n        retorno = data;\r\n        //actualizar la pagina\r\n        var annoActual = moment().year();\r\n\r\n        var mesActual = moment().month() + 1;\r\n        //var mesActual = this.mesActualSeleccionado;\r\n        //console.log(mesActual);\r\n        //***************************** */\r\n        this.tratamientoMeses();\r\n        this.estaCargando = false;\r\n        this.tituloLoading = '';\r\n        if (accion === 'booked') {\r\n          this.utiles.presentToast('Cita reservada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'confirmed') {\r\n          this.utiles.presentToast('Cita confirmada con éxito!!', 'bottom', 3000);\r\n        }\r\n        else if (accion === 'cancelled') {\r\n          //si la cita es cnacelada hay que quitarla de notificaciones locales\r\n          //obtenemos el id dde la cita\r\n          if (data.CitasDisponibles && data.CitasDisponibles.length == 1) {\r\n            let idCita = data.CitasDisponibles[0].IdCita;\r\n            this.utiles.removeCitaNotificacionesLocales(idCita);\r\n          }\r\n          this.utiles.presentToast('Cita anulada con éxito!!', 'bottom', 3000);\r\n        }\r\n        if (this.parametrosApp.USA_API_MANAGEMENT()) {\r\n          this.cargarTodosLosEventosApi();\r\n        }\r\n        else {\r\n          this.cargarTodosLosEventos();\r\n        }\r\n\r\n      }\r\n      else {\r\n        this.estaCargando = false;\r\n        this.tituloLoading = '';\r\n        this.utiles.presentToast(data.Mensaje.Detalle.Texto, 'middle', 2000);\r\n      }\r\n    }\r\n    else {\r\n      //error en la operacion\r\n      this.estaCargando = false;\r\n      this.tituloLoading = '';\r\n      this.utiles.presentToast('Error en la operación', 'middle', 2000);\r\n    }\r\n    loader.dismiss();\r\n  }\r\n  //abrir pagina de reservar hora\r\n  openReservarHoraPage() {\r\n    var tieneFamilia = this.utiles.tieneFamilia();\r\n    //si tiene familia hay que enviarlo a la pagina de los miembros de la familia\r\n    if (tieneFamilia) {\r\n      this.navCtrl.navigateRoot('seleccion-usuario');\r\n    }\r\n    else {\r\n      //si no tiene hay que enviarlo a buscar disponibilidad directo\r\n      //pasando id\r\n      const navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          Id: this.usuarioAps.Id\r\n        }\r\n      };\r\n      this.navCtrl.navigateRoot(['pre-tiposatencion'], navigationExtras);\r\n    }\r\n\r\n  }\r\n  revisaEstado(item) {\r\n    var retorno = false;\r\n    if (item.DetalleEventoMes) {\r\n      if (item.DetalleEventoMes.Estado) {\r\n        if (item.DetalleEventoMes.Estado != undefined && item.DetalleEventoMes.Estado != '') {\r\n          retorno = true;\r\n        }\r\n      }\r\n    }\r\n    return retorno;\r\n  }\r\n  transformDate(value, format) {\r\n    var pi = new MomentPipe();\r\n    return pi.transform(value, format);\r\n  }\r\n\r\n  hasMin = function (attrib) {\r\n    return (this.length && this.reduce(function (prev, curr) {\r\n      return prev[attrib] < curr[attrib] ? prev : curr;\r\n    })) || null;\r\n  }\r\n  determinaFechaMasCercana() {\r\n    var fechaActual = moment();\r\n    if (this.citasVerticalTodasTop && this.citasVerticalTodasTop.length > 0) {\r\n      for (var i = 0; i < this.citasVerticalTodasTop.length; i++) {\r\n        var fechaEvento = moment(this.citasVerticalTodasTop[i].FechaCompleta);\r\n        var dif = fechaActual.diff(fechaEvento);\r\n        if (dif < 0) {\r\n          dif = dif * -1;\r\n        }\r\n        this.citasVerticalTodasTop[i].DiferenciaFechas = dif;\r\n        /*         //console.log(dif);\r\n                //console.log(this.citasVerticalTodasTop[i]); */\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  finder(cmp, arr, attr) {\r\n    var val = arr[0][attr];\r\n    for (var i = 1; i < arr.length; i++) {\r\n      val = cmp(val, arr[i][attr])\r\n    }\r\n    return val;\r\n  }\r\n\r\n  scrollListVisible() {\r\n    //this.determinaFechaMasCercana();\r\n    setTimeout(() => {\r\n      var min = this.finder(Math.min, this.citasVerticalTodasTop, 'DiferenciaFechas');\r\n      if (min) {\r\n        var entidad = this.citasVerticalTodasTop.filter(p => p.DiferenciaFechas == min)[0];\r\n        if (entidad) {\r\n          //var elemento = this.min();\r\n          //console.log(min);\r\n          //console.log(entidad);\r\n          let yOffset = document.getElementById(entidad.DiferenciaFechas.toString()).offsetTop;\r\n          if (yOffset != null) {\r\n            this.content.scrollToPoint(0, yOffset, 600);\r\n          }\r\n        }\r\n\r\n      }\r\n    }, 1000);\r\n\r\n\r\n  }\r\n}\r\n"]}