{"version":3,"sources":["webpack:///src/app/familia/familia.page.html","webpack:///src/app/familia/familia.module.ts","webpack:///src/app/familia/familia.page.scss","webpack:///src/app/familia/familia.page.ts"],"names":["FamiliaPageModule","imports","forChild","path","component","declarations","FamiliaPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","textColor","miColor","hayInfo","usuarioApsFamilia","listadoUsuario","estaCargando","cargarDatosIniciales","console","log","localStorage","getItem","colorLocal","sessionColor","JSON","parse","sessionStorage","UsuarioAps","Color","setItem","entregaColor","usuarioAps","create","cssClass","showBackdrop","spinner","loader","present","then","entregaMiColor","UrlImagen","URL_FOTOS","Parentezco","Id","Nombre","toUpperCase","Nombres","PrimerApellido","SegundoApellido","UsuariosFamilia","length","s","push","dismiss","item","componentProps","stringify","modal","onDidDismiss","data","navigationExtras","queryParams","estaAgregandoFamilia","navigateRoot","usuario","query","read","selector","template"],"mappings":"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","file":"familia-familia-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"back-app\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Datos de contacto/avatar</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <!-- lo comentamos hasta tener la nueva funcionalidad -->\\r\\n<!--   <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" color=\\\"danger\\\">\\r\\n    <ion-fab-button (click)=\\\"irValidacion()\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab> -->\\r\\n  <app-progress [mostrar]=\\\"estaCargando\\\" titulo=\\\"Buscando familia\\\"></app-progress>\\r\\n  <!-- si no hay registros -->\\r\\n  <div [hidden]=\\\"estaCargando\\\" *ngIf=\\\"hayInfo == false\\\" style=\\\"padding-top: 162px; padding-left: 16px; padding-right: 16px; font-size: 30px; color:#BDBDBD; text-align: center;\\\"><p>No hay familiares para mostrar  <br>\\r\\n    <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 60px;\\\"></ion-icon></p>\\r\\n  </div>\\r\\n\\r\\n  <div [hidden]=\\\"estaCargando\\\" *ngIf=\\\"listadoUsuario.length > 0\\\" style=\\\"padding-top: 16px;\\\">\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <p class=\\\"texto-item\\\">\\r\\n        Para cambiar su avatar pinche en la imágen.<br>\\r\\n        Para cambiar sus datos de contacto pinche en el nombre.\\r\\n      </p>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let item of listadoUsuario\\\">\\r\\n      <ion-item lines=\\\"inset\\\">\\r\\n        <!-- poner avatar -->\\r\\n        <ion-avatar slot=\\\"start\\\" (click)=\\\"irAjustes(item)\\\">\\r\\n          <img *ngIf=\\\"item.UrlImagen != ''\\\" src={{item.UrlImagen}}>\\r\\n          <img *ngIf=\\\"item.UrlImagen == ''\\\" src=\\\"../assets/img/no-imagen.jpg\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-row style=\\\"display: block;\\\" (click)=\\\"abrirContactabilidad(item)\\\">\\r\\n          <h3 class=\\\"text-avatar\\\">{{item.Nombres + ' ' + item.ApellidoPaterno + ' ' + item.ApellidoMaterno}}</h3>\\r\\n          <p class=\\\"subtext-avatar\\\">{{item.Parentezco.Nombre}}</p>\\r\\n        </ion-row>\\r\\n      </ion-item>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  \\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { FamiliaPage } from './familia.page';\r\n\r\nimport { TextAvatarModule } from '../../directives/text-avatar/index'\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TextAvatarModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: FamiliaPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [FamiliaPage]\r\n})\r\nexport class FamiliaPageModule {}\r\n","export default \".text-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.15px;\\n  color: #000000DE;\\n  font-size: 1em;\\n  margin-bottom: 0;\\n}\\n\\n.subtext-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.25px;\\n  color: #00000099;\\n  font-size: 0.875em;\\n  margin-bottom: 0;\\n}\\n\\n.texto-item {\\n  color: #00000099;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmFtaWxpYS9GOlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXGZhbWlsaWFcXGZhbWlsaWEucGFnZS5zY3NzIiwic3JjL2FwcC9mYW1pbGlhL2ZhbWlsaWEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDQ0o7O0FEQ0U7RUFDRSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDRUo7O0FEQUU7RUFDRSxnQkFBQTtFQUNBLGVBQUE7QUNHSiIsImZpbGUiOiJzcmMvYXBwL2ZhbWlsaWEvZmFtaWxpYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGV4dC1hdmF0YXJ7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90byc7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC4xNXB4O1xyXG4gICAgY29sb3I6ICMwMDAwMDBERTtcclxuICAgIGZvbnQtc2l6ZTogMWVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICB9XHJcbiAgLnN1YnRleHQtYXZhdGFye1xyXG4gICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuMjVweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwOTk7XHJcbiAgICBmb250LXNpemU6IDAuODc1ZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gIH1cclxuICAudGV4dG8taXRlbXtcclxuICAgIGNvbG9yOiAjMDAwMDAwOTk7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbn0iLCIudGV4dC1hdmF0YXIge1xuICBmb250LWZhbWlseTogXCJSb2JvdG9cIjtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMTVweDtcbiAgY29sb3I6ICMwMDAwMDBERTtcbiAgZm9udC1zaXplOiAxZW07XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi5zdWJ0ZXh0LWF2YXRhciB7XG4gIGZvbnQtZmFtaWx5OiBcIlJvYm90b1wiO1xuICBsZXR0ZXItc3BhY2luZzogMC4yNXB4O1xuICBjb2xvcjogIzAwMDAwMDk5O1xuICBmb250LXNpemU6IDAuODc1ZW07XG4gIG1hcmdpbi1ib3R0b206IDA7XG59XG5cbi50ZXh0by1pdGVtIHtcbiAgY29sb3I6ICMwMDAwMDA5OTtcbiAgZm9udC1zaXplOiAxNHB4O1xufSJdfQ== */\";","import { Component, DoCheck, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonList } from '@ionic/angular';\r\n//parametros\r\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { environment } from 'src/environments/environment';\r\n//modal\r\nimport { ModalAjustesPage } from '../modal-ajustes/modal-ajustes.page';\r\n\r\n@Component({\r\n  selector: 'app-familia',\r\n  templateUrl: './familia.page.html',\r\n  styleUrls: ['./familia.page.scss'],\r\n})\r\nexport class FamiliaPage implements OnInit, DoCheck {\r\n  //textColor Directive\r\n  textColor = '#FFFFFF';\r\n  //color\r\n  miColor = '#FF4081';\r\n  //otras variables\r\n  hayInfo = true;\r\n  public usuarioAps;\r\n  public usuarioApsFamilia=[];\r\n  public listadoUsuario=[];\r\n  estaCargando = false;\r\n\r\n  @ViewChild('myList', {read: IonList}) list: IonList;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public utiles: ServicioUtiles,\r\n    public loading: LoadingController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.cargarDatosIniciales();\r\n  }\r\n  ionViewWillLeave() {\r\n    console.log('ionViewWillLeave');  // <- Not in console when leaving\r\n  }\r\n  ngDoCheck() {\r\n    //console.log('check');\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    //this.cargarDatosIniciales();\r\n    //ESTOY VIENDO ESTO, YA QUE ES MUCHA CARGA HACER SIEMPRE LA\r\n    //VALIDACIÓN EN EL DOCHECK, BUSCAR OTRA FORMA, BUSCAR TAMBIEN SACAR SIEMPRE EL COLOR DESDE\r\n    //LA LOCALSTORAGE MI_COLOR Y MI_IMAGEN\r\n    //verificamos el color\r\n    if (localStorage.getItem('MI_COLOR')){\r\n      var colorLocal = localStorage.getItem('MI_COLOR');\r\n      var sessionColor = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (colorLocal != sessionColor.Color){\r\n        //hay que cambiarlo\r\n        console.log('Cambia color de '+ sessionColor.Color + ' a ' + colorLocal);\r\n        localStorage.setItem('MI_COLOR', colorLocal);\r\n        //this.miColor = this.utiles.entregaMiColor();\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        \r\n      }\r\n    }\r\n  }\r\n\r\n  async cargarDatosIniciales(){\r\n    this.listadoUsuario = [];\r\n    //original\r\n/*     let loader = await this.loading.create({\r\n      message: 'Obteniendo...<br>Información del usuario',\r\n      duration: 20000\r\n    }); */\r\n    this.estaCargando = true;\r\n    let loader = await this.loading.create({\r\n      cssClass: 'loading-vacio',\r\n      showBackdrop: false,\r\n      spinner: null,\r\n    });\r\n    \r\n    await loader.present().then(async () => {\r\n      //cargamos mi color\r\n      this.miColor = this.utiles.entregaMiColor();\r\n      //demas cargas\r\n      if (sessionStorage.UsuarioAps) {\r\n        this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n        if (this.usuarioAps) {\r\n          this.usuarioAps.UrlImagen = environment.URL_FOTOS + this.usuarioAps.UrlImagen;\r\n          //this.usuarioAps.Parentezco = 'Yo';\r\n          if (this.usuarioAps.Parentezco && this.usuarioAps.Parentezco.Id > 0){\r\n            if (this.usuarioAps.Parentezco.Nombre.toUpperCase() == 'LA MISMA PERSONA'){\r\n              this.usuarioAps.Parentezco.Nombre = 'Yo';\r\n            }\r\n          }\r\n          //this.usuarioAps.Parentezco = 'Yo';\r\n        }\r\n      }\r\n      else\r\n        this.usuarioAps = { Nombres: '', PrimerApellido: '', SegundoApellido: '', UrlImagen: '' };\r\n\r\n      //manejo de los usuarios de la familia\r\n      if (localStorage.UsuariosFamilia) {\r\n        this.usuarioApsFamilia = JSON.parse(localStorage.UsuariosFamilia);\r\n        if (this.usuarioApsFamilia.length > 0) {\r\n          for (var s in this.usuarioApsFamilia) {\r\n            this.usuarioApsFamilia[s].UrlImagen = environment.URL_FOTOS + this.usuarioApsFamilia[s].UrlImagen;\r\n            if (!(this.usuarioApsFamilia[s].Parentezco && this.usuarioApsFamilia[s].Parentezco.Id > 0)){\r\n              this.usuarioApsFamilia[s].Parentezco.Nombre = 'No informado';\r\n            }\r\n            //this.usuarioApsFamilia[s].Parentezco = \"No informado\";\r\n          }\r\n        }\r\n      }\r\n      //ahora vamos a generar un solo listado de usuarios con los datos que necesitamos\r\n      if (this.usuarioAps){\r\n        this.listadoUsuario.push(this.usuarioAps);\r\n      }\r\n      if (this.usuarioApsFamilia){\r\n        if (this.usuarioApsFamilia.length > 0){\r\n          for (var s in this.usuarioApsFamilia){\r\n            this.listadoUsuario.push(this.usuarioApsFamilia[s]);\r\n          }\r\n        }\r\n      }\r\n      if (this.listadoUsuario.length == 0){\r\n        this.hayInfo = false;\r\n      }\r\n      loader.dismiss();\r\n      this.estaCargando = false;\r\n    });\r\n  }\r\n\r\n  //cambiado por irAjustes\r\n  async openModalAjustes(item){\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalAjustesPage,\r\n        componentProps: {\r\n          'usuario': JSON.stringify(item)\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      this.cargarDatosIniciales();\r\n    });\r\n    return await modal.present();\r\n  }\r\n  irValidacion() {\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        estaAgregandoFamilia: true\r\n      }\r\n    };\r\n    this.navCtrl.navigateRoot(['registro-uno'], navigationExtras);\r\n\r\n  }\r\n  irAjustes(item){\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        usuario: JSON.stringify(item)\r\n      }\r\n    };\r\n    this.navCtrl.navigateRoot(['ajustes-familia'], navigationExtras);\r\n  }\r\n  abrirContactabilidad(item){\r\n    //debemos pasar al usuario \r\n    let query = {\r\n      usuario: null\r\n    };\r\n    query = { usuario: JSON.stringify(item) }\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: query\r\n    };\r\n    this.navCtrl.navigateRoot(['contactabilidad'], navigationExtras);\r\n  }\r\n\r\n}"]}