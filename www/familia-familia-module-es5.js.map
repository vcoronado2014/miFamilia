{"version":3,"sources":["webpack:///src/app/familia/familia.page.html","webpack:///src/app/familia/familia.module.ts","webpack:///src/app/familia/familia.page.scss","webpack:///src/app/familia/familia.page.ts","webpack:///src/directives/text-avatar/color-generator.ts","webpack:///src/directives/text-avatar/index.ts","webpack:///src/directives/text-avatar/text-avatar.module.ts","webpack:///src/directives/text-avatar/text-avatar.scss","webpack:///src/directives/text-avatar/text-avatar.ts"],"names":["FamiliaPageModule","imports","forChild","path","component","declarations","FamiliaPage","navCtrl","toast","modalCtrl","platform","menu","activatedRoute","router","utiles","loading","textColor","miColor","hayInfo","usuarioApsFamilia","listadoUsuario","cargarDatosIniciales","console","log","localStorage","getItem","colorLocal","sessionColor","JSON","parse","sessionStorage","UsuarioAps","Color","setItem","entregaColor","usuarioAps","create","message","duration","loader","present","then","entregaMiColor","UrlImagen","URL_FOTOS","Parentezco","Nombres","PrimerApellido","SegundoApellido","UsuariosFamilia","length","s","push","dismiss","item","componentProps","stringify","modal","onDidDismiss","data","read","selector","template","ColorGenerator","COLORS","str","Math","abs","toNumber","h","i","charCodeAt","TextAvatarModule","exports","providers","TextAvatarDirective","colorGenerator","firstLetter","styles","changes","text","currentValue","color","extractFirstCharacter","backgroundColorHexString","charAt","getColor"],"mappings":"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","file":"familia-familia-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"back-app\\\">\\r\\n  <ion-toolbar [style.--background]=\\\"miColor\\\" mode=\\\"md\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" class=\\\"fcw\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"fcw\\\">Ajustes</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"back-app\\\">\\r\\n  <!-- si no hay registros -->\\r\\n  <div *ngIf=\\\"hayInfo == false\\\" style=\\\"padding-top: 162px; padding-left: 16px; padding-right: 16px; font-size: 30px; color:#BDBDBD; text-align: center;\\\"><p>No hay familiares para mostrar  <br>\\r\\n    <ion-icon name=\\\"information-circle\\\" style=\\\"font-size: 60px;\\\"></ion-icon></p>\\r\\n  </div>\\r\\n  <!-- si hay registros -->\\r\\n  <div *ngIf=\\\"listadoUsuario.length > 0\\\" style=\\\"padding-top: 32px;\\\">\\r\\n      <ion-item *ngFor=\\\"let item of listadoUsuario\\\" (click)=\\\"openModalAjustes(item)\\\">\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <img *ngIf=\\\"item.UrlImagen != ''\\\" src={{item.UrlImagen}}>\\r\\n          <img *ngIf=\\\"item.UrlImagen == ''\\\" src=\\\"../assets/img/no-imagen.jpg\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-row style=\\\"display: block;\\\">\\r\\n          <h3 class=\\\"text-avatar\\\">{{item.Nombres + ' ' + item.ApellidoPaterno + ' ' + item.ApellidoMaterno}}</h3>\\r\\n          <!-- comentado por mientras, hay que ver como sacar el parentezco -->\\r\\n          <p class=\\\"subtext-avatar\\\">{{item.Parentezco}}</p>\\r\\n        </ion-row>\\r\\n      </ion-item>\\r\\n  </div>\\r\\n  <!-- ESQUELETON -->\\r\\n  <div *ngIf=\\\"listadoUsuario.length == 0\\\">\\r\\n    <ion-list>\\r\\n      <ion-item>\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-avatar>\\r\\n        <ion-skeleton-text animated></ion-skeleton-text>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <ion-skeleton-text animated></ion-skeleton-text>\\r\\n        </ion-avatar>\\r\\n        <ion-skeleton-text animated></ion-skeleton-text>\\r\\n      </ion-item>\\r\\n    </ion-list> \\r\\n  </div>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { FamiliaPage } from './familia.page';\r\n\r\nimport { TextAvatarModule } from '../../directives/text-avatar/index'\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TextAvatarModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: FamiliaPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [FamiliaPage]\r\n})\r\nexport class FamiliaPageModule {}\r\n","export default \".text-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.15px;\\n  color: #000000DE;\\n  font-size: 1em;\\n  margin-bottom: 0;\\n}\\n\\n.subtext-avatar {\\n  font-family: \\\"Roboto\\\";\\n  letter-spacing: 0.25px;\\n  color: #00000099;\\n  font-size: 0.875em;\\n  margin-bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmFtaWxpYS9GOlxcYXBwX21pZmFtaWxpYV9naXRcXG1pRmFtaWxpYV9wcmUvc3JjXFxhcHBcXGZhbWlsaWFcXGZhbWlsaWEucGFnZS5zY3NzIiwic3JjL2FwcC9mYW1pbGlhL2ZhbWlsaWEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUJBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FDQ0o7O0FEQ0U7RUFDRSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9mYW1pbGlhL2ZhbWlsaWEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHQtYXZhdGFye1xyXG4gICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDAuMTVweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwREU7XHJcbiAgICBmb250LXNpemU6IDFlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgfVxyXG4gIC5zdWJ0ZXh0LWF2YXRhcntcclxuICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvJztcclxuICAgIGxldHRlci1zcGFjaW5nOiAwLjI1cHg7XHJcbiAgICBjb2xvcjogIzAwMDAwMDk5O1xyXG4gICAgZm9udC1zaXplOiAwLjg3NWVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICB9IiwiLnRleHQtYXZhdGFyIHtcbiAgZm9udC1mYW1pbHk6IFwiUm9ib3RvXCI7XG4gIGxldHRlci1zcGFjaW5nOiAwLjE1cHg7XG4gIGNvbG9yOiAjMDAwMDAwREU7XG4gIGZvbnQtc2l6ZTogMWVtO1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG4uc3VidGV4dC1hdmF0YXIge1xuICBmb250LWZhbWlseTogXCJSb2JvdG9cIjtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMjVweDtcbiAgY29sb3I6ICMwMDAwMDA5OTtcbiAgZm9udC1zaXplOiAwLjg3NWVtO1xuICBtYXJnaW4tYm90dG9tOiAwO1xufSJdfQ== */\";","import { Component, DoCheck, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController, Platform, ModalController, LoadingController, MenuController, IonList } from '@ionic/angular';\r\n//parametros\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n//SERVICIOS\r\nimport { ServicioUtiles } from '../../app/services/ServicioUtiles';\r\nimport { environment } from 'src/environments/environment';\r\n//modal\r\nimport { ModalAjustesPage } from '../modal-ajustes/modal-ajustes.page';\r\n\r\n@Component({\r\n  selector: 'app-familia',\r\n  templateUrl: './familia.page.html',\r\n  styleUrls: ['./familia.page.scss'],\r\n})\r\nexport class FamiliaPage implements OnInit, DoCheck {\r\n  //textColor Directive\r\n  textColor = '#FFFFFF';\r\n  //color\r\n  miColor = '#FF4081';\r\n  //otras variables\r\n  hayInfo = true;\r\n  public usuarioAps;\r\n  public usuarioApsFamilia=[];\r\n  public listadoUsuario=[];\r\n\r\n  @ViewChild('myList', {read: IonList}) list: IonList;\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public toast: ToastController,\r\n    public modalCtrl: ModalController,\r\n    public platform: Platform,\r\n    public menu:MenuController,\r\n    public activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    public utiles: ServicioUtiles,\r\n    public loading: LoadingController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.cargarDatosIniciales();\r\n  }\r\n  ionViewWillLeave() {\r\n    console.log('ionViewWillLeave');  // <- Not in console when leaving\r\n  }\r\n  ngDoCheck() {\r\n    //console.log('check');\r\n    //this.miColor = this.utiles.entregaMiColor();\r\n    //this.cargarDatosIniciales();\r\n    //ESTOY VIENDO ESTO, YA QUE ES MUCHA CARGA HACER SIEMPRE LA\r\n    //VALIDACIÓN EN EL DOCHECK, BUSCAR OTRA FORMA, BUSCAR TAMBIEN SACAR SIEMPRE EL COLOR DESDE\r\n    //LA LOCALSTORAGE MI_COLOR Y MI_IMAGEN\r\n    //verificamos el color\r\n    if (localStorage.getItem('MI_COLOR')){\r\n      var colorLocal = localStorage.getItem('MI_COLOR');\r\n      var sessionColor = JSON.parse(sessionStorage.UsuarioAps);\r\n      if (colorLocal != sessionColor.Color){\r\n        //hay que cambiarlo\r\n        console.log('Cambia color de '+ sessionColor.Color + ' a ' + colorLocal);\r\n        localStorage.setItem('MI_COLOR', colorLocal);\r\n        //this.miColor = this.utiles.entregaMiColor();\r\n        this.miColor = this.utiles.entregaColor(this.usuarioAps);\r\n        \r\n      }\r\n    }\r\n  }\r\n\r\n  async cargarDatosIniciales(){\r\n    this.listadoUsuario = [];\r\n    let loader = await this.loading.create({\r\n      message: 'Obteniendo...<br>Información del usuario',\r\n      duration: 20000\r\n    });\r\n\r\n    await loader.present().then(async () => {\r\n      //cargamos mi color\r\n      this.miColor = this.utiles.entregaMiColor();\r\n      //demas cargas\r\n      if (sessionStorage.UsuarioAps) {\r\n        this.usuarioAps = JSON.parse(sessionStorage.UsuarioAps);\r\n        if (this.usuarioAps) {\r\n          this.usuarioAps.UrlImagen = environment.URL_FOTOS + this.usuarioAps.UrlImagen;\r\n          this.usuarioAps.Parentezco = 'Yo';\r\n        }\r\n      }\r\n      else\r\n        this.usuarioAps = { Nombres: '', PrimerApellido: '', SegundoApellido: '', UrlImagen: '' };\r\n\r\n      //manejo de los usuarios de la familia\r\n      if (sessionStorage.UsuariosFamilia) {\r\n        this.usuarioApsFamilia = JSON.parse(sessionStorage.UsuariosFamilia);\r\n        if (this.usuarioApsFamilia.length > 0) {\r\n          for (var s in this.usuarioApsFamilia) {\r\n            this.usuarioApsFamilia[s].UrlImagen = environment.URL_FOTOS + this.usuarioApsFamilia[s].UrlImagen;\r\n            this.usuarioApsFamilia[s].Parentezco = \"No informado\";\r\n          }\r\n        }\r\n      }\r\n      //ahora vamos a generar un solo listado de usuarios con los datos que necesitamos\r\n      if (this.usuarioAps){\r\n        this.listadoUsuario.push(this.usuarioAps);\r\n      }\r\n      if (this.usuarioApsFamilia){\r\n        if (this.usuarioApsFamilia.length > 0){\r\n          for (var s in this.usuarioApsFamilia){\r\n            this.listadoUsuario.push(this.usuarioApsFamilia[s]);\r\n          }\r\n        }\r\n      }\r\n      if (this.listadoUsuario.length == 0){\r\n        this.hayInfo = false;\r\n      }\r\n      loader.dismiss();\r\n    });\r\n  }\r\n\r\n  async openModalAjustes(item){\r\n    const modal = await this.modalCtrl.create(\r\n      {\r\n        component: ModalAjustesPage,\r\n        componentProps: {\r\n          'usuario': JSON.stringify(item)\r\n        }\r\n      }\r\n    );\r\n    modal.onDidDismiss().then((data) => {\r\n      this.cargarDatosIniciales();\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ColorGenerator {\r\n  \r\n  constructor() {\r\n    console.log('created');\r\n  }\r\n\r\n  COLORS: any[] = ['#e57373', '#f06292', '#ba68c8', '#9575cd', '#7986cb', '#64b5f6',\r\n    '#4fc3f7', '#4dd0e1', '#4db6ac', '#81c784', '#aed581', '#ff8a65', '#d4e157', '#673ab7',\r\n    '#ffb74d', '#a1887f', '#90a4ae'];\r\n\r\n  public getColor(str: string): string {\r\n    return this.COLORS[Math.abs(this.toNumber(str)) % this.COLORS.length];\r\n  }\r\n\r\n  private toNumber(str: string): number {\r\n    let h = 0;\r\n\r\n    for (let i = 0; i < str.length; i++) {\r\n      h = 31 * h + str.charCodeAt(i);\r\n      h |= 0; // Convert to 32bit integer\r\n    }\r\n    \r\n    return h;\r\n  };\r\n}\r\n\r\n","export * from './text-avatar.module';\r\n","import { NgModule } from \"@angular/core\";\r\nimport { TextAvatarDirective } from './text-avatar';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ColorGenerator } from './color-generator';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TextAvatarDirective],\r\n  exports: [TextAvatarDirective],\r\n  providers: [ColorGenerator]\r\n})\r\nexport class TextAvatarModule {}\r\n","export default \".u-text-avatar {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100%;\\n  height: 100%;\\n  max-width: 46px;\\n  max-height: 46px;\\n  border-radius: 500px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9kaXJlY3RpdmVzL3RleHQtYXZhdGFyL0Y6XFxhcHBfbWlmYW1pbGlhX2dpdFxcbWlGYW1pbGlhX3ByZS9zcmNcXGRpcmVjdGl2ZXNcXHRleHQtYXZhdGFyXFx0ZXh0LWF2YXRhci5zY3NzIiwic3JjL2RpcmVjdGl2ZXMvdGV4dC1hdmF0YXIvdGV4dC1hdmF0YXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBRUEsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxvQkFBQTtBQ0FGIiwiZmlsZSI6InNyYy9kaXJlY3RpdmVzL3RleHQtYXZhdGFyL3RleHQtYXZhdGFyLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudS10ZXh0LWF2YXRhciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIC8vIGJhY2tncm91bmQtY29sb3I6IGFudGlxdWV3aGl0ZTtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgbWF4LXdpZHRoOiA0NnB4O1xyXG4gIG1heC1oZWlnaHQ6IDQ2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAwcHg7XHJcbn0iLCIudS10ZXh0LWF2YXRhciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDQ2cHg7XG4gIG1heC1oZWlnaHQ6IDQ2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwMHB4O1xufSJdfQ== */\";","import { Input, SimpleChanges, Component, ViewChild } from '@angular/core';\r\nimport { ColorGenerator } from \"./color-generator\";\r\n\r\n@Component({\r\n  selector: 'text-avatar',\r\n  template: `\r\n    <div class=\"u-text-avatar\" [ngStyle]=\"styles\">{{ firstLetter }}</div>\r\n  `,\r\n  styleUrls: ['./text-avatar.scss']\r\n})\r\nexport class TextAvatarDirective {\r\n  @Input() text: string;\r\n  @Input() color: string;\r\n  @Input() textColor: string;\r\n  \r\n  public firstLetter = \"\";\r\n  public styles = {\r\n    'background-color': \"#fff\",\r\n    'color': \"#000\"\r\n  };\r\n  \r\n  constructor(private colorGenerator: ColorGenerator) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    let text = changes['text'] ? changes['text'].currentValue : null;\r\n    let color = changes['color'] ? changes['color'].currentValue : null;\r\n    let textColor = changes['textColor'] ? changes['textColor'].currentValue : this.styles.color;\r\n\r\n    this.firstLetter = this.extractFirstCharacter(text);\r\n\r\n    this.styles = {...this.styles, 'background-color': this.backgroundColorHexString(color, text), 'color': textColor}\r\n  }\r\n\r\n  private extractFirstCharacter(text: string): string {\r\n    return text.charAt(0) || '';\r\n  }\r\n\r\n  private backgroundColorHexString(color: string, text: string): string {\r\n    return color || this.colorGenerator.getColor(text);\r\n  }\r\n}"]}